import{j as t}from"./index-BeCuPwBW.js";import{b as f,t as o,h as d}from"./App-D2-Ha4M8.js";import{I as h}from"./Item-CIJNBRdS.js";import{u,a as w}from"./storageHooks-CwwqM7_V.js";import{u as b}from"./index-4_FsjE0m.js";function j({styled:n}){const{completedAwards:s,balance:i,awardsDay:x}=u(),c=w();return t.jsx(t.Fragment,{children:f.map(({icon:m,id:l,price:a,title:r,discount:e},p)=>{if(x.includes(l)&&!s.includes(l))return t.jsx(h,{style:{width:n?"calc(50% - 2px)":""},icon:m,title:r,oldPrice:"-"+Math.abs(a).toString(),discount:"-"+Math.round((1-e)*100)+"%",price:"-"+Math.abs(e*a).toString(),onButtonClick:()=>{i>=e*Math.abs(a)?(o.success(`Покупочка оформлена! -${e*Math.abs(a)}`,{classNames:{toast:"flex justify-center !w-fit relative left-[50%] translate-x-[-50%] ",title:"text-base ml-2 text-nowrap"}}),c(d({balance:i-e*Math.abs(a),completedAwards:[...s,l]}))):o.warning("Упс! Не хватает звёздочек!",{classNames:{toast:"flex justify-center !w-fit relative left-[50%] translate-x-[-50%] ",title:"text-base ml-2 text-nowrap"}})}},p)})})}function N(){const{completedAwards:n,balance:s,awardsDay:i}=u(),x=w(),c=!b("(min-width: 768px)");return t.jsx(t.Fragment,{children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl mb-6",children:t.jsx("b",{children:"Награды"})}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(j,{styled:!c}),f.map(({icon:m,title:l,price:a,id:r},e)=>{if(!i.includes(r)&&!n.includes(r))return t.jsx(h,{style:{width:c?"":"calc(50% - 2px)"},icon:m,title:l,price:"-"+Math.abs(a).toString(),onButtonClick:()=>{s>=Math.abs(a)?(o.success(`Покупочка оформлена! -${Math.abs(a)}`,{classNames:{toast:"flex justify-center !w-fit relative left-[50%] translate-x-[-50%] ",title:"text-base ml-2 text-nowrap"}}),x(d({balance:s-Math.abs(a),completedAwards:[...n,r]}))):o.warning("Упс! Не хватает звёздочек!",{classNames:{toast:"flex justify-center !w-fit relative left-[50%] translate-x-[-50%] ",title:"text-base ml-2 text-nowrap"}})}},e)})]})]})})}export{j as AwardsDay,N as default};
