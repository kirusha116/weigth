const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InputString-mvMgQEHI.js","assets/index-CQpZQV_-.js","assets/index-B3MVZZcz.css","assets/input-BL6f6-Fw.js","assets/utils-DmUHSM0z.js","assets/label-DflTMXU5.js","assets/index-SHQptlh3.js","assets/App-Da1xnnNH.js","assets/index.esm-BGQRy7-0.js","assets/successToast-D8uL1wNK.js","assets/InputWeight-CumhRepD.js","assets/InputCallories-Cvs6pDZH.js","assets/FormButtons-Kl8NHGZN.js","assets/button-CGzcp-Hx.js"])))=>i.map(i=>d[i]);
import{m as b,e as n,l as u,r as i,i as j,j as s,n as E,h as C,_ as g}from"./index-CQpZQV_-.js";import{u as D}from"./index.esm-BGQRy7-0.js";import{a as I,u as O}from"./App-Da1xnnNH.js";import{s as d}from"./successToast-D8uL1wNK.js";const e={name:"name",startWeight:"startWeight",targetWeight:"targetWeight",maxCallories:"maxCallories"},R={[e.name]:"Имя",[e.startWeight]:"Начальный вес",[e.targetWeight]:"Цель",[e.maxCallories]:"Допустимое количество каллорий в день"};function N(r,m){const t={};return r.startWeight&&(t.startWeight=Number(r.startWeight)),r.targetWeight&&(t.targetWeight=Number(r.targetWeight)),r.maxCallories&&(t.maxCallories=Number(r.maxCallories)),!m&&t.startWeight&&(t.startWeightDate=b(),t.currentWeightDate=t.startWeightDate,t.currentWeight=t.startWeight),t}const v=i.lazy(()=>g(()=>import("./InputString-mvMgQEHI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),c=i.lazy(()=>g(()=>import("./InputWeight-CumhRepD.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]))),P=i.lazy(()=>g(()=>import("./InputCallories-Cvs6pDZH.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9]))),F=i.lazy(()=>g(()=>import("./FormButtons-Kl8NHGZN.js"),__vite__mapDeps([12,1,2,13,4])));function T(){const r=I(),m=n.currentUser?.displayName||localStorage.getItem(u),{startWeight:t,targetWeight:h,maxCallories:W,startWeightDate:_}=O(),{register:o,handleSubmit:p,reset:f,setValue:l}=D({defaultValues:{name:m,startWeight:t?.toString(),targetWeight:h?.toString(),maxCallories:W?.toString()}}),x=async a=>{n.currentUser?n.currentUser?.displayName!==a.name&&await E(n.currentUser,{displayName:a.name}):localStorage.getItem(u)!==a.name&&localStorage.setItem(u,a.name);const S=Object.fromEntries(Object.entries(a).filter(y=>y[0]!=="name"));r(C(N(S,_))),d("Сохранено!")};return i.useEffect(()=>{r(j())},[r]),s.jsxs("form",{onSubmit:p(x),children:[s.jsx(v,{settingsKey:e.name,register:o(e.name)}),s.jsx(c,{settingsKey:e.startWeight,register:o(e.startWeight),setValue:l}),s.jsx(c,{settingsKey:e.targetWeight,register:o(e.targetWeight),setValue:l}),s.jsx(P,{settingsKey:e.maxCallories,register:o(e.maxCallories),setValue:l}),s.jsx(F,{reset:f})]})}const K=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));export{K as F,R as s};
