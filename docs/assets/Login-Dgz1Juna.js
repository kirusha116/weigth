import{r as x,j as a}from"./index-BeCuPwBW.js";import{c as b,B as n}from"./storageHooks-CwwqM7_V.js";import{P as p,D as h,b as g,c as j,d as w,f as D,g as N}from"./dialog-ZY2ljU6B.js";import{I as c}from"./input-BTxUv2af.js";import{u as v}from"./index.esm-Dbxk_ohI.js";import{t as k}from"./App-D2-Ha4M8.js";import{g as y,a as E,c as P}from"./index-9ccb475d-CaR4NyNH.js";var A="Label",d=x.forwardRef((s,t)=>a.jsx(p.label,{...s,ref:t,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(s.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));d.displayName=A;var L=d;function m({className:s,...t}){return a.jsx(L,{"data-slot":"label",className:b("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}function W({isOpen:s,onOpenChange:t}){const e=y(),r=({email:i,password:l})=>E(e,i,l).then().catch(f=>{switch(f.code){case"auth/invalid-credential":P(e,i,l).then().catch();break;case"auth/weak-password":k.warning("Неверный пароль",{classNames:{toast:"flex justify-center !w-fit relative left-[50%] translate-x-[-50%] ",title:"text-base ml-2 text-nowrap"}});break}}),{register:o,handleSubmit:u}=v();return a.jsx(h,{open:s,onOpenChange:t,children:a.jsx(g,{showCloseButton:!1,className:"sm:max-w-[425px]",children:a.jsxs("form",{onSubmit:u(r),children:[a.jsx(j,{className:"mb-7",children:a.jsx(w,{children:"Вход по почте"})}),a.jsx(m,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(c,{...o("email"),className:"mb-5"}),a.jsx(m,{className:"mb-2",children:"Пароль"}),a.jsx(c,{...o("password"),className:"mb-5"}),a.jsxs(D,{children:[a.jsx(N,{children:a.jsx(n,{variant:"outline",onClick:()=>t(!1),children:"Отмена"})}),a.jsx(n,{type:"submit",variant:"rose",onClick:()=>t(!1),children:"Войти"})]})]})})})}export{W as default};
