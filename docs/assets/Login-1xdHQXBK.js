import{r as b,j as a,H as g,h as j,i as w,k as D,l as S,b as n}from"./index-B7g3Y2Ts.js";import{D as k,a as N,b as v,c as F,d as H}from"./dialog-NFk_BR0C.js";import{I as m}from"./input-C9SzWskT.js";import{u as A}from"./index.esm-CRWZRLqH.js";import{L as c}from"./label-BCFfaCLJ.js";import{B as E}from"./button-BFqk8_vK.js";import{w as o}from"./warningToast-BZV8-JPv.js";import{s as I}from"./successToast-OYGiiXr5.js";import{u as B,a as L}from"./App-DCPpgGMh.js";import"./utils-DyC6TQ_j.js";import"./index-B9wyLf0G.js";import"./index-BE8ko2JR.js";import"./x-D72fNhSo.js";import"./createLucideIcon-Bmls-0ck.js";import"./index-QNX6g1UE.js";function V(){const[p,t]=b.useState(!1),u=B(),d=L(),r=async()=>{let s=0,e=null;for(;e===null&&s<5;)e=await D(),s++;console.log(e),e||d(S(u)),t(!1),I("Успешно!")},h=({email:s,password:e})=>{t(!0),j(n,s,e).then(r).catch(l=>{switch(l.code){case"auth/invalid-credential":w(n,s,e).then(r).catch(x=>{t(!1),o(x.code)});break;case"auth/weak-password":t(!1),o("Неверный пароль");break;case"auth/invalid-email":t(!1),o("Неверный email");break;default:t(!1),o(l.code);break}})},{register:i,handleSubmit:f}=A();return a.jsxs(a.Fragment,{children:[a.jsx(k,{open:!0,children:a.jsx(N,{showCloseButton:!1,className:"sm:max-w-[425px] z-200",onOpenAutoFocus:s=>s.preventDefault(),children:a.jsxs("form",{onSubmit:f(h),children:[a.jsx(v,{className:"mb-7",children:a.jsx(F,{children:"Вход по почте"})}),a.jsx(c,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(m,{...i("email"),className:"mb-5"}),a.jsx(c,{className:"mb-2",children:"Пароль"}),a.jsx(m,{...i("password"),className:"mb-5"}),a.jsx(H,{children:a.jsx(E,{type:"submit",variant:"rose",children:"Войти"})})]})})}),p&&a.jsx(g,{})]})}export{V as default};
