import{r as b,j as a,H as g,h as j,i as w,k as D,l as S,b as n}from"./index-CRHURxNg.js";import{D as k,a as N,b as v,c as F,d as H}from"./dialog-DCRDLYco.js";import{I as m}from"./input-Mo66ZsaR.js";import{u as A}from"./index.esm-D5mjGVyz.js";import{L as c}from"./label-Dna2eV-w.js";import{B as E}from"./button-Dt_xnNCo.js";import{w as o}from"./warningToast-BOpYv1Lk.js";import{s as I}from"./successToast-BNjF8uGZ.js";import{u as B,a as L}from"./App-C_Gyehy4.js";import"./utils-DNQnaesA.js";import"./index-DvUBrxWO.js";import"./index-03Z_0AtP.js";import"./x-CgrYnuwk.js";import"./createLucideIcon-px0Z6lCh.js";import"./index-D7ykTdYS.js";function V(){const[p,t]=b.useState(!1),u=B(),d=L(),r=async()=>{let s=0,e=null;for(;e===null&&s<5;)e=await D(),s++;console.log(e),e||d(S(u)),t(!1),I("Успешно!")},h=({email:s,password:e})=>{t(!0),j(n,s,e).then(r).catch(l=>{switch(l.code){case"auth/invalid-credential":w(n,s,e).then(r).catch(x=>{t(!1),o(x.code)});break;case"auth/weak-password":t(!1),o("Неверный пароль");break;case"auth/invalid-email":t(!1),o("Неверный email");break;default:t(!1),o(l.code);break}})},{register:i,handleSubmit:f}=A();return a.jsxs(a.Fragment,{children:[a.jsx(k,{open:!0,children:a.jsx(N,{showCloseButton:!1,className:"sm:max-w-[425px] z-200",onOpenAutoFocus:s=>s.preventDefault(),children:a.jsxs("form",{onSubmit:f(h),children:[a.jsx(v,{className:"mb-7",children:a.jsx(F,{children:"Вход по почте"})}),a.jsx(c,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(m,{...i("email"),className:"mb-5"}),a.jsx(c,{className:"mb-2",children:"Пароль"}),a.jsx(m,{...i("password"),className:"mb-5"}),a.jsx(H,{children:a.jsx(E,{type:"submit",variant:"rose",children:"Войти"})})]})})}),p&&a.jsx(g,{})]})}export{V as default};
