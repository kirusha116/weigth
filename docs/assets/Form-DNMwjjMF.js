const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InputString-DA_YEFDa.js","assets/index-B7g3Y2Ts.js","assets/index-DfnItmcp.css","assets/input-C9SzWskT.js","assets/utils-DyC6TQ_j.js","assets/label-BCFfaCLJ.js","assets/index-B9wyLf0G.js","assets/index-BE8ko2JR.js","assets/index.esm-CRWZRLqH.js","assets/App-DCPpgGMh.js","assets/successToast-OYGiiXr5.js","assets/index-QNX6g1UE.js","assets/InputWeight-C6uMbMD2.js","assets/InputCallories-SMtDLlMn.js","assets/FormButtons-x1DEKe2D.js","assets/button-BFqk8_vK.js"])))=>i.map(i=>d[i]);
import{y as b,b as l,j as s,r as i,z as j,l as S,_ as o}from"./index-B7g3Y2Ts.js";import{u as C}from"./index.esm-CRWZRLqH.js";import{a as E,u as d}from"./App-DCPpgGMh.js";import{s as D}from"./successToast-OYGiiXr5.js";const e={name:"name",startWeight:"startWeight",targetWeight:"targetWeight",maxCallories:"maxCallories"},A={[e.name]:"Имя",[e.startWeight]:"Начальный вес",[e.targetWeight]:"Цель",[e.maxCallories]:"Допустимое количество каллорий в день"};function O(r,n){const t={};return r.startWeight&&(t.startWeight=Number(r.startWeight)),r.targetWeight&&(t.targetWeight=Number(r.targetWeight)),r.maxCallories&&(t.maxCallories=Number(r.maxCallories)),!n&&t.startWeight&&(t.startWeightDate=b(),t.currentWeightDate=t.startWeightDate,t.currentWeight=t.startWeight),t}const v=i.lazy(()=>o(()=>import("./InputString-DA_YEFDa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),u=i.lazy(()=>o(()=>import("./InputWeight-C6uMbMD2.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,11]))),I=i.lazy(()=>o(()=>import("./InputCallories-SMtDLlMn.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11]))),N=i.lazy(()=>o(()=>import("./FormButtons-x1DEKe2D.js"),__vite__mapDeps([14,1,2,15,4])));function P(){const r=E(),n=l.currentUser?.displayName,{startWeight:t,targetWeight:h,maxCallories:c,startWeightDate:W}=d(),{register:a,handleSubmit:_,reset:p,setValue:g}=C({defaultValues:{name:n,startWeight:t?.toString(),targetWeight:h?.toString(),maxCallories:c?.toString()}}),x=async m=>{l.currentUser?.displayName!==m.name&&await j(l.currentUser,{displayName:m.name});const f=Object.fromEntries(Object.entries(m).filter(y=>y[0]!=="name"));r(S(O(f,W))),D("Сохранено!")};return s.jsxs("form",{onSubmit:_(x),children:[s.jsx(v,{settingsKey:e.name,register:a(e.name)}),s.jsx(u,{settingsKey:e.startWeight,register:a(e.startWeight),setValue:g}),s.jsx(u,{settingsKey:e.targetWeight,register:a(e.targetWeight),setValue:g}),s.jsx(I,{settingsKey:e.maxCallories,register:a(e.maxCallories),setValue:g}),s.jsx(N,{reset:p})]})}const L=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));export{L as F,A as s};
