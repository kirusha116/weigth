function FI(s,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();const HI="modulepreload",GI=function(s){return"/weight/"+s},gT={},KI=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(t.map(g=>{if(g=GI(g),g in gT)return;gT[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":HI,E||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),E)return new Promise((P,H)=>{w.addEventListener("load",P),w.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var F4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QI(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Np={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function YI(){if(yT)return yu;yT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var _T;function XI(){return _T||(_T=1,Np.exports=YI()),Np.exports}var Ne=XI(),Vp={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function $I(){if(vT)return be;vT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Y={};function ne(O,J,le){this.props=O,this.context=J,this.refs=Y,this.updater=le||H}ne.prototype.isReactComponent={},ne.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},ne.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ae(){}ae.prototype=ne.prototype;function Z(O,J,le){this.props=O,this.context=J,this.refs=Y,this.updater=le||H}var ue=Z.prototype=new ae;ue.constructor=Z,W(ue,ne.prototype),ue.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function D(O,J,le){var he=le.ref;return{$$typeof:s,type:O,key:J,ref:he!==void 0?he:null,props:le}}function M(O,J){return D(O.type,J,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return J[le]})}var R=/\/+/g;function at(O,J){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):J.toString(36)}function Mt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ce,ce):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,J,le,he,Te){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case s:case e:Ue=!0;break;case E:return Ue=O._init,K(Ue(O._payload),J,le,he,Te)}}if(Ue)return Te=Te(O),Ue=he===""?"."+at(O,0):he,re(Te)?(le="",Ue!=null&&(le=Ue.replace(R,"$&/")+"/"),K(Te,J,le,"",function(Rs){return Rs})):Te!=null&&(V(Te)&&(Te=M(Te,le+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Ue)),J.push(Te)),1;Ue=0;var xt=he===""?".":he+":";if(re(O))for(var ot=0;ot<O.length;ot++)he=O[ot],Re=xt+at(he,ot),Ue+=K(he,J,le,Re,Te);else if(ot=P(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(he=O.next()).done;)he=he.value,Re=xt+at(he,ot++),Ue+=K(he,J,le,Re,Te);else if(Re==="object"){if(typeof O.then=="function")return K(Mt(O),J,le,he,Te);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(O,J,le){if(O==null)return O;var he=[],Te=0;return K(O,he,"","",function(Re){return J.call(le,Re,Te++)}),he}function _e(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var Be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:oe,forEach:function(O,J,le){oe(O,function(){J.apply(this,arguments)},le)},count:function(O){var J=0;return oe(O,function(){J++}),J},toArray:function(O){return oe(O,function(J){return J})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return be.Activity=T,be.Children=Ke,be.Component=ne,be.Fragment=t,be.Profiler=o,be.PureComponent=Z,be.StrictMode=r,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(O,J,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=W({},O.props),Te=O.key;if(J!=null)for(Re in J.key!==void 0&&(Te=""+J.key),J)!b.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(he[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)he.children=le;else if(1<Re){for(var Ue=Array(Re),xt=0;xt<Re;xt++)Ue[xt]=arguments[xt+2];he.children=Ue}return D(O.type,Te,he)},be.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},be.createElement=function(O,J,le){var he,Te={},Re=null;if(J!=null)for(he in J.key!==void 0&&(Re=""+J.key),J)b.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=J[he]);var Ue=arguments.length-2;if(Ue===1)Te.children=le;else if(1<Ue){for(var xt=Array(Ue),ot=0;ot<Ue;ot++)xt[ot]=arguments[ot+2];Te.children=xt}if(O&&O.defaultProps)for(he in Ue=O.defaultProps,Ue)Te[he]===void 0&&(Te[he]=Ue[he]);return D(O,Re,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=V,be.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:_e}},be.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},be.startTransition=function(O){var J=I.T,le={};I.T=le;try{var he=O(),Te=I.S;Te!==null&&Te(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ce,Be)}catch(Re){Be(Re)}finally{J!==null&&le.types!==null&&(J.types=le.types),I.T=J}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(O){return I.H.use(O)},be.useActionState=function(O,J,le){return I.H.useActionState(O,J,le)},be.useCallback=function(O,J){return I.H.useCallback(O,J)},be.useContext=function(O){return I.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,J){return I.H.useDeferredValue(O,J)},be.useEffect=function(O,J){return I.H.useEffect(O,J)},be.useEffectEvent=function(O){return I.H.useEffectEvent(O)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(O,J,le){return I.H.useImperativeHandle(O,J,le)},be.useInsertionEffect=function(O,J){return I.H.useInsertionEffect(O,J)},be.useLayoutEffect=function(O,J){return I.H.useLayoutEffect(O,J)},be.useMemo=function(O,J){return I.H.useMemo(O,J)},be.useOptimistic=function(O,J){return I.H.useOptimistic(O,J)},be.useReducer=function(O,J,le){return I.H.useReducer(O,J,le)},be.useRef=function(O){return I.H.useRef(O)},be.useState=function(O){return I.H.useState(O)},be.useSyncExternalStore=function(O,J,le){return I.H.useSyncExternalStore(O,J,le)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var ET;function rd(){return ET||(ET=1,Vp.exports=$I()),Vp.exports}var dt=rd();const JI=QI(dt),H4=FI({__proto__:null,default:JI},[dt]);var Op={exports:{}},_u={},Mp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function ZI(){return TT||(TT=1,(function(s){function e(K,oe){var _e=K.length;K.push(oe);e:for(;0<_e;){var Be=_e-1>>>1,Ke=K[Be];if(0<o(Ke,oe))K[Be]=oe,K[_e]=Ke,_e=Be;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],_e=K.pop();if(_e!==oe){K[0]=_e;e:for(var Be=0,Ke=K.length,O=Ke>>>1;Be<O;){var J=2*(Be+1)-1,le=K[J],he=J+1,Te=K[he];if(0>o(le,_e))he<Ke&&0>o(Te,le)?(K[Be]=Te,K[he]=_e,Be=he):(K[Be]=le,K[J]=_e,Be=J);else if(he<Ke&&0>o(Te,_e))K[Be]=Te,K[he]=_e,Be=he;else break e}}return oe}function o(K,oe){var _e=K.sortIndex-oe.sortIndex;return _e!==0?_e:K.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var p=[],g=[],E=1,T=null,w=3,P=!1,H=!1,W=!1,Y=!1,ne=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ue(K){for(var oe=t(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=K)r(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function re(K){if(W=!1,ue(K),!H)if(t(p)!==null)H=!0,ce||(ce=!0,k());else{var oe=t(g);oe!==null&&Mt(re,oe.startTime-K)}}var ce=!1,I=-1,b=5,D=-1;function M(){return Y?!0:!(s.unstable_now()-D<b)}function V(){if(Y=!1,ce){var K=s.unstable_now();D=K;var oe=!0;try{e:{H=!1,W&&(W=!1,ae(I),I=-1),P=!0;var _e=w;try{t:{for(ue(K),T=t(p);T!==null&&!(T.expirationTime>K&&M());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,w=T.priorityLevel;var Ke=Be(T.expirationTime<=K);if(K=s.unstable_now(),typeof Ke=="function"){T.callback=Ke,ue(K),oe=!0;break t}T===t(p)&&r(p),ue(K)}else r(p);T=t(p)}if(T!==null)oe=!0;else{var O=t(g);O!==null&&Mt(re,O.startTime-K),oe=!1}}break e}finally{T=null,w=_e,P=!1}oe=void 0}}finally{oe?k():ce=!1}}}var k;if(typeof Z=="function")k=function(){Z(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=V,k=function(){at.postMessage(null)}}else k=function(){ne(V,0)};function Mt(K,oe){I=ne(function(){K(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(K){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var _e=w;w=oe;try{return K()}finally{w=_e}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var _e=w;w=K;try{return oe()}finally{w=_e}},s.unstable_scheduleCallback=function(K,oe,_e){var Be=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Be+_e:Be):_e=Be,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=_e+Ke,K={id:E++,callback:oe,priorityLevel:K,startTime:_e,expirationTime:Ke,sortIndex:-1},_e>Be?(K.sortIndex=_e,e(g,K),t(p)===null&&K===t(g)&&(W?(ae(I),I=-1):W=!0,Mt(re,_e-Be))):(K.sortIndex=Ke,e(p,K),H||P||(H=!0,ce||(ce=!0,k()))),K},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(K){var oe=w;return function(){var _e=w;w=oe;try{return K.apply(this,arguments)}finally{w=_e}}}})(xp)),xp}var AT;function WI(){return AT||(AT=1,Mp.exports=ZI()),Mp.exports}var Pp={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function eR(){if(ST)return Zt;ST=1;var s=rd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=c.T,E=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=E,r.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:P}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Zt.requestFormReset=function(p){r.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var bT;function tR(){if(bT)return Pp.exports;bT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pp.exports=eR(),Pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function nR(){if(wT)return _u;wT=1;var s=WI(),e=rd(),t=tR();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function E(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=E(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function at(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case ne:return"Profiler";case Y:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case H:return"Portal";case Z:return n.displayName||"Context";case ae:return(n._context.displayName||"Context")+".Consumer";case ue:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:at(n.type)||"Memo";case b:i=n._payload,n=n._init;try{return at(n(i))}catch{}}return null}var Mt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function O(n){return{current:n}}function J(n){0>Ke||(n.current=Be[Ke],Be[Ke]=null,Ke--)}function le(n,i){Ke++,Be[Ke]=n.current,n.current=i}var he=O(null),Te=O(null),Re=O(null),Ue=O(null);function xt(n,i){switch(le(Re,i),le(Te,n),le(he,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?zE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=zE(i),n=BE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(he),le(he,n)}function ot(){J(he),J(Te),J(Re)}function Rs(n){n.memoizedState!==null&&le(Ue,n);var i=he.current,a=BE(i,n.type);i!==a&&(le(Te,n),le(he,a))}function Pa(n){Te.current===n&&(J(he),J(Te)),Ue.current===n&&(J(Ue),du._currentValue=_e)}var ka,La;function mi(n){if(ka===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",La=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+n+La}var dl=!1;function Cs(n,i){if(!n||dl)return"";dl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(n,[],$)}else{try{$.call()}catch(F){q=F}n.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var C=_.split(`
`),B=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var G=`
`+C[l].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=l&&0<=f);break}}}finally{dl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?mi(a):""}function ml(n,i){switch(n.tag){case 26:case 27:case 5:return mi(n.type);case 16:return mi("Lazy");case 13:return n.child!==i&&i!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Cs(n.type,!1);case 11:return Cs(n.type.render,!1);case 1:return Cs(n.type,!0);case 31:return mi("Activity");default:return""}}function pl(n){try{var i="",a=null;do i+=ml(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Pt=s.unstable_scheduleCallback,Sr=s.unstable_cancelCallback,Od=s.unstable_shouldYield,Ac=s.unstable_requestPaint,rn=s.unstable_now,Ds=s.unstable_getCurrentPriorityLevel,gl=s.unstable_ImmediatePriority,yl=s.unstable_UserBlockingPriority,br=s.unstable_NormalPriority,Md=s.unstable_LowPriority,Sc=s.unstable_IdlePriority,bc=s.log,wc=s.unstable_setDisableYieldValue,Jn=null,Ht=null;function On(n){if(typeof bc=="function"&&wc(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Jn,n)}catch{}}var yt=Math.clz32?Math.clz32:Rc,Ic=Math.log,Ua=Math.LN2;function Rc(n){return n>>>=0,n===0?32:31-(Ic(n)/Ua|0)|0}var pi=256,Ns=262144,At=4194304;function gi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function yi(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=gi(l):(_&=A,_!==0?f=gi(_):a||(a=A&~n,a!==0&&(f=gi(a))))):(A=l&~d,A!==0?f=gi(A):_!==0?f=gi(_):a||(a=l&~n,a!==0&&(f=gi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Zn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function xd(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var n=At;return At<<=1,(At&62914560)===0&&(At=4194304),n}function _i(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Vs(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Pd(n,i,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,C=n.expirationTimes,B=n.hiddenUpdates;for(a=_&~a;0<a;){var G=31-yt(a),$=1<<G;A[G]=0,C[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Os(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function Os(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-yt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function _l(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-yt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function vl(n,i){var a=i&-i;return a=(a&42)!==0?1:Ms(a),(a&(n.suspendedLanes|i))!==0?0:a}function Ms(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Hi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dc(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:uT(n.type))}function Wn(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var ei=Math.random().toString(36).slice(2),St="__reactFiber$"+ei,Bt="__reactProps$"+ei,vi="__reactContainer$"+ei,za="__reactEvents$"+ei,kd="__reactListeners$"+ei,Nc="__reactHandles$"+ei,Vc="__reactResources$"+ei,Ei="__reactMarker$"+ei;function Ba(n){delete n[St],delete n[Bt],delete n[za],delete n[kd],delete n[Nc]}function Ti(n){var i=n[St];if(i)return i;for(var a=n.parentNode;a;){if(i=a[vi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=QE(n);n!==null;){if(a=n[St])return a;n=QE(n)}return i}n=a,a=n.parentNode}return null}function Mn(n){if(n=n[St]||n[vi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function _n(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Ai(n){var i=n[Vc];return i||(i=n[Vc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(n){n[Ei]=!0}var El=new Set,Tl={};function Si(n,i){bi(n,i),bi(n+"Capture",i)}function bi(n,i){for(Tl[n]=i,n=0;n<i.length;n++)El.add(i[n])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},bl={};function Oc(n){return Tt.call(bl,n)?!0:Tt.call(Sl,n)?!1:Al.test(n)?bl[n]=!0:(Sl[n]=!0,!1)}function qa(n,i,a){if(Oc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function vn(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function wt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wl(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Qe(n){if(!n._valueTracker){var i=wr(n)?"checked":"value";n._valueTracker=wl(n,i,""+n[i])}}function xs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=wr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ps=/[\n"\\]/g;function cn(n){return n.replace(Ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ja(n,i,a,l,f,d,_,A){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+qt(i)):n.value!==""+qt(i)&&(n.value=""+qt(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Il(n,_,qt(i)):a!=null?Il(n,_,qt(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+qt(A):n.removeAttribute("name")}function Mc(n,i,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(n);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,A||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Qe(n)}function Il(n,i,a){i==="number"&&wi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ir(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function xc(n,i,a){if(i!=null&&(i=""+qt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+qt(a):""}function Rr(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Qe(n)}function hn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Pc.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Cl(n,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Rl(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Rl(n,d,i[d])}function Fa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(n){return Cr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var Dl=null;function xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dr=null,Ii=null;function ks(n){var i=Mn(n);if(i&&(n=i.stateNode)){var a=n[Bt]||null;e:switch(n=i.stateNode,i.type){case"input":if(ja(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Bt]||null;if(!f)throw Error(r(90));ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&xs(l)}break e;case"textarea":xc(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ir(n,!!a.multiple,i,!1)}}}var Ga=!1;function Nr(n,i,a){if(Ga)return n(i,a);Ga=!0;try{var l=n(i);return l}finally{if(Ga=!1,(Dr!==null||Ii!==null)&&(Dh(),Dr&&(i=Dr,n=Ii,Ii=Dr=null,ks(i),n)))for(i=0;i<n.length;i++)ks(n[i])}}function ni(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Pn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ls=!1}var Ri=null,Nl=null,Us=null;function Vl(){if(Us)return Us;var n,i=Nl,a=i.length,l,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Us=f.slice(n,1<l?1-l:void 0)}function zs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gi(){return!0}function ii(){return!1}function Gt(n){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ii,this.isPropagationStopped=ii,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Gt(Ki),Vr=T({},Ki,{view:0,detail:0}),Ol=Gt(Vr),Or,Ka,Di,Qa=T({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Di&&(Di&&n.type==="mousemove"?(Or=n.screenX-Di.screenX,Ka=n.screenY-Di.screenY):Ka=Or=0,Di=n),Or)},movementY:function(n){return"movementY"in n?n.movementY:Ka}}),Ml=Gt(Qa),Bs=T({},Qa,{dataTransfer:0}),Lc=Gt(Bs),Uc=T({},Vr,{relatedTarget:0}),qs=Gt(Uc),xl=T({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=Gt(xl),Ya=T({},Ki,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bc=Gt(Ya),qc=T({},Ki,{data:0}),Ni=Gt(qc),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Hc[n])?!!i[n]:!1}function Mr(){return Gc}var sn=T({},Vr,{key:function(n){if(n.key){var i=jc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=zs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(n){return n.type==="keypress"?zs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kc=Gt(sn),Qc=T({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Gt(Qc),h=T({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),y=Gt(h),v=T({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(v),U=T({},Qa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Gt(U),te=T({},Ki,{newState:0,oldState:0}),we=Gt(te),_t=[9,13,27,32],Fe=Pn&&"CompositionEvent"in window,lt=null;Pn&&"documentMode"in document&&(lt=document.documentMode);var kn=Pn&&"TextEvent"in window&&!lt,Vi=Pn&&(!Fe||lt&&8<lt&&11>=lt),ri=" ",si=!1;function js(n,i){switch(n){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $a=!1;function dw(n,i){switch(n){case"compositionend":return Xa(i);case"keypress":return i.which!==32?null:(si=!0,ri);case"textInput":return n=i.data,n===ri&&si?null:n;default:return null}}function mw(n,i){if($a)return n==="compositionend"||!Fe&&js(n,i)?(n=Vl(),Us=Nl=Ri=null,$a=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!pw[n.type]:i==="textarea"}function Jy(n,i,a,l){Dr?Ii?Ii.push(l):Ii=[l]:Dr=l,i=kh(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Pl=null,kl=null;function gw(n){ME(n,0)}function Yc(n){var i=_n(n);if(xs(i))return n}function Zy(n,i){if(n==="change")return i}var Wy=!1;if(Pn){var Ld;if(Pn){var Ud="oninput"in document;if(!Ud){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Ud=typeof e_.oninput=="function"}Ld=Ud}else Ld=!1;Wy=Ld&&(!document.documentMode||9<document.documentMode)}function t_(){Pl&&(Pl.detachEvent("onpropertychange",n_),kl=Pl=null)}function n_(n){if(n.propertyName==="value"&&Yc(kl)){var i=[];Jy(i,kl,n,xn(n)),Nr(gw,i)}}function yw(n,i,a){n==="focusin"?(t_(),Pl=i,kl=a,Pl.attachEvent("onpropertychange",n_)):n==="focusout"&&t_()}function _w(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yc(kl)}function vw(n,i){if(n==="click")return Yc(i)}function Ew(n,i){if(n==="input"||n==="change")return Yc(i)}function Tw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var En=typeof Object.is=="function"?Object.is:Tw;function Ll(n,i){if(En(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(i,f)||!En(n[f],i[f]))return!1}return!0}function i_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function r_(n,i){var a=i_(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=i_(a)}}function s_(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?s_(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function a_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=wi(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=wi(n.document)}return i}function zd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Aw=Pn&&"documentMode"in document&&11>=document.documentMode,Ja=null,Bd=null,Ul=null,qd=!1;function o_(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qd||Ja==null||Ja!==wi(l)||(l=Ja,"selectionStart"in l&&zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&Ll(Ul,l)||(Ul=l,l=kh(Bd,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ja)))}function Fs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Za={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},jd={},l_={};Pn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Hs(n){if(jd[n])return jd[n];if(!Za[n])return n;var i=Za[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in l_)return jd[n]=i[a];return n}var u_=Hs("animationend"),c_=Hs("animationiteration"),h_=Hs("animationstart"),Sw=Hs("transitionrun"),bw=Hs("transitionstart"),ww=Hs("transitioncancel"),f_=Hs("transitionend"),d_=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function ai(n,i){d_.set(n,i),Si(i,[n])}var Xc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ln=[],Wa=0,Hd=0;function $c(){for(var n=Wa,i=Hd=Wa=0;i<n;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var f=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&m_(a,f,d)}}function Jc(n,i,a,l){Ln[Wa++]=n,Ln[Wa++]=i,Ln[Wa++]=a,Ln[Wa++]=l,Hd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Gd(n,i,a,l){return Jc(n,i,a,l),Zc(n)}function Gs(n,i){return Jc(n,null,null,i),Zc(n)}function m_(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-yt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zc(n){if(50<au)throw au=0,ep=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var eo={};function Iw(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,i,a,l){return new Iw(n,i,a,l)}function Kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,i){var a=n.alternate;return a===null?(a=Tn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function p_(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Wc(n,i,a,l,f,d){var _=0;if(l=n,typeof n=="function")Kd(n)&&(_=1);else if(typeof n=="string")_=VI(n,a,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=Tn(31,a,i,f),n.elementType=D,n.lanes=d,n;case W:return Ks(a.children,f,d,i);case Y:_=8,f|=24;break;case ne:return n=Tn(12,a,i,f|2),n.elementType=ne,n.lanes=d,n;case re:return n=Tn(13,a,i,f),n.elementType=re,n.lanes=d,n;case ce:return n=Tn(19,a,i,f),n.elementType=ce,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:_=10;break e;case ae:_=9;break e;case ue:_=11;break e;case I:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return i=Tn(_,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Ks(n,i,a,l){return n=Tn(7,n,l,i),n.lanes=a,n}function Qd(n,i,a){return n=Tn(6,n,null,i),n.lanes=a,n}function g_(n){var i=Tn(18,null,null,0);return i.stateNode=n,i}function Yd(n,i,a){return i=Tn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var y_=new WeakMap;function Un(n,i){if(typeof n=="object"&&n!==null){var a=y_.get(n);return a!==void 0?a:(i={value:n,source:i,stack:pl(i)},y_.set(n,i),i)}return{value:n,source:i,stack:pl(i)}}var to=[],no=0,eh=null,zl=0,zn=[],Bn=0,xr=null,Oi=1,Mi="";function Xi(n,i){to[no++]=zl,to[no++]=eh,eh=n,zl=i}function __(n,i,a){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=xr,xr=n;var l=Oi;n=Mi;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-yt(i)+f|a<<f|l,Mi=d+n}else Oi=1<<d|a<<f|l,Mi=n}function Xd(n){n.return!==null&&(Xi(n,1),__(n,1,0))}function $d(n){for(;n===eh;)eh=to[--no],to[no]=null,zl=to[--no],to[no]=null;for(;n===xr;)xr=zn[--Bn],zn[Bn]=null,Mi=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null}function v_(n,i){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=xr,Oi=i.id,Mi=i.overflow,xr=n}var Kt=null,rt=null,Le=!1,Pr=null,qn=!1,Jd=Error(r(519));function kr(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Un(i,n)),Jd}function E_(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[St]=n,i[Bt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<lu.length;a++)Oe(lu[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Mc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Rr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||LE(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||kr(n,!0)}function T_(n){for(Kt=n.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Kt=Kt.return}}function io(n){if(n!==Kt)return!1;if(!Le)return T_(n),Le=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||pp(n.type,n.memoizedProps)),a=!a),a&&rt&&kr(n),T_(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));rt=KE(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));rt=KE(n)}else i===27?(i=rt,$r(n.type)?(n=Ep,Ep=null,rt=n):rt=i):rt=Kt?Fn(n.stateNode.nextSibling):null;return!0}function Qs(){rt=Kt=null,Le=!1}function Zd(){var n=Pr;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Pr=null),n}function Bl(n){Pr===null?Pr=[n]:Pr.push(n)}var Wd=O(null),Ys=null,$i=null;function Lr(n,i,a){le(Wd,i._currentValue),i._currentValue=a}function Ji(n){n._currentValue=Wd.current,J(Wd)}function em(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function tm(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),em(d.return,a,n),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),em(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ro(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;En(f.pendingProps.value,_.value)||(n!==null?n.push(A):n=[A])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(du):n=[du])}f=f.return}n!==null&&tm(i,n,a,l),i.flags|=262144}function th(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xs(n){Ys=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return A_(Ys,n)}function nh(n,i){return Ys===null&&Xs(n),A_(n,i)}function A_(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(r(308));$i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else $i=$i.next=i;return a}var Rw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Cw=s.unstable_scheduleCallback,Dw=s.unstable_NormalPriority,It={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new Rw,data:new Map,refCount:0}}function ql(n){n.refCount--,n.refCount===0&&Cw(Dw,function(){n.controller.abort()})}var jl=null,im=0,so=0,ao=null;function Nw(n,i){if(jl===null){var a=jl=[];im=0,so=ap(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return im++,i.then(S_,S_),i}function S_(){if(--im===0&&jl!==null){ao!==null&&(ao.status="fulfilled");var n=jl;jl=null,so=0,ao=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Vw(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var b_=K.S;K.S=function(n,i){oE=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Nw(n,i),b_!==null&&b_(n,i)};var $s=O(null);function rm(){var n=$s.current;return n!==null?n:it.pooledCache}function ih(n,i){i===null?le($s,$s.current):le($s,i.pool)}function w_(){var n=rm();return n===null?null:{parent:It._currentValue,pool:n}}var oo=Error(r(460)),sm=Error(r(474)),rh=Error(r(542)),sh={then:function(){}};function I_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function R_(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,D_(n),n;default:if(typeof i.status=="string")i.then(ti,ti);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,D_(n),n}throw Zs=i,oo}}function Js(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,oo):a}}var Zs=null;function C_(){if(Zs===null)throw Error(r(459));var n=Zs;return Zs=null,n}function D_(n){if(n===oo||n===rh)throw Error(r(483))}var lo=null,Fl=0;function ah(n){var i=Fl;return Fl+=1,lo===null&&(lo=[]),R_(lo,n,i)}function Hl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function oh(n,i){throw i.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function N_(n){function i(x,N){if(n){var z=x.deletions;z===null?(x.deletions=[N],x.flags|=16):z.push(N)}}function a(x,N){if(!n)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function f(x,N){return x=Yi(x,N),x.index=0,x.sibling=null,x}function d(x,N,z){return x.index=z,n?(z=x.alternate,z!==null?(z=z.index,z<N?(x.flags|=67108866,N):z):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return n&&x.alternate===null&&(x.flags|=67108866),x}function A(x,N,z,X){return N===null||N.tag!==6?(N=Qd(z,x.mode,X),N.return=x,N):(N=f(N,z),N.return=x,N)}function C(x,N,z,X){var ge=z.type;return ge===W?G(x,N,z.props.children,X,z.key):N!==null&&(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&Js(ge)===N.type)?(N=f(N,z.props),Hl(N,z),N.return=x,N):(N=Wc(z.type,z.key,z.props,null,x.mode,X),Hl(N,z),N.return=x,N)}function B(x,N,z,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Yd(z,x.mode,X),N.return=x,N):(N=f(N,z.children||[]),N.return=x,N)}function G(x,N,z,X,ge){return N===null||N.tag!==7?(N=Ks(z,x.mode,X,ge),N.return=x,N):(N=f(N,z),N.return=x,N)}function $(x,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Qd(""+N,x.mode,z),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return z=Wc(N.type,N.key,N.props,null,x.mode,z),Hl(z,N),z.return=x,z;case H:return N=Yd(N,x.mode,z),N.return=x,N;case b:return N=Js(N),$(x,N,z)}if(Mt(N)||k(N))return N=Ks(N,x.mode,z,null),N.return=x,N;if(typeof N.then=="function")return $(x,ah(N),z);if(N.$$typeof===Z)return $(x,nh(x,N),z);oh(x,N)}return null}function q(x,N,z,X){var ge=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:A(x,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===ge?C(x,N,z,X):null;case H:return z.key===ge?B(x,N,z,X):null;case b:return z=Js(z),q(x,N,z,X)}if(Mt(z)||k(z))return ge!==null?null:G(x,N,z,X,null);if(typeof z.then=="function")return q(x,N,ah(z),X);if(z.$$typeof===Z)return q(x,N,nh(x,z),X);oh(x,z)}return null}function F(x,N,z,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return x=x.get(z)||null,A(N,x,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return x=x.get(X.key===null?z:X.key)||null,C(N,x,X,ge);case H:return x=x.get(X.key===null?z:X.key)||null,B(N,x,X,ge);case b:return X=Js(X),F(x,N,z,X,ge)}if(Mt(X)||k(X))return x=x.get(z)||null,G(N,x,X,ge,null);if(typeof X.then=="function")return F(x,N,z,ah(X),ge);if(X.$$typeof===Z)return F(x,N,z,nh(N,X),ge);oh(N,X)}return null}function fe(x,N,z,X){for(var ge=null,qe=null,me=N,Ce=N=0,xe=null;me!==null&&Ce<z.length;Ce++){me.index>Ce?(xe=me,me=null):xe=me.sibling;var je=q(x,me,z[Ce],X);if(je===null){me===null&&(me=xe);break}n&&me&&je.alternate===null&&i(x,me),N=d(je,N,Ce),qe===null?ge=je:qe.sibling=je,qe=je,me=xe}if(Ce===z.length)return a(x,me),Le&&Xi(x,Ce),ge;if(me===null){for(;Ce<z.length;Ce++)me=$(x,z[Ce],X),me!==null&&(N=d(me,N,Ce),qe===null?ge=me:qe.sibling=me,qe=me);return Le&&Xi(x,Ce),ge}for(me=l(me);Ce<z.length;Ce++)xe=F(me,x,Ce,z[Ce],X),xe!==null&&(n&&xe.alternate!==null&&me.delete(xe.key===null?Ce:xe.key),N=d(xe,N,Ce),qe===null?ge=xe:qe.sibling=xe,qe=xe);return n&&me.forEach(function(ts){return i(x,ts)}),Le&&Xi(x,Ce),ge}function ve(x,N,z,X){if(z==null)throw Error(r(151));for(var ge=null,qe=null,me=N,Ce=N=0,xe=null,je=z.next();me!==null&&!je.done;Ce++,je=z.next()){me.index>Ce?(xe=me,me=null):xe=me.sibling;var ts=q(x,me,je.value,X);if(ts===null){me===null&&(me=xe);break}n&&me&&ts.alternate===null&&i(x,me),N=d(ts,N,Ce),qe===null?ge=ts:qe.sibling=ts,qe=ts,me=xe}if(je.done)return a(x,me),Le&&Xi(x,Ce),ge;if(me===null){for(;!je.done;Ce++,je=z.next())je=$(x,je.value,X),je!==null&&(N=d(je,N,Ce),qe===null?ge=je:qe.sibling=je,qe=je);return Le&&Xi(x,Ce),ge}for(me=l(me);!je.done;Ce++,je=z.next())je=F(me,x,Ce,je.value,X),je!==null&&(n&&je.alternate!==null&&me.delete(je.key===null?Ce:je.key),N=d(je,N,Ce),qe===null?ge=je:qe.sibling=je,qe=je);return n&&me.forEach(function(jI){return i(x,jI)}),Le&&Xi(x,Ce),ge}function nt(x,N,z,X){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var ge=z.key;N!==null;){if(N.key===ge){if(ge=z.type,ge===W){if(N.tag===7){a(x,N.sibling),X=f(N,z.props.children),X.return=x,x=X;break e}}else if(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&Js(ge)===N.type){a(x,N.sibling),X=f(N,z.props),Hl(X,z),X.return=x,x=X;break e}a(x,N);break}else i(x,N);N=N.sibling}z.type===W?(X=Ks(z.props.children,x.mode,X,z.key),X.return=x,x=X):(X=Wc(z.type,z.key,z.props,null,x.mode,X),Hl(X,z),X.return=x,x=X)}return _(x);case H:e:{for(ge=z.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(x,N.sibling),X=f(N,z.children||[]),X.return=x,x=X;break e}else{a(x,N);break}else i(x,N);N=N.sibling}X=Yd(z,x.mode,X),X.return=x,x=X}return _(x);case b:return z=Js(z),nt(x,N,z,X)}if(Mt(z))return fe(x,N,z,X);if(k(z)){if(ge=k(z),typeof ge!="function")throw Error(r(150));return z=ge.call(z),ve(x,N,z,X)}if(typeof z.then=="function")return nt(x,N,ah(z),X);if(z.$$typeof===Z)return nt(x,N,nh(x,z),X);oh(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(x,N.sibling),X=f(N,z),X.return=x,x=X):(a(x,N),X=Qd(z,x.mode,X),X.return=x,x=X),_(x)):a(x,N)}return function(x,N,z,X){try{Fl=0;var ge=nt(x,N,z,X);return lo=null,ge}catch(me){if(me===oo||me===rh)throw me;var qe=Tn(29,me,null,x.mode);return qe.lanes=X,qe.return=x,qe}finally{}}}var Ws=N_(!0),V_=N_(!1),Ur=!1;function am(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function zr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Br(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Zc(n),m_(n,null,a),i}return Jc(n,l,i,a),Zc(n)}function Gl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,_l(n,a)}}function lm(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var um=!1;function Kl(){if(um){var n=ao;if(n!==null)throw n}}function Ql(n,i,a,l){um=!1;var f=n.updateQueue;Ur=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var G=n.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==_&&(A===null?G.firstBaseUpdate=B:A.next=B,G.lastBaseUpdate=C))}if(d!==null){var $=f.baseState;_=0,G=B=C=null,A=d;do{var q=A.lane&-536870913,F=q!==A.lane;if(F?(Me&q)===q:(l&q)===q){q!==0&&q===so&&(um=!0),G!==null&&(G=G.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=n,ve=A;q=i;var nt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){$=fe.call(nt,$,q);break e}$=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,q=typeof fe=="function"?fe.call(nt,$,q):fe,q==null)break e;$=T({},$,q);break e;case 2:Ur=!0}}q=A.callback,q!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[q]:F.push(q))}else F={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(B=G=F,C=$):G=G.next=F,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;F=A,A=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);G===null&&(C=$),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=G,d===null&&(f.shared.lanes=0),Gr|=_,n.lanes=_,n.memoizedState=$}}function O_(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function M_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)O_(a[n],i)}var uo=O(null),lh=O(0);function x_(n,i){n=ar,le(lh,n),le(uo,i),ar=n|i.baseLanes}function cm(){le(lh,ar),le(uo,uo.current)}function hm(){ar=lh.current,J(uo),J(lh)}var An=O(null),jn=null;function qr(n){var i=n.alternate;le(vt,vt.current&1),le(An,n),jn===null&&(i===null||uo.current!==null||i.memoizedState!==null)&&(jn=n)}function fm(n){le(vt,vt.current),le(An,n),jn===null&&(jn=n)}function P_(n){n.tag===22?(le(vt,vt.current),le(An,n),jn===null&&(jn=n)):jr()}function jr(){le(vt,vt.current),le(An,An.current)}function Sn(n){J(An),jn===n&&(jn=null),J(vt)}var vt=O(0);function uh(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_p(a)||vp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ie=null,et=null,Rt=null,ch=!1,co=!1,ea=!1,hh=0,Yl=0,ho=null,Ow=0;function mt(){throw Error(r(321))}function dm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!En(n[a],i[a]))return!1;return!0}function mm(n,i,a,l,f,d){return Zi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?_v:Dm,ea=!1,d=a(l,f),ea=!1,co&&(d=L_(i,a,l,f)),k_(n),d}function k_(n){K.H=Jl;var i=et!==null&&et.next!==null;if(Zi=0,Rt=et=Ie=null,ch=!1,Yl=0,ho=null,i)throw Error(r(300));n===null||Ct||(n=n.dependencies,n!==null&&th(n)&&(Ct=!0))}function L_(n,i,a,l){Ie=n;var f=0;do{if(co&&(ho=null),Yl=0,co=!1,25<=f)throw Error(r(301));if(f+=1,Rt=et=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=vv,d=i(a,l)}while(co);return d}function Mw(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?Xl(i):i,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Ie.flags|=1024),i}function pm(){var n=hh!==0;return hh=0,n}function gm(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ym(n){if(ch){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ch=!1}Zi=0,Rt=et=Ie=null,co=!1,Yl=hh=0,ho=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function Et(){if(et===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,et=n;else{if(n===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ie.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(n){var i=Yl;return Yl+=1,ho===null&&(ho=[]),n=R_(ho,n,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?_v:Dm),n}function dh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xl(n);if(n.$$typeof===Z)return Qt(n)}throw Error(r(438,String(n)))}function _m(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fh(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function Wi(n,i){return typeof i=="function"?i(n):i}function mh(n){var i=Et();return vm(i,et,n)}function vm(n,i,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var A=_=null,C=null,B=i,G=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Me&$)===$:(Zi&$)===$){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===so&&(G=!0);else if((Zi&q)===q){B=B.next,q===so&&(G=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(A=C=$,_=d):C=C.next=$,Ie.lanes|=q,Gr|=q;$=B.action,ea&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(A=C=q,_=d):C=C.next=q,Ie.lanes|=$,Gr|=$;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=A,!En(d,n.memoizedState)&&(Ct=!0,G&&(a=ao,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Em(n){var i=Et(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);En(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function U_(n,i,a){var l=Ie,f=Et(),d=Le;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!En((et||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,Sm(q_.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},B_.bind(null,l,f,a,i),null),it===null)throw Error(r(349));d||(Zi&127)!==0||z_(l,i,a)}return a}function z_(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=fh(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function B_(n,i,a,l){i.value=a,i.getSnapshot=l,j_(i)&&F_(n)}function q_(n,i,a){return a(function(){j_(i)&&F_(n)})}function j_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!En(n,a)}catch{return!0}}function F_(n){var i=Gs(n,2);i!==null&&gn(i,n,2)}function Tm(n){var i=an();if(typeof n=="function"){var a=n;if(n=a(),ea){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},i}function H_(n,i,a,l){return n.baseState=a,vm(n,et,typeof l=="function"?l:Wi)}function xw(n,i,a,l,f){if(yh(n))throw Error(r(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,G_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function G_(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var A=a(f,l),C=K.S;C!==null&&C(_,A),K_(n,i,A)}catch(B){Am(n,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(f,l),K_(n,i,d)}catch(B){Am(n,i,B)}}function K_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Q_(n,i,l)},function(l){return Am(n,i,l)}):Q_(n,i,a)}function Q_(n,i,a){i.status="fulfilled",i.value=a,Y_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,G_(n,a)))}function Am(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Y_(i),i=i.next;while(i!==l)}n.action=null}function Y_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function X_(n,i){return i}function $_(n,i){if(Le){var a=it.formState;if(a!==null){e:{var l=Ie;if(Le){if(rt){t:{for(var f=rt,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Fn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X_,lastRenderedState:i},a.queue=l,a=pv.bind(null,Ie,l),l.dispatch=a,l=Tm(!1),d=Cm.bind(null,Ie,!1,l.queue),l=an(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=xw.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function J_(n){var i=Et();return Z_(i,et,n)}function Z_(n,i,a){if(i=vm(n,i,X_)[0],n=mh(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Xl(i)}catch(_){throw _===oo?rh:_}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,fo(9,{destroy:void 0},Pw.bind(null,f,a),null)),[l,d,n]}function Pw(n,i){n.action=i}function W_(n){var i=Et(),a=et;if(a!==null)return Z_(i,a,n);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function fo(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=fh(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function ev(){return Et().memoizedState}function ph(n,i,a,l){var f=an();Ie.flags|=n,f.memoizedState=fo(1|i,{destroy:void 0},a,l===void 0?null:l)}function gh(n,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&dm(l,et.memoizedState.deps)?f.memoizedState=fo(i,d,a,l):(Ie.flags|=n,f.memoizedState=fo(1|i,d,a,l))}function tv(n,i){ph(8390656,8,n,i)}function Sm(n,i){gh(2048,8,n,i)}function kw(n){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=fh(),Ie.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function nv(n){var i=Et().memoizedState;return kw({ref:i,nextImpl:n}),function(){if((He&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function iv(n,i){return gh(4,2,n,i)}function rv(n,i){return gh(4,4,n,i)}function sv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function av(n,i,a){a=a!=null?a.concat([n]):null,gh(4,4,sv.bind(null,i,n),a)}function bm(){}function ov(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&dm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function lv(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&dm(i,l[1]))return l[0];if(l=n(),ea){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,i],l}function wm(n,i,a){return a===void 0||(Zi&1073741824)!==0&&(Me&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=uE(),Ie.lanes|=n,Gr|=n,a)}function uv(n,i,a,l){return En(a,i)?a:uo.current!==null?(n=wm(n,a,l),En(n,i)||(Ct=!0),n):(Zi&42)===0||(Zi&1073741824)!==0&&(Me&261930)===0?(Ct=!0,n.memoizedState=a):(n=uE(),Ie.lanes|=n,Gr|=n,i)}function cv(n,i,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=K.T,A={};K.T=A,Cm(n,!1,i,a);try{var C=f(),B=K.S;if(B!==null&&B(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Vw(C,l);$l(n,i,G,In(n))}else $l(n,i,l,In(n))}catch($){$l(n,i,{then:function(){},status:"rejected",reason:$},In())}finally{oe.p=d,_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}function Lw(){}function Im(n,i,a,l){if(n.tag!==5)throw Error(r(476));var f=hv(n).queue;cv(n,f,i,_e,a===null?Lw:function(){return fv(n),a(l)})}function hv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function fv(n){var i=hv(n);i.next===null&&(i=n.alternate.memoizedState),$l(n,i.next.queue,{},In())}function Rm(){return Qt(du)}function dv(){return Et().memoizedState}function mv(){return Et().memoizedState}function Uw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();n=zr(a);var l=Br(i,n,a);l!==null&&(gn(l,i,a),Gl(l,i,a)),i={cache:nm()},n.payload=i;return}i=i.return}}function zw(n,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yh(n)?gv(i,a):(a=Gd(n,i,a,l),a!==null&&(gn(a,n,l),yv(a,i,l)))}function pv(n,i,a){var l=In();$l(n,i,a,l)}function $l(n,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yh(n))gv(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,En(A,_))return Jc(n,i,f,0),it===null&&$c(),!1}catch{}finally{}if(a=Gd(n,i,f,l),a!==null)return gn(a,n,l),yv(a,i,l),!0}return!1}function Cm(n,i,a,l){if(l={lane:2,revertLane:ap(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yh(n)){if(i)throw Error(r(479))}else i=Gd(n,a,l,2),i!==null&&gn(i,n,2)}function yh(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function gv(n,i){co=ch=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function yv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,_l(n,a)}}var Jl={readContext:Qt,use:dh,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Jl.useEffectEvent=mt;var _v={readContext:Qt,use:dh,useCallback:function(n,i){return an().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:tv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,ph(4194308,4,sv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return ph(4194308,4,n,i)},useInsertionEffect:function(n,i){ph(4,2,n,i)},useMemo:function(n,i){var a=an();i=i===void 0?null:i;var l=n();if(ea){On(!0);try{n()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=an();if(a!==void 0){var f=a(i);if(ea){On(!0);try{a(i)}finally{On(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=zw.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=an();return n={current:n},i.memoizedState=n},useState:function(n){n=Tm(n);var i=n.queue,a=pv.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:bm,useDeferredValue:function(n,i){var a=an();return wm(a,n,i)},useTransition:function(){var n=Tm(!1);return n=cv.bind(null,Ie,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,f=an();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(Me&127)!==0||z_(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,tv(q_.bind(null,l,d,n),[n]),l.flags|=2048,fo(9,{destroy:void 0},B_.bind(null,l,d,a,i),null),a},useId:function(){var n=an(),i=it.identifierPrefix;if(Le){var a=Mi,l=Oi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hh++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Ow++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Rm,useFormState:$_,useActionState:$_,useOptimistic:function(n){var i=an();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cm.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:_m,useCacheRefresh:function(){return an().memoizedState=Uw.bind(null,Ie)},useEffectEvent:function(n){var i=an(),a={impl:n};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Dm={readContext:Qt,use:dh,useCallback:ov,useContext:Qt,useEffect:Sm,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:mh,useRef:ev,useState:function(){return mh(Wi)},useDebugValue:bm,useDeferredValue:function(n,i){var a=Et();return uv(a,et.memoizedState,n,i)},useTransition:function(){var n=mh(Wi)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:Xl(n),i]},useSyncExternalStore:U_,useId:dv,useHostTransitionStatus:Rm,useFormState:J_,useActionState:J_,useOptimistic:function(n,i){var a=Et();return H_(a,et,n,i)},useMemoCache:_m,useCacheRefresh:mv};Dm.useEffectEvent=nv;var vv={readContext:Qt,use:dh,useCallback:ov,useContext:Qt,useEffect:Sm,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:Em,useRef:ev,useState:function(){return Em(Wi)},useDebugValue:bm,useDeferredValue:function(n,i){var a=Et();return et===null?wm(a,n,i):uv(a,et.memoizedState,n,i)},useTransition:function(){var n=Em(Wi)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:Xl(n),i]},useSyncExternalStore:U_,useId:dv,useHostTransitionStatus:Rm,useFormState:W_,useActionState:W_,useOptimistic:function(n,i){var a=Et();return et!==null?H_(a,et,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:_m,useCacheRefresh:mv};vv.useEffectEvent=nv;function Nm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Vm={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=In(),f=zr(l);f.payload=i,a!=null&&(f.callback=a),i=Br(n,f,l),i!==null&&(gn(i,n,l),Gl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=In(),f=zr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Br(n,f,l),i!==null&&(gn(i,n,l),Gl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=In(),l=zr(a);l.tag=2,i!=null&&(l.callback=i),i=Br(n,l,a),i!==null&&(gn(i,n,a),Gl(i,n,a))}};function Ev(n,i,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ll(a,l)||!Ll(f,d):!0}function Tv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Vm.enqueueReplaceState(i,i.state,null)}function ta(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Av(n){Xc(n)}function Sv(n){console.error(n)}function bv(n){Xc(n)}function _h(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function wv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Om(n,i,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){_h(n,i)},a}function Iv(n){return n=zr(n),n.tag=3,n}function Rv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){wv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){wv(i,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Bw(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ro(i,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Nh():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===sh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ip(n,l,f)),!1;case 22:return a.flags|=65536,l===sh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ip(n,l,f)),!1}throw Error(r(435,a.tag))}return ip(n,l,f),Nh(),!1}if(Le)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Jd&&(n=Error(r(422),{cause:l}),Bl(Un(n,a)))):(l!==Jd&&(i=Error(r(423),{cause:l}),Bl(Un(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Un(l,a),f=Om(n.stateNode,l,f),lm(n,f),pt!==4&&(pt=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),su===null?su=[d]:su.push(d),pt!==4&&(pt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Om(a.stateNode,l,n),lm(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Iv(f),Rv(f,n,a,l),lm(a,f),!1}a=a.return}while(a!==null);return!1}var Mm=Error(r(461)),Ct=!1;function Yt(n,i,a,l){i.child=n===null?V_(i,null,a,l):Ws(i,n.child,a,l)}function Cv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Xs(i),l=mm(n,i,a,_,d,f),A=pm(),n!==null&&!Ct?(gm(n,i,f),er(n,i,f)):(Le&&A&&Xd(i),i.flags|=1,Yt(n,i,l,f),i.child)}function Dv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Kd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Nv(n,i,d,l,f)):(n=Wc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!qm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ll,a(_,l)&&n.ref===i.ref)return er(n,i,f)}return i.flags|=1,n=Yi(d,l),n.ref=i.ref,n.return=i,i.child=n}function Nv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(Ll(d,l)&&n.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,qm(n,f))(n.flags&131072)!==0&&(Ct=!0);else return i.lanes=n.lanes,er(n,i,f)}return xm(n,i,a,l,f)}function Vv(n,i,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Ov(n,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ih(i,d!==null?d.cachePool:null),d!==null?x_(i,d):cm(),P_(i);else return l=i.lanes=536870912,Ov(n,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ih(i,d.cachePool),x_(i,d),jr(),i.memoizedState=null):(n!==null&&ih(i,null),cm(),jr());return Yt(n,i,f,a),i.child}function Zl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ov(n,i,a,l,f){var d=rm();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&ih(i,null),cm(),P_(i),n!==null&&ro(n,i,l,!0),i.childLanes=f,null}function vh(n,i){return i=Th({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Mv(n,i,a){return Ws(i,n.child,null,a),n=vh(i,i.pendingProps),n.flags|=2,Sn(i),i.memoizedState=null,n}function qw(n,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Le){if(l.mode==="hidden")return n=vh(i,l),i.lanes=536870912,Zl(null,n);if(fm(i),(n=rt)?(n=GE(n,qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:xr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=g_(n),a.return=i,i.child=a,Kt=i,rt=null)):n=null,n===null)throw kr(i);return i.lanes=536870912,null}return vh(i,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(fm(i),f)if(i.flags&256)i.flags&=-257,i=Mv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||ro(n,i,a,!1),f=(a&n.childLanes)!==0,Ct||f){if(l=it,l!==null&&(_=vl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Gs(n,_),gn(l,n,_),Mm;Nh(),i=Mv(n,i,a)}else n=d.treeContext,rt=Fn(_.nextSibling),Kt=i,Le=!0,Pr=null,qn=!1,n!==null&&v_(i,n),i=vh(i,l),i.flags|=4096;return i}return n=Yi(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Eh(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function xm(n,i,a,l,f){return Xs(i),a=mm(n,i,a,l,void 0,f),l=pm(),n!==null&&!Ct?(gm(n,i,f),er(n,i,f)):(Le&&l&&Xd(i),i.flags|=1,Yt(n,i,a,f),i.child)}function xv(n,i,a,l,f,d){return Xs(i),i.updateQueue=null,a=L_(i,l,a,f),k_(n),l=pm(),n!==null&&!Ct?(gm(n,i,d),er(n,i,d)):(Le&&l&&Xd(i),i.flags|=1,Yt(n,i,a,d),i.child)}function Pv(n,i,a,l,f){if(Xs(i),i.stateNode===null){var d=eo,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},am(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):eo,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Nm(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Vm.enqueueReplaceState(d,d.state,null),Ql(i,l,d,f),Kl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var A=i.memoizedProps,C=ta(a,A);d.props=C;var B=d.context,G=a.contextType;_=eo,typeof G=="object"&&G!==null&&(_=Qt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==_)&&Tv(i,d,l,_),Ur=!1;var q=i.memoizedState;d.state=q,Ql(i,l,d,f),Kl(),B=i.memoizedState,A||q!==B||Ur?(typeof $=="function"&&(Nm(i,a,$,l),B=i.memoizedState),(C=Ur||Ev(i,a,C,l,q,B,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,om(n,i),_=i.memoizedProps,G=ta(a,_),d.props=G,$=i.pendingProps,q=d.context,B=a.contextType,C=eo,typeof B=="object"&&B!==null&&(C=Qt(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||q!==C)&&Tv(i,d,l,C),Ur=!1,q=i.memoizedState,d.state=q,Ql(i,l,d,f),Kl();var F=i.memoizedState;_!==$||q!==F||Ur||n!==null&&n.dependencies!==null&&th(n.dependencies)?(typeof A=="function"&&(Nm(i,a,A,l),F=i.memoizedState),(G=Ur||Ev(i,a,G,l,q,F,C)||n!==null&&n.dependencies!==null&&th(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Eh(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ws(i,n.child,null,f),i.child=Ws(i,null,a,f)):Yt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=er(n,i,f),n}function kv(n,i,a,l){return Qs(),i.flags|=256,Yt(n,i,a,l),i.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function km(n){return{baseLanes:n,cachePool:w_()}}function Lm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=wn),n}function Lv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Le){if(f?qr(i):jr(),(n=rt)?(n=GE(n,qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:xr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=g_(n),a.return=i,i.child=a,Kt=i,rt=null)):n=null,n===null)throw kr(i);return vp(n)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(jr(),f=i.mode,A=Th({mode:"hidden",children:A},f),l=Ks(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=km(a),l.childLanes=Lm(n,_,a),i.memoizedState=Pm,Zl(null,l)):(qr(i),Um(i,A))}var C=n.memoizedState;if(C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(qr(i),i.flags&=-257,i=zm(n,i,a)):i.memoizedState!==null?(jr(),i.child=n.child,i.flags|=128,i=null):(jr(),A=l.fallback,f=i.mode,l=Th({mode:"visible",children:l.children},f),A=Ks(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Ws(i,n.child,null,a),l=i.child,l.memoizedState=km(a),l.childLanes=Lm(n,_,a),i.memoizedState=Pm,i=Zl(null,l));else if(qr(i),vp(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Bl({value:l,source:null,stack:null}),i=zm(n,i,a)}else if(Ct||ro(n,i,a,!1),_=(a&n.childLanes)!==0,Ct||_){if(_=it,_!==null&&(l=vl(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Gs(n,l),gn(_,n,l),Mm;_p(A)||Nh(),i=zm(n,i,a)}else _p(A)?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,rt=Fn(A.nextSibling),Kt=i,Le=!0,Pr=null,qn=!1,n!==null&&v_(i,n),i=Um(i,l.children),i.flags|=4096);return i}return f?(jr(),A=l.fallback,f=i.mode,C=n.child,B=C.sibling,l=Yi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?A=Yi(B,A):(A=Ks(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,Zl(null,l),l=i.child,A=n.child.memoizedState,A===null?A=km(a):(f=A.cachePool,f!==null?(C=It._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=w_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Lm(n,_,a),i.memoizedState=Pm,Zl(n.child,l)):(qr(i),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function Um(n,i){return i=Th({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Th(n,i){return n=Tn(22,n,null,i),n.lanes=0,n}function zm(n,i,a){return Ws(i,n.child,null,a),n=Um(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Uv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),em(n.return,i,a)}function Bm(n,i,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function zv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,le(vt,_),Yt(n,i,l,a),l=Le?zl:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uv(n,a,i);else if(n.tag===19)Uv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&uh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Bm(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&uh(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Bm(i,!0,a,null,d,l);break;case"together":Bm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Gr|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ro(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=Yi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function qm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&th(n)))}function jw(n,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),Lr(i,It,n.memoizedState.cache),Qs();break;case 27:case 5:Rs(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,fm(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Lv(n,i,a):(qr(i),n=er(n,i,a),n!==null?n.sibling:null);qr(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ro(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return zv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return i.lanes=0,Vv(n,i,a,i.pendingProps);case 24:Lr(i,It,n.memoizedState.cache)}return er(n,i,a)}function Bv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ct=!0;else{if(!qm(n,a)&&(i.flags&128)===0)return Ct=!1,jw(n,i,a);Ct=(n.flags&131072)!==0}else Ct=!1,Le&&(i.flags&1048576)!==0&&__(i,zl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=Js(i.elementType),i.type=n,typeof n=="function")Kd(n)?(l=ta(n,l),i.tag=1,i=Pv(null,i,n,l,a)):(i.tag=0,i=xm(null,i,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ue){i.tag=11,i=Cv(null,i,n,l,a);break e}else if(f===I){i.tag=14,i=Dv(null,i,n,l,a);break e}}throw i=at(n)||n,Error(r(306,i,""))}}return i;case 0:return xm(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ta(l,i.pendingProps),Pv(n,i,l,f,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),n===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,om(n,i),Ql(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Lr(i,It,l),l!==d.cache&&tm(i,[It],a,!0),Kl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=kv(n,i,l,a);break e}else if(l!==f){f=Un(Error(r(424)),i),Bl(f),i=kv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(rt=Fn(n.firstChild),Kt=i,Le=!0,Pr=null,qn=!0,a=V_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),l===f){i=er(n,i,a);break e}Yt(n,i,l,a)}i=i.child}return i;case 26:return Eh(n,i),n===null?(a=JE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,n=i.pendingProps,l=Lh(Re.current).createElement(a),l[St]=i,l[Bt]=n,Xt(l,a,n),bt(l),i.stateNode=l):i.memoizedState=JE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Rs(i),n===null&&Le&&(l=i.stateNode=YE(i.type,i.pendingProps,Re.current),Kt=i,qn=!0,f=rt,$r(i.type)?(Ep=f,rt=Fn(l.firstChild)):rt=f),Yt(n,i,i.pendingProps.children,a),Eh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Le&&((f=l=rt)&&(l=_I(l,i.type,i.pendingProps,qn),l!==null?(i.stateNode=l,Kt=i,rt=Fn(l.firstChild),qn=!1,f=!0):f=!1),f||kr(i)),Rs(i),f=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,pp(f,d)?l=null:_!==null&&pp(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=mm(n,i,Mw,null,null,a),du._currentValue=f),Eh(n,i),Yt(n,i,l,a),i.child;case 6:return n===null&&Le&&((n=a=rt)&&(a=vI(a,i.pendingProps,qn),a!==null?(i.stateNode=a,Kt=i,rt=null,n=!0):n=!1),n||kr(i)),null;case 13:return Lv(n,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ws(i,null,l,a):Yt(n,i,l,a),i.child;case 11:return Cv(n,i,i.type,i.pendingProps,a);case 7:return Yt(n,i,i.pendingProps,a),i.child;case 8:return Yt(n,i,i.pendingProps.children,a),i.child;case 12:return Yt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),Yt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Xs(i),f=Qt(f),l=l(f),i.flags|=1,Yt(n,i,l,a),i.child;case 14:return Dv(n,i,i.type,i.pendingProps,a);case 15:return Nv(n,i,i.type,i.pendingProps,a);case 19:return zv(n,i,a);case 31:return qw(n,i,a);case 22:return Vv(n,i,a,i.pendingProps);case 24:return Xs(i),l=Qt(It),n===null?(f=rm(),f===null&&(f=it,d=nm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},am(i),Lr(i,It,f)):((n.lanes&a)!==0&&(om(n,i),Ql(i,null,null,a),Kl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Lr(i,It,l)):(l=d.cache,Lr(i,It,l),l!==f.cache&&tm(i,[It],a,!0))),Yt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function tr(n){n.flags|=4}function jm(n,i,a,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(dE())n.flags|=8192;else throw Zs=sh,sm}else n.flags&=-16777217}function qv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!nT(i))if(dE())n.flags|=8192;else throw Zs=sh,sm}function Ah(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Cc():536870912,n.lanes|=i,yo|=i)}function Wl(n,i){if(!Le)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function Fw(n,i,a){var l=i.pendingProps;switch($d(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(It),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(io(i)?tr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zd())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(tr(i),d!==null?(st(i),qv(i,d)):(st(i),jm(i,f,null,l,a))):d?d!==n.memoizedState?(tr(i),st(i),qv(i,d)):(st(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&tr(i),st(i),jm(i,f,n,l,a)),null;case 27:if(Pa(i),a=Re.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}n=he.current,io(i)?E_(i):(n=YE(f,l,a),i.stateNode=n,tr(i))}return st(i),null;case 5:if(Pa(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}if(d=he.current,io(i))E_(i);else{var _=Lh(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=i,d[Bt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(i)}}return st(i),jm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(n=Re.current,io(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[St]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||LE(n.nodeValue,a)),n||kr(i,!0)}else n=Lh(n).createTextNode(l),n[St]=i,i.stateNode=n}return st(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=io(i),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[St]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),n=!1}else a=Zd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return st(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=io(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[St]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=Zd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Ah(i,i.updateQueue),st(i),null);case 4:return ot(),n===null&&cp(i.stateNode.containerInfo),st(i),null;case 10:return Ji(i.type),st(i),null;case 19:if(J(vt),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Wl(l,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=uh(n),d!==null){for(i.flags|=128,Wl(l,!1),n=d.updateQueue,i.updateQueue=n,Ah(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)p_(a,n),a=a.sibling;return le(vt,vt.current&1|2),Le&&Xi(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&rn()>Rh&&(i.flags|=128,f=!0,Wl(l,!1),i.lanes=4194304)}else{if(!f)if(n=uh(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Ah(i,n),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return st(i),null}else 2*rn()-l.renderingStartTime>Rh&&a!==536870912&&(i.flags|=128,f=!0,Wl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(n=l.last,n!==null?n.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=rn(),n.sibling=null,a=vt.current,le(vt,f?a&1|2:a&1),Le&&Xi(i,l.treeForkCount),n):(st(i),null);case 22:case 23:return Sn(i),hm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Ah(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&J($s),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(It),st(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Hw(n,i){switch($d(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ji(It),ot(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Pa(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(r(340));Qs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Sn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Qs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return J(vt),null;case 4:return ot(),null;case 10:return Ji(i.type),null;case 22:case 23:return Sn(i),hm(),n!==null&&J($s),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ji(It),null;case 25:return null;default:return null}}function jv(n,i){switch($d(i),i.tag){case 3:Ji(It),ot();break;case 26:case 27:case 5:Pa(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:J(vt);break;case 10:Ji(i.type);break;case 22:case 23:Sn(i),hm(),n!==null&&J($s);break;case 24:Ji(It)}}function eu(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Xe(i,i.return,A)}}function Fr(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var C=a,B=A;try{B()}catch(G){Xe(f,C,G)}}}l=l.next}while(l!==d)}}catch(G){Xe(i,i.return,G)}}function Fv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{M_(i,a)}catch(l){Xe(n,n.return,l)}}}function Hv(n,i,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(n,i,l)}}function tu(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Xe(n,i,f)}}function xi(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,i,f)}else a.current=null}function Gv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function Fm(n,i,a){try{var l=n.stateNode;fI(l,n.type,a,i),l[Bt]=i}catch(f){Xe(n,n.return,f)}}function Kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$r(n.type)||n.tag===4}function Hm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$r(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gm(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&$r(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Gm(n,i,a),n=n.sibling;n!==null;)Gm(n,i,a),n=n.sibling}function Sh(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&$r(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sh(n,i,a),n=n.sibling;n!==null;)Sh(n,i,a),n=n.sibling}function Qv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,l,a),i[St]=n,i[Bt]=a}catch(d){Xe(n,n.return,d)}}var nr=!1,Dt=!1,Km=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Gw(n,i){if(n=n.containerInfo,dp=Hh,n=a_(n),zd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,C=-1,B=0,G=0,$=n,q=null;t:for(;;){for(var F;$!==a||f!==0&&$.nodeType!==3||(A=_+f),$!==d||l!==0&&$.nodeType!==3||(C=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===n)break t;if(q===a&&++B===f&&(A=_),q===d&&++G===l&&(C=_),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(mp={focusedElem:n,selectionRange:a},Hh=!1,jt=i;jt!==null;)if(i=jt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,jt=n;else for(;jt!==null;){switch(i=jt,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=ta(a.type,f);n=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)yp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,jt=n;break}jt=i.return}}function Xv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(n,a),l&4&&eu(5,a);break;case 1:if(rr(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=ta(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Fv(a),l&512&&tu(a,a.return);break;case 3:if(rr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{M_(n,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&Qv(a);case 26:case 5:rr(n,a),i===null&&l&4&&Gv(a),l&512&&tu(a,a.return);break;case 12:rr(n,a);break;case 31:rr(n,a),l&4&&Zv(n,a);break;case 13:rr(n,a),l&4&&Wv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=eI.bind(null,a),EI(n,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||Dt,f=nr;var d=Dt;nr=l,(Dt=i)&&!d?sr(n,a,(a.subtreeFlags&8772)!==0):rr(n,a),nr=f,Dt=d}break;case 30:break;default:rr(n,a)}}function $v(n){var i=n.alternate;i!==null&&(n.alternate=null,$v(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ba(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,fn=!1;function ir(n,i,a){for(a=a.child;a!==null;)Jv(n,i,a),a=a.sibling}function Jv(n,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:Dt||xi(a,i),ir(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||xi(a,i);var l=ut,f=fn;$r(a.type)&&(ut=a.stateNode,fn=!1),ir(n,i,a),cu(a.stateNode),ut=l,fn=f;break;case 5:Dt||xi(a,i);case 6:if(l=ut,f=fn,ut=null,ir(n,i,a),ut=l,fn=f,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ut!==null&&(fn?(n=ut,FE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),wo(n)):FE(ut,a.stateNode));break;case 4:l=ut,f=fn,ut=a.stateNode.containerInfo,fn=!0,ir(n,i,a),ut=l,fn=f;break;case 0:case 11:case 14:case 15:Fr(2,a,i),Dt||Fr(4,a,i),ir(n,i,a);break;case 1:Dt||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hv(a,i,l)),ir(n,i,a);break;case 21:ir(n,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,ir(n,i,a),Dt=l;break;default:ir(n,i,a)}}function Zv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{wo(n)}catch(a){Xe(i,i.return,a)}}}function Wv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{wo(n)}catch(a){Xe(i,i.return,a)}}function Kw(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Yv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Yv),i;default:throw Error(r(435,n.tag))}}function bh(n,i){var a=Kw(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=tI.bind(null,n,l);l.then(f,f)}})}function dn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if($r(A.type)){ut=A.stateNode,fn=!1;break e}break;case 5:ut=A.stateNode,fn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(ut===null)throw Error(r(160));Jv(d,_,f),ut=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)eE(i,n),i=i.sibling}var oi=null;function eE(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:dn(i,n),mn(n),l&4&&(Fr(3,n,n.return),eu(3,n),Fr(5,n,n.return));break;case 1:dn(i,n),mn(n),l&512&&(Dt||a===null||xi(a,a.return)),l&64&&nr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(dn(i,n),mn(n),l&512&&(Dt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[St]=n,bt(d),l=d;break e;case"link":var _=eT("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=eT("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[St]=n,bt(d),l=d}n.stateNode=l}else tT(f,n.type,n.stateNode);else n.stateNode=WE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?tT(f,n.type,n.stateNode):WE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Fm(n,n.memoizedProps,a.memoizedProps)}break;case 27:dn(i,n),mn(n),l&512&&(Dt||a===null||xi(a,a.return)),a!==null&&l&4&&Fm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,n),mn(n),l&512&&(Dt||a===null||xi(a,a.return)),n.flags&32){f=n.stateNode;try{hn(f,"")}catch(fe){Xe(n,n.return,fe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Fm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Km=!0);break;case 6:if(dn(i,n),mn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){Xe(n,n.return,fe)}}break;case 3:if(Bh=null,f=oi,oi=Uh(i.containerInfo),dn(i,n),oi=f,mn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(i.containerInfo)}catch(fe){Xe(n,n.return,fe)}Km&&(Km=!1,tE(n));break;case 4:l=oi,oi=Uh(n.stateNode.containerInfo),dn(i,n),mn(n),oi=l;break;case 12:dn(i,n),mn(n);break;case 31:dn(i,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bh(n,l)));break;case 13:dn(i,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ih=rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bh(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=nr,G=Dt;if(nr=B||f,Dt=G||C,dn(i,n),Dt=G,nr=B,mn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||nr||Dt||na(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Xe(C,C.return,fe)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(fe){Xe(C,C.return,fe)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;f?HE(F,!0):HE(C.stateNode,!1)}catch(fe){Xe(C,C.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bh(n,a))));break;case 19:dn(i,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bh(n,l)));break;case 30:break;case 21:break;default:dn(i,n),mn(n)}}function mn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Kv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Hm(n);Sh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var A=Hm(n);Sh(n,A,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Hm(n);Gm(n,B,C);break;default:throw Error(r(161))}}catch(G){Xe(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function tE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;tE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function rr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xv(n,i.alternate,i),i=i.sibling}function na(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Fr(4,i,i.return),na(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hv(i,i.return,a),na(i);break;case 27:cu(i.stateNode);case 26:case 5:xi(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}n=n.sibling}}function sr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),eu(4,d);break;case 1:if(sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)O_(C[f],A)}catch(B){Xe(l,l.return,B)}}a&&_&64&&Fv(d),tu(d,d.return);break;case 27:Qv(d);case 26:case 5:sr(f,d,a),a&&l===null&&_&4&&Gv(d),tu(d,d.return);break;case 12:sr(f,d,a);break;case 31:sr(f,d,a),a&&_&4&&Zv(f,d);break;case 13:sr(f,d,a),a&&_&4&&Wv(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),tu(d,d.return);break;case 30:break;default:sr(f,d,a)}i=i.sibling}}function Qm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ql(a))}function Ym(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ql(n))}function li(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nE(n,i,a,l),i=i.sibling}function nE(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:li(n,i,a,l),f&2048&&eu(9,i);break;case 1:li(n,i,a,l);break;case 3:li(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ql(n)));break;case 12:if(f&2048){li(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Xe(i,i.return,C)}}else li(n,i,a,l);break;case 31:li(n,i,a,l);break;case 13:li(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?li(n,i,a,l):nu(n,i):d._visibility&2?li(n,i,a,l):(d._visibility|=2,mo(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Qm(_,i);break;case 24:li(n,i,a,l),f&2048&&Ym(i.alternate,i);break;default:li(n,i,a,l)}}function mo(n,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,_=i,A=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:mo(d,_,A,C,f),eu(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?mo(d,_,A,C,f):nu(d,_):(G._visibility|=2,mo(d,_,A,C,f)),f&&B&2048&&Qm(_.alternate,_);break;case 24:mo(d,_,A,C,f),f&&B&2048&&Ym(_.alternate,_);break;default:mo(d,_,A,C,f)}i=i.sibling}}function nu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:nu(a,l),f&2048&&Qm(l.alternate,l);break;case 24:nu(a,l),f&2048&&Ym(l.alternate,l);break;default:nu(a,l)}i=i.sibling}}var iu=8192;function po(n,i,a){if(n.subtreeFlags&iu)for(n=n.child;n!==null;)iE(n,i,a),n=n.sibling}function iE(n,i,a){switch(n.tag){case 26:po(n,i,a),n.flags&iu&&n.memoizedState!==null&&OI(a,oi,n.memoizedState,n.memoizedProps);break;case 5:po(n,i,a);break;case 3:case 4:var l=oi;oi=Uh(n.stateNode.containerInfo),po(n,i,a),oi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=iu,iu=16777216,po(n,i,a),iu=l):po(n,i,a));break;default:po(n,i,a)}}function rE(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ru(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,aE(l,n)}rE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sE(n),n=n.sibling}function sE(n){switch(n.tag){case 0:case 11:case 15:ru(n),n.flags&2048&&Fr(9,n,n.return);break;case 3:ru(n);break;case 12:ru(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,wh(n)):ru(n);break;default:ru(n)}}function wh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,aE(l,n)}rE(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Fr(8,i,i.return),wh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wh(i));break;default:wh(i)}n=n.sibling}}function aE(n,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Fr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=n;jt!==null;){l=jt;var f=l.sibling,d=l.return;if($v(l),l===a){jt=null;break e}if(f!==null){f.return=d,jt=f;break e}jt=d}}}var Qw={getCacheForType:function(n){var i=Qt(It),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return Qt(It).controller.signal}},Yw=typeof WeakMap=="function"?WeakMap:Map,He=0,it=null,Ve=null,Me=0,Ye=0,bn=null,Hr=!1,go=!1,Xm=!1,ar=0,pt=0,Gr=0,ia=0,$m=0,wn=0,yo=0,su=null,pn=null,Jm=!1,Ih=0,oE=0,Rh=1/0,Ch=null,Kr=null,kt=0,Qr=null,_o=null,or=0,Zm=0,Wm=null,lE=null,au=0,ep=null;function In(){return(He&2)!==0&&Me!==0?Me&-Me:K.T!==null?ap():Dc()}function uE(){if(wn===0)if((Me&536870912)===0||Le){var n=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),wn=n}else wn=536870912;return n=An.current,n!==null&&(n.flags|=32),wn}function gn(n,i,a){(n===it&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(vo(n,0),Yr(n,Me,wn,!1)),Vs(n,a),((He&2)===0||n!==it)&&(n===it&&((He&2)===0&&(ia|=a),pt===4&&Yr(n,Me,wn,!1)),Pi(n))}function cE(n,i,a){if((He&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||Zn(n,i),f=l?Jw(n,i):np(n,i,!0),d=l;do{if(f===0){go&&!l&&Yr(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!Xw(a)){f=np(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=n;f=su;var C=A.current.memoizedState.isDehydrated;if(C&&(vo(A,_).flags|=256),_=np(A,_,!1),_!==2){if(Xm&&!C){A.errorRecoveryDisabledLanes|=d,ia|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){vo(n,0),Yr(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Yr(l,i,wn,!Hr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Ih+300-rn(),10<f)){if(Yr(l,i,wn,!Hr),yi(l,0,!0)!==0)break e;or=i,l.timeoutHandle=qE(hE.bind(null,l,a,pn,Ch,Jm,i,wn,ia,yo,Hr,d,"Throttled",-0,0),f);break e}hE(l,a,pn,Ch,Jm,i,wn,ia,yo,Hr,d,null,-0,0)}}break}while(!0);Pi(n)}function hE(n,i,a,l,f,d,_,A,C,B,G,$,q,F){if(n.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},iE(i,d,$);var fe=(d&62914560)===d?Ih-rn():(d&4194048)===d?oE-rn():0;if(fe=MI($,fe),fe!==null){or=d,n.cancelPendingCommit=fe(vE.bind(null,n,i,d,a,l,f,_,A,C,G,$,null,q,F)),Yr(n,d,_,!B);return}}vE(n,i,d,a,l,f,_,A,C)}function Xw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(n,i,a,l){i&=~$m,i&=~ia,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Os(n,a,i)}function Dh(){return(He&6)===0?(ou(0),!1):!0}function tp(){if(Ve!==null){if(Ye===0)var n=Ve.return;else n=Ve,$i=Ys=null,ym(n),lo=null,Fl=0,n=Ve;for(;n!==null;)jv(n.alternate,n),n=n.return;Ve=null}}function vo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,pI(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),or=0,tp(),it=n,Ve=a=Yi(n.current,null),Me=i,Ye=0,bn=null,Hr=!1,go=Zn(n,i),Xm=!1,yo=wn=$m=ia=Gr=pt=0,pn=su=null,Jm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-yt(l),d=1<<f;i|=n[f],l&=~d}return ar=i,$c(),a}function fE(n,i){Ie=null,K.H=Jl,i===oo||i===rh?(i=C_(),Ye=3):i===sm?(i=C_(),Ye=4):Ye=i===Mm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ve===null&&(pt=1,_h(n,Un(i,n.current)))}function dE(){var n=An.current;return n===null?!0:(Me&4194048)===Me?jn===null:(Me&62914560)===Me||(Me&536870912)!==0?n===jn:!1}function mE(){var n=K.H;return K.H=Jl,n===null?Jl:n}function pE(){var n=K.A;return K.A=Qw,n}function Nh(){pt=4,Hr||(Me&4194048)!==Me&&An.current!==null||(go=!0),(Gr&134217727)===0&&(ia&134217727)===0||it===null||Yr(it,Me,wn,!1)}function np(n,i,a){var l=He;He|=2;var f=mE(),d=pE();(it!==n||Me!==i)&&(Ch=null,vo(n,i)),i=!1;var _=pt;e:do try{if(Ye!==0&&Ve!==null){var A=Ve,C=bn;switch(Ye){case 8:tp(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var B=Ye;if(Ye=0,bn=null,Eo(n,A,C,B),a&&go){_=0;break e}break;default:B=Ye,Ye=0,bn=null,Eo(n,A,C,B)}}$w(),_=pt;break}catch(G){fE(n,G)}while(!0);return i&&n.shellSuspendCounter++,$i=Ys=null,He=l,K.H=f,K.A=d,Ve===null&&(it=null,Me=0,$c()),_}function $w(){for(;Ve!==null;)gE(Ve)}function Jw(n,i){var a=He;He|=2;var l=mE(),f=pE();it!==n||Me!==i?(Ch=null,Rh=rn()+500,vo(n,i)):go=Zn(n,i);e:do try{if(Ye!==0&&Ve!==null){i=Ve;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,Eo(n,i,d,1);break;case 2:case 9:if(I_(d)){Ye=0,bn=null,yE(i);break}i=function(){Ye!==2&&Ye!==9||it!==n||(Ye=7),Pi(n)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:I_(d)?(Ye=0,bn=null,yE(i)):(Ye=0,bn=null,Eo(n,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(_?nT(_):A.stateNode.complete){Ye=0,bn=null;var C=A.sibling;if(C!==null)Ve=C;else{var B=A.return;B!==null?(Ve=B,Vh(B)):Ve=null}break t}}Ye=0,bn=null,Eo(n,i,d,5);break;case 6:Ye=0,bn=null,Eo(n,i,d,6);break;case 8:tp(),pt=6;break e;default:throw Error(r(462))}}Zw();break}catch(G){fE(n,G)}while(!0);return $i=Ys=null,K.H=l,K.A=f,He=a,Ve!==null?0:(it=null,Me=0,$c(),pt)}function Zw(){for(;Ve!==null&&!Od();)gE(Ve)}function gE(n){var i=Bv(n.alternate,n,ar);n.memoizedProps=n.pendingProps,i===null?Vh(n):Ve=i}function yE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=xv(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=xv(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:ym(i);default:jv(a,i),i=Ve=p_(i,ar),i=Bv(a,i,ar)}n.memoizedProps=n.pendingProps,i===null?Vh(n):Ve=i}function Eo(n,i,a,l){$i=Ys=null,ym(i),lo=null,Fl=0;var f=i.return;try{if(Bw(n,f,i,a,Me)){pt=1,_h(n,Un(a,n.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;pt=1,_h(n,Un(a,n.current)),Ve=null;return}i.flags&32768?(Le||l===1?n=!0:go||(Me&536870912)!==0?n=!1:(Hr=n=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),_E(i,n)):Vh(i)}function Vh(n){var i=n;do{if((i.flags&32768)!==0){_E(i,Hr);return}n=i.return;var a=Fw(i.alternate,i,ar);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=n}while(i!==null);pt===0&&(pt=5)}function _E(n,i){do{var a=Hw(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);pt=6,Ve=null}function vE(n,i,a,l,f,d,_,A,C){n.cancelPendingCommit=null;do Oh();while(kt!==0);if((He&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Hd,Pd(n,a,d,_,A,C),n===it&&(Ve=it=null,Me=0),_o=i,Qr=n,or=a,Zm=d,Wm=f,lE=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nI(br,function(){return bE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=oe.p,oe.p=2,_=He,He|=4;try{Gw(n,i,a)}finally{He=_,oe.p=f,K.T=l}}kt=1,EE(),TE(),AE()}}function EE(){if(kt===1){kt=0;var n=Qr,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=He;He|=4;try{eE(i,n);var d=mp,_=a_(n.containerInfo),A=d.focusedElem,C=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&s_(A.ownerDocument.documentElement,A)){if(C!==null&&zd(A)){var B=C.start,G=C.end;if(G===void 0&&(G=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(G,A.value.length);else{var $=A.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),fe=A.textContent.length,ve=Math.min(C.start,fe),nt=C.end===void 0?ve:Math.min(C.end,fe);!F.extend&&ve>nt&&(_=nt,nt=ve,ve=_);var x=r_(A,ve),N=r_(A,nt);if(x&&N&&(F.rangeCount!==1||F.anchorNode!==x.node||F.anchorOffset!==x.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=$.createRange();z.setStart(x.node,x.offset),F.removeAllRanges(),ve>nt?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for($=[],F=A;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var X=$[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Hh=!!dp,mp=dp=null}finally{He=f,oe.p=l,K.T=a}}n.current=i,kt=2}}function TE(){if(kt===2){kt=0;var n=Qr,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=He;He|=4;try{Xv(n,i.alternate,i)}finally{He=f,oe.p=l,K.T=a}}kt=3}}function AE(){if(kt===4||kt===3){kt=0,Ac();var n=Qr,i=_o,a=or,l=lE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,_o=Qr=null,SE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Kr=null),Hi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=oe.p,oe.p=2,K.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{K.T=i,oe.p=f}}(or&3)!==0&&Oh(),Pi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===ep?au++:(au=0,ep=n):au=0,ou(0)}}function SE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ql(i)))}function Oh(){return EE(),TE(),AE(),bE()}function bE(){if(kt!==5)return!1;var n=Qr,i=Zm;Zm=0;var a=Hi(or),l=K.T,f=oe.p;try{oe.p=32>a?32:a,K.T=null,a=Wm,Wm=null;var d=Qr,_=or;if(kt=0,_o=Qr=null,or=0,(He&6)!==0)throw Error(r(331));var A=He;if(He|=4,sE(d.current),nE(d,d.current,_,a),He=A,ou(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Jn,d)}catch{}return!0}finally{oe.p=f,K.T=l,SE(n,i)}}function wE(n,i,a){i=Un(a,i),i=Om(n.stateNode,i,2),n=Br(n,i,2),n!==null&&(Vs(n,2),Pi(n))}function Xe(n,i,a){if(n.tag===3)wE(n,n,a);else for(;i!==null;){if(i.tag===3){wE(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){n=Un(a,n),a=Iv(2),l=Br(i,a,2),l!==null&&(Rv(a,l,i,n),Vs(l,2),Pi(l));break}}i=i.return}}function ip(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Yw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Xm=!0,f.add(a),n=Ww.bind(null,n,i,a),i.then(n,n))}function Ww(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(Me&a)===a&&(pt===4||pt===3&&(Me&62914560)===Me&&300>rn()-Ih?(He&2)===0&&vo(n,0):$m|=a,yo===Me&&(yo=0)),Pi(n)}function IE(n,i){i===0&&(i=Cc()),n=Gs(n,i),n!==null&&(Vs(n,i),Pi(n))}function eI(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),IE(n,a)}function tI(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),IE(n,a)}function nI(n,i){return Pt(n,i)}var Mh=null,To=null,rp=!1,xh=!1,sp=!1,Xr=0;function Pi(n){n!==To&&n.next===null&&(To===null?Mh=To=n:To=To.next=n),xh=!0,rp||(rp=!0,rI())}function ou(n,i){if(!sp&&xh){sp=!0;do for(var a=!1,l=Mh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-yt(42|n)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,NE(l,d))}else d=Me,d=yi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,NE(l,d));l=l.next}while(a);sp=!1}}function iI(){RE()}function RE(){xh=rp=!1;var n=0;Xr!==0&&mI()&&(n=Xr);for(var i=rn(),a=null,l=Mh;l!==null;){var f=l.next,d=CE(l,i);d===0?(l.next=null,a===null?Mh=f:a.next=f,f===null&&(To=a)):(a=l,(n!==0||(d&3)!==0)&&(xh=!0)),l=f}kt!==0&&kt!==5||ou(n),Xr!==0&&(Xr=0)}function CE(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-yt(d),A=1<<_,C=f[_];C===-1?((A&a)===0||(A&l)!==0)&&(f[_]=xd(A,i)):C<=i&&(n.expiredLanes|=A),d&=~A}if(i=it,a=Me,a=yi(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Zn(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Sr(l),Hi(a)){case 2:case 8:a=yl;break;case 32:a=br;break;case 268435456:a=Sc;break;default:a=br}return l=DE.bind(null,n),a=Pt(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Sr(l),n.callbackPriority=2,n.callbackNode=null,2}function DE(n,i){if(kt!==0&&kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Oh()&&n.callbackNode!==a)return null;var l=Me;return l=yi(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(cE(n,l,i),CE(n,rn()),n.callbackNode!=null&&n.callbackNode===a?DE.bind(null,n):null)}function NE(n,i){if(Oh())return null;cE(n,i,!0)}function rI(){gI(function(){(He&6)!==0?Pt(gl,iI):RE()})}function ap(){if(Xr===0){var n=so;n===0&&(n=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Xr=n}return Xr}function VE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ha(""+n)}function OE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function sI(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=VE((f[Bt]||null).action),_=l.submitter;_&&(i=(i=_[Bt]||null)?VE(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Ci("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var C=_?OE(f,_):new FormData(f);Im(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=_?OE(f,_):new FormData(f),Im(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var op=0;op<Fd.length;op++){var lp=Fd[op],aI=lp.toLowerCase(),oI=lp[0].toUpperCase()+lp.slice(1);ai(aI,"on"+oI)}ai(u_,"onAnimationEnd"),ai(c_,"onAnimationIteration"),ai(h_,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Sw,"onTransitionRun"),ai(bw,"onTransitionStart"),ai(ww,"onTransitionCancel"),ai(f_,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function ME(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],C=A.instance,B=A.currentTarget;if(A=A.listener,C!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=B;try{d(f)}catch(G){Xc(G)}f.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(A=l[_],C=A.instance,B=A.currentTarget,A=A.listener,C!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=B;try{d(f)}catch(G){Xc(G)}f.currentTarget=null,d=C}}}}function Oe(n,i){var a=i[za];a===void 0&&(a=i[za]=new Set);var l=n+"__bubble";a.has(l)||(xE(i,n,2,!1),a.add(l))}function up(n,i,a){var l=0;i&&(l|=4),xE(a,n,l,i)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function cp(n){if(!n[Ph]){n[Ph]=!0,El.forEach(function(a){a!=="selectionchange"&&(lI.has(a)||up(a,!1,n),up(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ph]||(i[Ph]=!0,up("selectionchange",!1,i))}}function xE(n,i,a,l){switch(uT(i)){case 2:var f=kI;break;case 8:f=LI;break;default:f=wp}a=f.bind(null,i,a,n),f=void 0,!Ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function hp(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Ti(A),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Nr(function(){var B=d,G=xn(a),$=[];e:{var q=d_.get(n);if(q!==void 0){var F=Ci,fe=n;switch(n){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":F=Kc;break;case"focusin":fe="focus",F=qs;break;case"focusout":fe="blur",F=qs;break;case"beforeblur":case"afterblur":F=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=y;break;case u_:case c_:case h_:F=zc;break;case f_:F=S;break;case"scroll":case"scrollend":F=Ol;break;case"wheel":F=j;break;case"copy":case"cut":case"paste":F=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Qi;break;case"toggle":case"beforetoggle":F=we}var ve=(i&4)!==0,nt=!ve&&(n==="scroll"||n==="scrollend"),x=ve?q!==null?q+"Capture":null:q;ve=[];for(var N=B,z;N!==null;){var X=N;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||x===null||(X=ni(N,x),X!=null&&ve.push(uu(N,X,z))),nt)break;N=N.return}0<ve.length&&(q=new F(q,fe,null,a,G),$.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",q&&a!==Dl&&(fe=a.relatedTarget||a.fromElement)&&(Ti(fe)||fe[vi]))break e;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=B,fe=fe?Ti(fe):null,fe!==null&&(nt=u(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(F=null,fe=B),F!==fe)){if(ve=Ml,X="onMouseLeave",x="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Qi,X="onPointerLeave",x="onPointerEnter",N="pointer"),nt=F==null?q:_n(F),z=fe==null?q:_n(fe),q=new ve(X,N+"leave",F,a,G),q.target=nt,q.relatedTarget=z,X=null,Ti(G)===B&&(ve=new ve(x,N+"enter",fe,a,G),ve.target=z,ve.relatedTarget=nt,X=ve),nt=X,F&&fe)t:{for(ve=uI,x=F,N=fe,z=0,X=x;X;X=ve(X))z++;X=0;for(var ge=N;ge;ge=ve(ge))X++;for(;0<z-X;)x=ve(x),z--;for(;0<X-z;)N=ve(N),X--;for(;z--;){if(x===N||N!==null&&x===N.alternate){ve=x;break t}x=ve(x),N=ve(N)}ve=null}else ve=null;F!==null&&PE($,q,F,ve,!1),fe!==null&&nt!==null&&PE($,nt,fe,ve,!0)}}e:{if(q=B?_n(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var qe=Zy;else if($y(q))if(Wy)qe=Ew;else{qe=_w;var me=yw}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Fa(B.elementType)&&(qe=Zy):qe=vw;if(qe&&(qe=qe(n,B))){Jy($,qe,a,G);break e}me&&me(n,q,B),n==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Il(q,"number",q.value)}switch(me=B?_n(B):window,n){case"focusin":($y(me)||me.contentEditable==="true")&&(Ja=me,Bd=B,Ul=null);break;case"focusout":Ul=Bd=Ja=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,o_($,a,G);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":o_($,a,G)}var Ce;if(Fe)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else $a?js(n,a)&&(xe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Vi&&a.locale!=="ko"&&($a||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&$a&&(Ce=Vl()):(Ri=G,Nl="value"in Ri?Ri.value:Ri.textContent,$a=!0)),me=kh(B,xe),0<me.length&&(xe=new Ni(xe,n,null,a,G),$.push({event:xe,listeners:me}),Ce?xe.data=Ce:(Ce=Xa(a),Ce!==null&&(xe.data=Ce)))),(Ce=kn?dw(n,a):mw(n,a))&&(xe=kh(B,"onBeforeInput"),0<xe.length&&(me=new Ni("onBeforeInput","beforeinput",null,a,G),$.push({event:me,listeners:xe}),me.data=Ce)),sI($,n,B,a,G)}ME($,i)})}function uu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function kh(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ni(n,a),f!=null&&l.unshift(uu(n,f,d)),f=ni(n,i),f!=null&&l.push(uu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function uI(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function PE(n,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,C=A.alternate,B=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||B===null||(C=B,f?(B=ni(a,d),B!=null&&_.unshift(uu(a,B,C))):f||(B=ni(a,d),B!=null&&_.push(uu(a,B,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var cI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function kE(n){return(typeof n=="string"?n:""+n).replace(cI,`
`).replace(hI,"")}function LE(n,i){return i=kE(i),kE(n)===i}function tt(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(n,""+l);break;case"className":vn(n,"class",l);break;case"tabIndex":vn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(n,a,l);break;case"style":Cl(n,l,d);break;case"data":if(i!=="object"){vn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(n,i,"name",f.name,f,null),tt(n,i,"formEncType",f.formEncType,f,null),tt(n,i,"formMethod",f.formMethod,f,null),tt(n,i,"formTarget",f.formTarget,f,null)):(tt(n,i,"encType",f.encType,f,null),tt(n,i,"method",f.method,f,null),tt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ti);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ha(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),qa(n,"popover",l);break;case"xlinkActuate":wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qa(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kc.get(a)||a,qa(n,a,l))}}function fp(n,i,a,l,f,d){switch(a){case"style":Cl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?hn(n,l):(typeof l=="number"||typeof l=="bigint")&&hn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):qa(n,a,l)}}}function Xt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(n,i,d,_,a,null)}}f&&tt(n,i,"srcSet",a.srcSet,a,null),l&&tt(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var A=d=_=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":B=G;break;case"value":d=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:tt(n,i,l,G,a,null)}}Mc(n,d,A,C,B,_,f,!1);return;case"select":Oe("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:tt(n,i,f,A,a,null)}i=d,a=_,n.multiple=!!l,i!=null?Ir(n,!!l,i,!1):a!=null&&Ir(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(n,i,_,A,a,null)}Rr(n,l,f,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,i,C,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<lu.length;l++)Oe(lu[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(n,i,B,l,a,null)}return;default:if(Fa(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&fp(n,i,G,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&tt(n,i,A,l,a,null))}function fI(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,C=null,B=null,G=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||tt(n,i,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":d=F;break;case"name":f=F;break;case"checked":B=F;break;case"defaultChecked":G=F;break;case"value":_=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==$&&tt(n,i,q,F,l,$)}}ja(n,_,A,C,B,G,d,f);return;case"select":F=_=A=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||tt(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==C&&tt(n,i,f,d,l,C)}i=A,a=_,l=F,q!=null?Ir(n,!!a,q,!1):!!l!=!!a&&(i!=null?Ir(n,!!a,i,!0):Ir(n,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(n,i,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&tt(n,i,_,f,l,d)}xc(n,q,F);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:tt(n,i,fe,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(n,i,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&tt(n,i,ve,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:tt(n,i,B,q,l,F)}return;default:if(Fa(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&fp(n,i,nt,void 0,l,q);for(G in l)q=l[G],F=a[G],!l.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||fp(n,i,G,q,l,F);return}}for(var x in a)q=a[x],a.hasOwnProperty(x)&&q!=null&&!l.hasOwnProperty(x)&&tt(n,i,x,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||tt(n,i,$,q,l,F)}function UE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dI(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&UE(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>A)break;var G=C.transferSize,$=C.initiatorType;G&&UE($)&&(C=C.responseEnd,_+=G*(C<A?1:(A-B)/(C-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var dp=null,mp=null;function Lh(n){return n.nodeType===9?n:n.ownerDocument}function zE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function pp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gp=null;function mI(){var n=window.event;return n&&n.type==="popstate"?n===gp?!1:(gp=n,!0):(gp=null,!1)}var qE=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,gI=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(n){return jE.resolve(null).then(n).catch(yI)}:qE;function yI(n){setTimeout(function(){throw n})}function $r(n){return n==="head"}function FE(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),wo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")cu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,cu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&cu(n.ownerDocument.body);a=f}while(a);wo(i)}function HE(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function yp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yp(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _I(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ei])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function vI(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function GE(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Fn(n.nextSibling),n===null))return null;return n}function _p(n){return n.data==="$?"||n.data==="$~"}function vp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function EI(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Ep=null;function KE(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function QE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function YE(n,i,a){switch(i=Lh(a),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function cu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ba(n)}var Hn=new Map,XE=new Set;function Uh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var lr=oe.d;oe.d={f:TI,r:AI,D:SI,C:bI,L:wI,m:II,X:CI,S:RI,M:DI};function TI(){var n=lr.f(),i=Dh();return n||i}function AI(n){var i=Mn(n);i!==null&&i.tag===5&&i.type==="form"?fv(i):lr.r(n)}var Ao=typeof document>"u"?null:document;function $E(n,i,a){var l=Ao;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),XE.has(f)||(XE.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xt(i,"link",n),bt(i),l.head.appendChild(i)))}}function SI(n){lr.D(n),$E("dns-prefetch",n,null)}function bI(n,i){lr.C(n,i),$E("preconnect",n,i)}function wI(n,i,a){lr.L(n,i,a);var l=Ao;if(l&&n&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(n)+'"]';var d=f;switch(i){case"style":d=So(n);break;case"script":d=bo(n)}Hn.has(d)||(n=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Hn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(hu(d))||i==="script"&&l.querySelector(fu(d))||(i=l.createElement("link"),Xt(i,"link",n),bt(i),l.head.appendChild(i)))}}function II(n,i){lr.m(n,i);var a=Ao;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=bo(n)}if(!Hn.has(d)&&(n=T({rel:"modulepreload",href:n},i),Hn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fu(d)))return}l=a.createElement("link"),Xt(l,"link",n),bt(l),a.head.appendChild(l)}}}function RI(n,i,a){lr.S(n,i,a);var l=Ao;if(l&&n){var f=Ai(l).hoistableStyles,d=So(n);i=i||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(hu(d)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Hn.get(d))&&Tp(n,a);var C=_=l.createElement("link");bt(C),Xt(C,"link",n),C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function CI(n,i){lr.X(n,i);var a=Ao;if(a&&n){var l=Ai(a).hoistableScripts,f=bo(n),d=l.get(f);d||(d=a.querySelector(fu(f)),d||(n=T({src:n,async:!0},i),(i=Hn.get(f))&&Ap(n,i),d=a.createElement("script"),bt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function DI(n,i){lr.M(n,i);var a=Ao;if(a&&n){var l=Ai(a).hoistableScripts,f=bo(n),d=l.get(f);d||(d=a.querySelector(fu(f)),d||(n=T({src:n,async:!0,type:"module"},i),(i=Hn.get(f))&&Ap(n,i),d=a.createElement("script"),bt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function JE(n,i,a,l){var f=(f=Re.current)?Uh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=So(a.href),a=Ai(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=So(a.href);var d=Ai(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(hu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),d||NI(f,n,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bo(a),a=Ai(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function So(n){return'href="'+cn(n)+'"'}function hu(n){return'link[rel="stylesheet"]['+n+"]"}function ZE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function NI(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),bt(i),n.head.appendChild(i))}function bo(n){return'[src="'+cn(n)+'"]'}function fu(n){return"script[async]"+n}function WE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),bt(l),Xt(l,"style",f),zh(l,a.precedence,n),i.instance=l;case"stylesheet":f=So(a.href);var d=n.querySelector(hu(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=ZE(a),(f=Hn.get(f))&&Tp(l,f),d=(n.ownerDocument||n).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(A,C){_.onload=A,_.onerror=C}),Xt(d,"link",l),i.state.loading|=4,zh(d,a.precedence,n),i.instance=d;case"script":return d=bo(a.src),(f=n.querySelector(fu(d)))?(i.instance=f,bt(f),f):(l=a,(f=Hn.get(d))&&(l=T({},a),Ap(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),bt(f),Xt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zh(l,a.precedence,n));return i.instance}function zh(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Tp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Ap(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Bh=null;function eT(n,i,a){if(Bh===null){var l=new Map,f=Bh=new Map;f.set(a,l)}else f=Bh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function tT(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function VI(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function nT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function OI(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=So(l.href),d=i.querySelector(hu(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=qh.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=ZE(l),(f=Hn.get(f))&&Tp(l,f),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(A,C){_.onload=A,_.onerror=C}),Xt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=qh.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Sp=0;function MI(n,i){return n.stylesheets&&n.count===0&&Fh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Fh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&Sp===0&&(Sp=62500*dI());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Fh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Sp?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jh=null;function Fh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jh=new Map,i.forEach(xI,n),jh=null,qh.call(n))}function xI(n,i){if(!(i.state.loading&4)){var a=jh.get(n);if(a)var l=a.get(null);else{a=new Map,jh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=qh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var du={$$typeof:Z,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function PI(n,i,a,l,f,d,_,A,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iT(n,i,a,l,f,d,_,A,C,B,G,$){return n=new PI(n,i,a,_,C,B,G,$,A),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),n.current=d,d.stateNode=n,i=nm(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},am(d),n}function rT(n){return n?(n=eo,n):eo}function sT(n,i,a,l,f,d){f=rT(f),l.context===null?l.context=f:l.pendingContext=f,l=zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(n,l,i),a!==null&&(gn(a,n,i),Gl(a,n,i))}function aT(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function bp(n,i){aT(n,i),(n=n.alternate)&&aT(n,i)}function oT(n){if(n.tag===13||n.tag===31){var i=Gs(n,67108864);i!==null&&gn(i,n,67108864),bp(n,67108864)}}function lT(n){if(n.tag===13||n.tag===31){var i=In();i=Ms(i);var a=Gs(n,i);a!==null&&gn(a,n,i),bp(n,i)}}var Hh=!0;function kI(n,i,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=2,wp(n,i,a,l)}finally{oe.p=d,K.T=f}}function LI(n,i,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=8,wp(n,i,a,l)}finally{oe.p=d,K.T=f}}function wp(n,i,a,l){if(Hh){var f=Ip(l);if(f===null)hp(n,i,l,Gh,a),cT(n,l);else if(zI(f,n,i,a,l))l.stopPropagation();else if(cT(n,l),i&4&&-1<UI.indexOf(n)){for(;f!==null;){var d=Mn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var C=1<<31-yt(_);A.entanglements[1]|=C,_&=~C}Pi(d),(He&6)===0&&(Rh=rn()+500,ou(0))}}break;case 31:case 13:A=Gs(d,2),A!==null&&gn(A,d,2),Dh(),bp(d,2)}if(d=Ip(l),d===null&&hp(n,i,l,Gh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else hp(n,i,l,null,a)}}function Ip(n){return n=xn(n),Rp(n)}var Gh=null;function Rp(n){if(Gh=null,n=Ti(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=m(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Gh=n,null}function uT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ds()){case gl:return 2;case yl:return 8;case br:case Md:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var Cp=!1,Jr=null,Zr=null,Wr=null,mu=new Map,pu=new Map,es=[],UI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(n,i){switch(n){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function gu(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Mn(i),i!==null&&oT(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function zI(n,i,a,l,f){switch(i){case"focusin":return Jr=gu(Jr,n,i,a,l,f),!0;case"dragenter":return Zr=gu(Zr,n,i,a,l,f),!0;case"mouseover":return Wr=gu(Wr,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return mu.set(d,gu(mu.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,pu.set(d,gu(pu.get(d)||null,n,i,a,l,f)),!0}return!1}function hT(n){var i=Ti(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,Wn(n.priority,function(){lT(a)});return}}else if(i===31){if(i=m(a),i!==null){n.blockedOn=i,Wn(n.priority,function(){lT(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Ip(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Dl=l,a.target.dispatchEvent(l),Dl=null}else return i=Mn(a),i!==null&&oT(i),n.blockedOn=a,!1;i.shift()}return!0}function fT(n,i,a){Kh(n)&&a.delete(i)}function BI(){Cp=!1,Jr!==null&&Kh(Jr)&&(Jr=null),Zr!==null&&Kh(Zr)&&(Zr=null),Wr!==null&&Kh(Wr)&&(Wr=null),mu.forEach(fT),pu.forEach(fT)}function Qh(n,i){n.blockedOn===i&&(n.blockedOn=null,Cp||(Cp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,BI)))}var Yh=null;function dT(n){Yh!==n&&(Yh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Yh===n&&(Yh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Rp(l||a)===null)continue;break}var d=Mn(a);d!==null&&(n.splice(i,3),i-=3,Im(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function wo(n){function i(C){return Qh(C,n)}Jr!==null&&Qh(Jr,n),Zr!==null&&Qh(Zr,n),Wr!==null&&Qh(Wr,n),mu.forEach(i),pu.forEach(i);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)hT(a),a.blockedOn===null&&es.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Bt]||null;if(typeof d=="function")_||dT(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Bt]||null)A=_.formAction;else if(Rp(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),dT(a)}}}function mT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Dp(n){this._internalRoot=n}Xh.prototype.render=Dp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=In();sT(a,l,n,i,null,null)},Xh.prototype.unmount=Dp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;sT(n.current,2,null,n,null,null),Dh(),i[vi]=null}};function Xh(n){this._internalRoot=n}Xh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dc();n={blockedOn:null,target:n,priority:i};for(var a=0;a<es.length&&i!==0&&i<es[a].priority;a++);es.splice(a,0,n),a===0&&hT(n)}};var pT=e.version;if(pT!=="19.2.0")throw Error(r(527,pT,"19.2.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(i),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var qI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Jn=$h.inject(qI),Ht=$h}catch{}}return _u.createRoot=function(n,i){if(!o(n))throw Error(r(299));var a=!1,l="",f=Av,d=Sv,_=bv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=iT(n,1,!1,null,null,a,l,null,f,d,_,mT),n[vi]=i.current,cp(n),new Dp(i)},_u.hydrateRoot=function(n,i,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=Av,_=Sv,A=bv,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=iT(n,1,!0,i,a??null,l,f,C,d,_,A,mT),i.context=rT(null),a=i.current,l=In(),l=Ms(l),f=zr(l),f.callback=null,Br(a,f,l),a=l,i.current.lanes=a,Vs(i,a),Pi(i),n[vi]=i.current,cp(n),new Xh(i)},_u.version="19.2.0",_u}var IT;function iR(){if(IT)return Op.exports;IT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Op.exports=nR(),Op.exports}var rR=iR();function BA({children:s}){return Ne.jsx(Ne.Fragment,{children:Ne.jsx("div",{className:"w-full p-1 bg-white",children:Ne.jsx("div",{className:"w-full rounded-xl p-4 border-2 bg-white ",children:s})})})}const G4=Object.freeze(Object.defineProperty({__proto__:null,Block:BA},Symbol.toStringTag,{value:"Module"}));function qA({className:s}){return Ne.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},xmlnsXlink:"http://www.w3.org/1999/xlink",className:s,children:Ne.jsxs("g",{children:[Ne.jsx("g",{transform:"translate(50 50)",children:Ne.jsx("path",{d:"M40.7-34.3c-9.8-9.8-25.6-9.8-35.4,0L0-29l-5.3-5.3c-9.8-9.8-25.6-9.8-35.4,0l0,0c-9.8,9.8-9.8,25.6,0,35.4l5.3,5.3L-23,18.7l23,23l23-23L35.4,6.3L40.7,1C50.4-8.8,50.4-24.6,40.7-34.3z",transform:"scale(0.8)",fill:"#ff637e",stroke:"#ffffff",children:Ne.jsx("animateTransform",{keySplines:"0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1",calcMode:"spline",values:"0.68;0.8;0.6000000000000001;0.7200000000000001;0.68;0.6400000000000001",keyTimes:"0;0.05;0.39;0.45;0.6;1",dur:"2.5s",repeatCount:"indefinite",type:"scale",attributeName:"transform"})})}),Ne.jsx("g",{})]})})}function sR(){return Ne.jsx("div",{className:"absolute inset-0 w-[100vw] h-[100vh] bg-black/10 z-100",children:Ne.jsx(qA,{className:"relative left-1/2 top-1/2 -translate-1/2 size-30"})})}function K4(){return Ne.jsx(BA,{children:Ne.jsx("div",{className:"relative py-5 z-100",children:Ne.jsx(qA,{className:"mx-auto size-25"})})})}var kp={exports:{}},Lp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function aR(){if(RT)return Lp;RT=1;var s=rd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=s.useSyncExternalStore,o=s.useRef,u=s.useEffect,c=s.useMemo,m=s.useDebugValue;return Lp.useSyncExternalStoreWithSelector=function(p,g,E,T,w){var P=o(null);if(P.current===null){var H={hasValue:!1,value:null};P.current=H}else H=P.current;P=c(function(){function Y(re){if(!ne){if(ne=!0,ae=re,re=T(re),w!==void 0&&H.hasValue){var ce=H.value;if(w(ce,re))return Z=ce}return Z=re}if(ce=Z,t(ae,re))return ce;var I=T(re);return w!==void 0&&w(ce,I)?(ae=re,ce):(ae=re,Z=I)}var ne=!1,ae,Z,ue=E===void 0?null:E;return[function(){return Y(g())},ue===null?void 0:function(){return Y(ue())}]},[g,E,T,w]);var W=r(p,P[0],P[1]);return u(function(){H.hasValue=!0,H.value=W},[W]),m(W),W},Lp}var CT;function oR(){return CT||(CT=1,kp.exports=aR()),kp.exports}var lR=oR();function uR(s){s()}function cR(){let s=null,e=null;return{clear(){s=null,e=null},notify(){uR(()=>{let t=s;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=s;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:s=o,function(){!r||s===null||(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:s=o.next)}}}}var DT={notify(){},get:()=>[]};function hR(s,e){let t,r=DT,o=0,u=!1;function c(W){E();const Y=r.subscribe(W);let ne=!1;return()=>{ne||(ne=!0,Y(),T())}}function m(){r.notify()}function p(){H.onStateChange&&H.onStateChange()}function g(){return u}function E(){o++,t||(t=s.subscribe(p),r=cR())}function T(){o--,t&&o===0&&(t(),t=void 0,r.clear(),r=DT)}function w(){u||(u=!0,E())}function P(){u&&(u=!1,T())}const H={addNestedSub:c,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:P,getListeners:()=>r};return H}var fR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dR=fR(),mR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pR=mR(),gR=()=>dR||pR?dt.useLayoutEffect:dt.useEffect,yR=gR(),_R=Symbol.for("react-redux-context"),vR=typeof globalThis<"u"?globalThis:{};function ER(){if(!dt.createContext)return{};const s=vR[_R]??=new Map;let e=s.get(dt.createContext);return e||(e=dt.createContext(null),s.set(dt.createContext,e)),e}var _s=ER();function TR(s){const{children:e,context:t,serverState:r,store:o}=s,u=dt.useMemo(()=>{const p=hR(o);return{store:o,subscription:p,getServerState:r?()=>r:void 0}},[o,r]),c=dt.useMemo(()=>o.getState(),[o]);yR(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const m=t||_s;return dt.createElement(m.Provider,{value:u},e)}var AR=TR;function Fg(s=_s){return function(){return dt.useContext(s)}}var jA=Fg();function FA(s=_s){const e=s===_s?jA:Fg(s),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var SR=FA();function bR(s=_s){const e=s===_s?SR:FA(s),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Q4=bR(),wR=(s,e)=>s===e;function IR(s=_s){const e=s===_s?jA:Fg(s),t=(r,o={})=>{const{equalityFn:u=wR}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:m,subscription:p,getServerState:g}=c;dt.useRef(!0);const E=dt.useCallback({[r.name](w){return r(w)}}[r.name],[r]),T=lR.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,E,u);return dt.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var Y4=IR();function sd(){const s=new Date;return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}`}const RR=()=>{};var NT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CR=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const o=s[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[t++],c=s[t++],m=s[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[t++],c=s[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},GA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,P=g&63;p||(P=64,c||(w=64)),r.push(t[E],t[T],t[w],t[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(HA(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):CR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=t[s.charAt(o++)],m=o<s.length?t[s.charAt(o)]:0;++o;const g=o<s.length?t[s.charAt(o)]:64;++o;const T=o<s.length?t[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new DR;const w=u<<2|m>>4;if(r.push(w),g!==64){const P=m<<4&240|g>>2;if(r.push(P),T!==64){const H=g<<6&192|T;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(s){const e=HA(s);return GA.encodeByteArray(e,!0)},KA=function(s){return NR(s).replace(/\./g,"")},QA=function(s){try{return GA.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>YA().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof NT>"u")return;const s=NT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&QA(s[1]);return e&&JSON.parse(e)},ad=()=>{try{return RR()||VR()||OR()||MR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xR=s=>ad()?.emulatorHosts?.[s],XA=()=>ad()?.config,$A=s=>ad()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JA(s){return(await fetch(s,{credentials:"include"})).ok}const Vu={};function kR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?s.emulator.push(e):s.prod.push(e);return s}function LR(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let VT=!1;function UR(s,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Vu[s]===e||Vu[s]||VT)return;Vu[s]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=kR().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{VT=!0,c()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=LR(r),P=t("text"),H=document.getElementById(P)||document.createElement("span"),W=t("learnmore"),Y=document.getElementById(W)||document.createElement("a"),ne=t("preprendIcon"),ae=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;m(Z),E(Y,W);const ue=g();p(ae,ne),Z.append(ae,H,Y,ue),document.body.appendChild(Z)}u?(H.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function ZA(){const s=ad()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const s=Ut();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function WA(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){return!ZA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class Er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=GR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?KR(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Er(o,m,r)}}function KR(s,e){return s.replace(QR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QR=/\{\$([^}]+)}/g;function YR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function _a(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=s[o],c=e[o];if(OT(u)&&OT(c)){if(!_a(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function OT(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function wu(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function XR(s,e){const t=new $R(s,e);return t.subscribe.bind(t)}class $R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Up),o.error===void 0&&(o.error=Up),o.complete===void 0&&(o.complete=Up);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(s){return s&&s._delegate?s._delegate:s}class va{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new PR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WR(s){return s===aa?void 0:s}function e2(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const n2={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},i2=Pe.INFO,r2={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},s2=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=r2[e];if(o)console[o](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const a2=(s,e)=>e.some(t=>s instanceof t);let MT,xT;function o2(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,ig=new WeakMap,iS=new WeakMap,zp=new WeakMap,Gg=new WeakMap;function u2(s){const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{t(fs(s.result)),o()},c=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&nS.set(t,s)}).catch(()=>{}),Gg.set(e,s),e}function c2(s){if(ig.has(s))return;const e=new Promise((t,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});ig.set(s,e)}let rg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return ig.get(s);if(e==="objectStoreNames")return s.objectStoreNames||iS.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function h2(s){rg=s(rg)}function f2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(Bp(this),e,...t);return iS.set(r,e.sort?e.sort():[e]),fs(r)}:l2().includes(s)?function(...e){return s.apply(Bp(this),e),fs(nS.get(this))}:function(...e){return fs(s.apply(Bp(this),e))}}function d2(s){return typeof s=="function"?f2(s):(s instanceof IDBTransaction&&c2(s),a2(s,o2())?new Proxy(s,rg):s)}function fs(s){if(s instanceof IDBRequest)return u2(s);if(zp.has(s))return zp.get(s);const e=d2(s);return e!==s&&(zp.set(s,e),Gg.set(e,s)),e}const Bp=s=>Gg.get(s);function m2(s,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(s,e),m=fs(c);return r&&c.addEventListener("upgradeneeded",p=>{r(fs(c.result),p.oldVersion,p.newVersion,fs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],qp=new Map;function PT(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=g2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||p2.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return qp.set(e,u),u}h2(s=>({...s,get:(e,t,r)=>PT(e,t)||s.get(e,t,r),has:(e,t)=>!!PT(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _2(s){return s.getComponent()?.type==="VERSION"}const sg="@firebase/app",kT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Hg("@firebase/app"),v2="@firebase/app-compat",E2="@firebase/analytics-compat",T2="@firebase/analytics",A2="@firebase/app-check-compat",S2="@firebase/app-check",b2="@firebase/auth",w2="@firebase/auth-compat",I2="@firebase/database",R2="@firebase/data-connect",C2="@firebase/database-compat",D2="@firebase/functions",N2="@firebase/functions-compat",V2="@firebase/installations",O2="@firebase/installations-compat",M2="@firebase/messaging",x2="@firebase/messaging-compat",P2="@firebase/performance",k2="@firebase/performance-compat",L2="@firebase/remote-config",U2="@firebase/remote-config-compat",z2="@firebase/storage",B2="@firebase/storage-compat",q2="@firebase/firestore",j2="@firebase/ai",F2="@firebase/firestore-compat",H2="firebase",G2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",K2={[sg]:"fire-core",[v2]:"fire-core-compat",[T2]:"fire-analytics",[E2]:"fire-analytics-compat",[S2]:"fire-app-check",[A2]:"fire-app-check-compat",[b2]:"fire-auth",[w2]:"fire-auth-compat",[I2]:"fire-rtdb",[R2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[D2]:"fire-fn",[N2]:"fire-fn-compat",[V2]:"fire-iid",[O2]:"fire-iid-compat",[M2]:"fire-fcm",[x2]:"fire-fcm-compat",[P2]:"fire-perf",[k2]:"fire-perf-compat",[L2]:"fire-rc",[U2]:"fire-rc-compat",[z2]:"fire-gcs",[B2]:"fire-gcs-compat",[q2]:"fire-fst",[F2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,Q2=new Map,og=new Map;function LT(s,e){try{s.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Ho(s){const e=s.name;if(og.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,s);for(const t of Rf.values())LT(t,s);for(const t of Q2.values())LT(t,s);return!0}function Kg(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Gn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new oc("app","Firebase",Y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=G2;function rS(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r={name:ag,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(t||(t=XA()),!t)throw ds.create("no-options");const u=Rf.get(o);if(u){if(_a(t,u.options)&&_a(r,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const c=new t2(o);for(const p of og.values())c.addComponent(p);const m=new X2(t,r,c);return Rf.set(o,m),m}function $2(s=ag){const e=Rf.get(s);if(!e&&s===ag&&XA())return rS();if(!e)throw ds.create("no-app",{appName:s});return e}function ms(s,e,t){let r=K2[s]??s;t&&(r+=`-${t}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(c.join(" "));return}Ho(new va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firebase-heartbeat-database",Z2=1,ju="firebase-heartbeat-store";let jp=null;function sS(){return jp||(jp=m2(J2,Z2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(s=>{throw ds.create("idb-open",{originalErrorMessage:s.message})})),jp}async function W2(s){try{const t=(await sS()).transaction(ju),r=await t.objectStore(ju).get(aS(s));return await t.done,r}catch(e){if(e instanceof Er)pr.warn(e.message);else{const t=ds.create("idb-get",{originalErrorMessage:e?.message});pr.warn(t.message)}}}async function UT(s,e){try{const r=(await sS()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,aS(s)),await r.done}catch(t){if(t instanceof Er)pr.warn(t.message);else{const r=ds.create("idb-set",{originalErrorMessage:t?.message});pr.warn(r.message)}}}function aS(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>tC){const o=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zT(),{heartbeatsToSend:t,unsentEntries:r}=iC(this._heartbeatsCache.heartbeats),o=KA(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function zT(){return new Date().toISOString().substring(0,10)}function iC(s,e=eC){const t=[];let r=s.slice();for(const o of s){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),BT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),BT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await W2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function BT(s){return KA(JSON.stringify({version:2,heartbeats:s})).length}function sC(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(s){Ho(new va("platform-logger",e=>new y2(e),"PRIVATE")),Ho(new va("heartbeat",e=>new nC(e),"PRIVATE")),ms(sg,kT,s),ms(sg,kT,"esm2020"),ms("fire-js","")}aC("");var oC="firebase",lC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(oC,lC,"app");function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uC=oS,lS=new oc("auth","Firebase",oS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Hg("@firebase/auth");function cC(s,...e){Cf.logLevel<=Pe.WARN&&Cf.warn(`Auth (${ol}): ${s}`,...e)}function hf(s,...e){Cf.logLevel<=Pe.ERROR&&Cf.error(`Auth (${ol}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,...e){throw Qg(s,...e)}function zi(s,...e){return Qg(s,...e)}function uS(s,e,t){const r={...uC(),[e]:t};return new oc("auth","Firebase",r).create(e,{appName:s.name})}function fr(s){return uS(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qg(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return lS.create(s,...e)}function Ee(s,e,...t){if(!s)throw Qg(e,...t)}function ur(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hf(e),new Error(e)}function gr(s,e){s||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){return typeof self<"u"&&self.location?.href||""}function hC(){return qT()==="http:"||qT()==="https:"}function qT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hC()||qR()||"connection"in navigator)?navigator.onLine:!0}function dC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gr(t>e,"Short delay should be less than long delay!"),this.isMobile=zR()||jR()}get(){return fC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(s,e){gr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gC=new uc(3e4,6e4);function Ss(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Tr(s,e,t,r,o={}){return hS(s,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const m=lc({key:s.config.apiKey,...c}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:p,...u};return BR()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&al(s.emulatorConfig.host)&&(g.credentials="include"),cS.fetch()(await fS(s,s.config.apiHost,t,m),g)})}async function hS(s,e,t){s._canInitEmulator=!1;const r={...mC,...e};try{const o=new _C(s),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Jh(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(s,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Jh(s,"email-already-in-use",c);if(p==="USER_DISABLED")throw Jh(s,"user-disabled",c);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw uS(s,E,g);di(s,E)}}catch(o){if(o instanceof Er)throw o;di(s,"network-request-failed",{message:String(o)})}}async function cc(s,e,t,r,o={}){const u=await Tr(s,e,t,r,o);return"mfaPendingCredential"in u&&di(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function fS(s,e,t,r){const o=`${e}${t}?${r}`,u=s,c=u.config.emulator?Yg(s.config,o):`${s.config.apiScheme}://${o}`;return pC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function yC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),gC.get())})}}function Jh(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=zi(s,e,r);return o.customData._tokenResponse=t,o}function jT(s){return s!==void 0&&s.enterprise!==void 0}class vC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EC(s,e){return Tr(s,"GET","/v2/recaptchaConfig",Ss(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(s,e){return Tr(s,"POST","/v1/accounts:delete",e)}async function Df(s,e){return Tr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AC(s,e=!1){const t=nn(s),r=await t.getIdToken(e),o=Xg(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:Ou(Fp(o.auth_time)),issuedAtTime:Ou(Fp(o.iat)),expirationTime:Ou(Fp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Fp(s){return Number(s)*1e3}function Xg(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const o=QA(t);return o?JSON.parse(o):(hf("Failed to decode base64 JWT payload"),null)}catch(o){return hf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function FT(s){const e=Xg(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Er&&SC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function SC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(s){const e=s.auth,t=await s.getIdToken(),r=await Go(s,Df(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?dS(o.providerUserInfo):[],c=IC(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!c?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ug(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function wC(s){const e=nn(s);await Nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function dS(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(s,e){const t=await hS(s,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await fS(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&al(s.emulatorConfig.host)&&(p.credentials="include"),cS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CC(s,e){return Tr(s,"POST","/v2/accounts:revokeToken",Ss(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=FT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await RC(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,c=new Uo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new bC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ug(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AC(this,e)}reload(){return wC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Go(this,TC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:P,providerData:H,stsTokenManager:W}=t;Ee(T&&W,e,"internal-error");const Y=Uo.fromJSON(this.name,W);Ee(typeof T=="string",e,"internal-error"),ns(r,e.name),ns(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof P=="boolean",e,"internal-error"),ns(u,e.name),ns(c,e.name),ns(m,e.name),ns(p,e.name),ns(g,e.name),ns(E,e.name);const ne=new fi({uid:T,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:P,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(ne.providerData=H.map(ae=>({...ae}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,t,r=!1){const o=new Uo;o.updateFromServerResponse(t);const u=new fi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Nf(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?dS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Uo;m.updateFromIdToken(r);const p=new fi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ug(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;function cr(s){gr(s instanceof Function,"Expected a class definition");let e=HT.get(s);return e?(gr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,HT.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mS.type="NONE";const GT=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(s,e,t){return`firebase:${s}:${e}:${t}`}class zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ff(this.userKey,o.apiKey,u),this.fullPersistenceKey=ff("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Df(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zo(cr(GT),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(GT);const c=ff(r,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(c);if(E){let T;if(typeof E=="string"){const w=await Df(e,{idToken:E}).catch(()=>{});if(!w)break;T=await fi._fromGetAccountInfoResponse(e,w,E)}else T=fi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new zo(u,e,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new zo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(TS(e))return"Webos";if(gS(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(vS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function pS(s=Ut()){return/firefox\//i.test(s)}function gS(s=Ut()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(s=Ut()){return/crios\//i.test(s)}function _S(s=Ut()){return/iemobile/i.test(s)}function vS(s=Ut()){return/android/i.test(s)}function ES(s=Ut()){return/blackberry/i.test(s)}function TS(s=Ut()){return/webos/i.test(s)}function $g(s=Ut()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function DC(s=Ut()){return $g(s)&&!!window.navigator?.standalone}function NC(){return FR()&&document.documentMode===10}function AS(s=Ut()){return $g(s)||vS(s)||TS(s)||ES(s)||/windows phone/i.test(s)||_S(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(s,e=[]){let t;switch(s){case"Browser":t=KT(Ut());break;case"Worker":t=`${KT(Ut())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(s,e={}){return Tr(s,"GET","/v2/passwordPolicy",Ss(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=6;class xC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??MC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QT(this),this.idTokenSubscription=new QT(this),this.beforeStateQueue=new VC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Df(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(fr(this));const t=e?nn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OC(this),t=new xC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await CC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Va(s){return nn(s)}class QT{constructor(e){this.auth=e,this.observer=null,this.addObserver=XR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kC(s){od=s}function bS(s){return od.loadJS(s)}function LC(){return od.recaptchaEnterpriseScript}function UC(){return od.gapiScript}function zC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class BC{constructor(){this.enterprise=new qC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jC="recaptcha-enterprise",wS="NO_RECAPTCHA";class FC{constructor(e){this.type=jC,this.auth=Va(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{EC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new vC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;jT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(wS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BC().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!t&&jT(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LC();p.length!==0&&(p+=m),bS(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function YT(s,e,t,r=!1,o=!1){const u=new FC(s);let c;if(o)c=wS;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function cg(s,e,t,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await YT(s,e,t,t==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await YT(s,e,t,t==="getOobCode");return r(s,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(s,e){const t=Kg(s,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(_a(u,e??{}))return o;di(o,"already-initialized")}return t.initialize({options:e})}function GC(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(cr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function KC(s,e,t){const r=Va(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=IS(e),{host:c,port:m}=QC(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},E=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(_a(g,r.config.emulator)&&_a(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,al(c)?(JA(`${u}//${c}${p}`),UR("Auth",!0)):YC()}function IS(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function QC(s){const e=IS(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:XT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:XT(c)}}}function XT(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function YC(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function XC(s,e){return Tr(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(s,e){return cc(s,"POST","/v1/accounts:signInWithPassword",Ss(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(s,e){return cc(s,"POST","/v1/accounts:signInWithEmailLink",Ss(s,e))}async function ZC(s,e){return cc(s,"POST","/v1/accounts:signInWithEmailLink",Ss(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Jg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Fu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",$C);case"emailLink":return JC(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",XC);case"emailLink":return ZC(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(s,e){return cc(s,"POST","/v1/accounts:signInWithIdp",Ss(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="http://localhost";class Ea extends Jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=t;if(!r||!o)return null;const c=new Ea(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:WC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tD(s){const e=bu(wu(s)).link,t=e?bu(wu(e)).deep_link_id:null,r=bu(wu(s)).deep_link_id;return(r?bu(wu(r)).link:null)||r||t||e||s}class Zg{constructor(e){const t=bu(wu(e)),r=t.apiKey??null,o=t.oobCode??null,u=eD(t.mode??null);Ee(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=tD(e);try{return new Zg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return Fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Zg.parseLink(t);return Ee(r,"argument-error"),Fu._fromEmailAndCode(e,r.code,r.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends RS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends hc{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return os.credential(t,r)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends hc{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends hc{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return us.credential(t,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(s,e){return cc(s,"POST","/v1/accounts:signUp",Ss(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await fi._fromIdTokenResponse(e,r,o),c=$T(r);return new Ta({user:u,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=$T(r);return new Ta({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function $T(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Er{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Vf(e,t,r,o)}}function CS(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(s,u,e,r):u})}async function iD(s,e,t=!1){const r=await Go(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return Ta._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(s,e,t=!1){const{auth:r}=s;if(Gn(r.app))return Promise.reject(fr(r));const o="reauthenticate";try{const u=await Go(s,CS(r,o,e,s),t);Ee(u.idToken,r,"internal-error");const c=Xg(u.idToken);Ee(c,r,"internal-error");const{sub:m}=c;return Ee(s.uid===m,r,"user-mismatch"),Ta._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&di(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(s,e,t=!1){if(Gn(s.app))return Promise.reject(fr(s));const r="signIn",o=await CS(s,r,e),u=await Ta._fromIdTokenResponse(s,r,o);return t||await s._updateCurrentUser(u.user),u}async function sD(s,e){return DS(Va(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(s){const e=Va(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X4(s,e,t){if(Gn(s.app))return Promise.reject(fr(s));const r=Va(s),c=await cg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&NS(s),p}),m=await Ta._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function $4(s,e,t){return Gn(s.app)?Promise.reject(fr(s)):sD(nn(s),ll.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NS(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(s,e){return Tr(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=nn(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Go(r,aD(r.auth,u));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const m=r.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function oD(s,e,t,r){return nn(s).onIdTokenChanged(e,t,r)}function lD(s,e,t){return nn(s).beforeAuthStateChanged(e,t)}function Z4(s,e,t,r){return nn(s).onAuthStateChanged(e,t,r)}function W4(s){return nn(s).signOut()}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1e3,cD=10;class OS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);NC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cD):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OS.type="LOCAL";const hD=OS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MS.type="SESSION";const xS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new ld(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await fD(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Wg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function mD(s){Bi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function pD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gD(){return navigator?.serviceWorker?.controller||null}function yD(){return PS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",_D=1,Mf="firebaseLocalStorage",LS="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ud(s,e){return s.transaction([Mf],e?"readwrite":"readonly").objectStore(Mf)}function vD(){const s=indexedDB.deleteDatabase(kS);return new fc(s).toPromise()}function hg(){const s=indexedDB.open(kS,_D);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Mf,{keyPath:LS})}catch(o){t(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Mf)?e(r):(r.close(),await vD(),e(await hg()))})})}async function JT(s,e,t){const r=ud(s,!0).put({[LS]:e,value:t});return new fc(r).toPromise()}async function ED(s,e){const t=ud(s,!1).get(e),r=await new fc(t).toPromise();return r===void 0?null:r.value}function ZT(s,e){const t=ud(s,!0).delete(e);return new fc(t).toPromise()}const TD=800,AD=3;class US{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>AD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(yD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new dD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await JT(e,Of,"1"),await ZT(e,Of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>JT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ED(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ZT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ud(o,!1).getAll();return new fc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}US.type="LOCAL";const SD=US;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(s,e){return e?cr(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wD(s){return DS(s.auth,new ey(s),s.bypassAuthState)}function ID(s){const{auth:e,user:t}=s;return Ee(t,e,"internal-error"),rD(t,new ey(s),s.bypassAuthState)}async function RD(s){const{auth:e,user:t}=s;return Ee(t,e,"internal-error"),iD(t,new ey(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wD;case"linkViaPopup":case"linkViaRedirect":return RD;case"reauthViaPopup":case"reauthViaRedirect":return ID;default:di(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new uc(2e3,1e4);class Lo extends zS{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CD.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="pendingRedirect",df=new Map;class ND extends zS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const r=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(s,e){const t=xD(e),r=MD(s);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function OD(s,e){df.set(s._key(),e)}function MD(s){return cr(s._redirectPersistence)}function xD(s){return ff(DD,s.config.apiKey,s.name)}async function PD(s,e,t=!1){if(Gn(s.app))return Promise.reject(fr(s));const r=Va(s),o=bD(r,e),c=await new ND(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=600*1e3;class LD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!BS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kD&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function BS({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function UD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(s,e={}){return Tr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qD=/^https?/;async function jD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await zD(s);for(const t of e)try{if(FD(t))return}catch{}di(s,"unauthorized-domain")}function FD(s){const e=lg(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!qD.test(t))return!1;if(BD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new uc(3e4,6e4);function e0(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function GD(s){return new Promise((e,t)=>{function r(){e0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e0(),t(zi(s,"network-request-failed"))},timeout:HD.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const o=zC("iframefcb");return Bi()[o]=()=>{gapi.load?r():t(zi(s,"network-request-failed"))},bS(`${UC()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw mf=null,e})}let mf=null;function KD(s){return mf=mf||GD(s),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new uc(5e3,15e3),YD="__/auth/iframe",XD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Yg(e,XD):`https://${s.config.authDomain}/${YD}`,r={apiKey:e.apiKey,appName:s.name,v:ol},o=JD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${lc(r).slice(1)}`}async function WD(s){const e=await KD(s),t=Bi().gapi;return Ee(t,s,"internal-error"),e.open({where:document.body,url:ZD(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=zi(s,"network-request-failed"),m=Bi().setTimeout(()=>{u(c)},QD.get());function p(){Bi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,nN=600,iN="_blank",rN="http://localhost";class t0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(s,e,t,r=tN,o=nN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...eN,width:r.toString(),height:o.toString(),top:u,left:c},g=Ut().toLowerCase();t&&(m=yS(g)?iN:t),pS(g)&&(e=e||rN,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,H])=>`${w}${P}=${H},`,"");if(DC(g)&&m!=="_self")return aN(e||"",m),new t0(null);const T=window.open(e||"",m,E);Ee(T,s,"popup-blocked");try{T.focus()}catch{}return new t0(T)}function aN(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__/auth/handler",lN="emulator/auth/handler",uN=encodeURIComponent("fac");async function n0(s,e,t,r,o,u){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:ol,eventId:o};if(e instanceof RS){e.setDefaultLanguage(s.languageCode),c.providerId=e.providerId||"",YR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(e instanceof hc){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),g=p?`#${uN}=${encodeURIComponent(p)}`:"";return`${cN(s)}?${lc(m).slice(1)}${g}`}function cN({config:s}){return s.emulator?Yg(s,lN):`https://${s.authDomain}/${oN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class hN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xS,this._completeRedirectFn=PD,this._overrideRedirectResult=OD}async _openPopup(e,t,r,o){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await n0(e,t,r,lg(),o);return sN(e,u,Wg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await n0(e,t,r,lg(),o);return mD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WD(e),r=new LD(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hp,{type:Hp},o=>{const u=o?.[0]?.[Hp];u!==void 0&&t(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AS()||gS()||$g()}}const fN=hN;var i0="@firebase/auth",r0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(s){Ho(new va("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(s)},g=new PC(r,o,u,p);return GC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new va("auth-internal",e=>{const t=Va(e.getProvider("auth").getImmediate());return(r=>new dN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(i0,r0,mN(s)),ms(i0,r0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=300,yN=$A("authIdTokenMaxAge")||gN;let s0=null;const _N=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yN)return;const o=t?.token;s0!==o&&(s0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vN(s=$2()){const e=Kg(s,"auth");if(e.isInitialized())return e.getImmediate();const t=HC(s,{popupRedirectResolver:fN,persistence:[SD,hD,xS]}),r=$A("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=_N(u.toString());lD(t,c,()=>c(t.currentUser)),oD(t,m=>c(m))}}const o=xR("auth");return o&&KC(t,`http://${o}`),t}function EN(){return document.getElementsByTagName("head")?.[0]??document}kC({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=zi("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",EN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,qS;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function D(){}D.prototype=b.prototype,I.F=b.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(M,V,k){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return b.prototype[V].apply(M,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,D){D||(D=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(V=0;V<16;++V)M[V]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=I.g[0],D=I.g[1],V=I.g[2];let k=I.g[3],R;R=b+(k^D&(V^k))+M[0]+3614090360&4294967295,b=D+(R<<7&4294967295|R>>>25),R=k+(V^b&(D^V))+M[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=V+(D^k&(b^D))+M[2]+606105819&4294967295,V=k+(R<<17&4294967295|R>>>15),R=D+(b^V&(k^b))+M[3]+3250441966&4294967295,D=V+(R<<22&4294967295|R>>>10),R=b+(k^D&(V^k))+M[4]+4118548399&4294967295,b=D+(R<<7&4294967295|R>>>25),R=k+(V^b&(D^V))+M[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=V+(D^k&(b^D))+M[6]+2821735955&4294967295,V=k+(R<<17&4294967295|R>>>15),R=D+(b^V&(k^b))+M[7]+4249261313&4294967295,D=V+(R<<22&4294967295|R>>>10),R=b+(k^D&(V^k))+M[8]+1770035416&4294967295,b=D+(R<<7&4294967295|R>>>25),R=k+(V^b&(D^V))+M[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=V+(D^k&(b^D))+M[10]+4294925233&4294967295,V=k+(R<<17&4294967295|R>>>15),R=D+(b^V&(k^b))+M[11]+2304563134&4294967295,D=V+(R<<22&4294967295|R>>>10),R=b+(k^D&(V^k))+M[12]+1804603682&4294967295,b=D+(R<<7&4294967295|R>>>25),R=k+(V^b&(D^V))+M[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=V+(D^k&(b^D))+M[14]+2792965006&4294967295,V=k+(R<<17&4294967295|R>>>15),R=D+(b^V&(k^b))+M[15]+1236535329&4294967295,D=V+(R<<22&4294967295|R>>>10),R=b+(V^k&(D^V))+M[1]+4129170786&4294967295,b=D+(R<<5&4294967295|R>>>27),R=k+(D^V&(b^D))+M[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=V+(b^D&(k^b))+M[11]+643717713&4294967295,V=k+(R<<14&4294967295|R>>>18),R=D+(k^b&(V^k))+M[0]+3921069994&4294967295,D=V+(R<<20&4294967295|R>>>12),R=b+(V^k&(D^V))+M[5]+3593408605&4294967295,b=D+(R<<5&4294967295|R>>>27),R=k+(D^V&(b^D))+M[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=V+(b^D&(k^b))+M[15]+3634488961&4294967295,V=k+(R<<14&4294967295|R>>>18),R=D+(k^b&(V^k))+M[4]+3889429448&4294967295,D=V+(R<<20&4294967295|R>>>12),R=b+(V^k&(D^V))+M[9]+568446438&4294967295,b=D+(R<<5&4294967295|R>>>27),R=k+(D^V&(b^D))+M[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=V+(b^D&(k^b))+M[3]+4107603335&4294967295,V=k+(R<<14&4294967295|R>>>18),R=D+(k^b&(V^k))+M[8]+1163531501&4294967295,D=V+(R<<20&4294967295|R>>>12),R=b+(V^k&(D^V))+M[13]+2850285829&4294967295,b=D+(R<<5&4294967295|R>>>27),R=k+(D^V&(b^D))+M[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=V+(b^D&(k^b))+M[7]+1735328473&4294967295,V=k+(R<<14&4294967295|R>>>18),R=D+(k^b&(V^k))+M[12]+2368359562&4294967295,D=V+(R<<20&4294967295|R>>>12),R=b+(D^V^k)+M[5]+4294588738&4294967295,b=D+(R<<4&4294967295|R>>>28),R=k+(b^D^V)+M[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=V+(k^b^D)+M[11]+1839030562&4294967295,V=k+(R<<16&4294967295|R>>>16),R=D+(V^k^b)+M[14]+4259657740&4294967295,D=V+(R<<23&4294967295|R>>>9),R=b+(D^V^k)+M[1]+2763975236&4294967295,b=D+(R<<4&4294967295|R>>>28),R=k+(b^D^V)+M[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=V+(k^b^D)+M[7]+4139469664&4294967295,V=k+(R<<16&4294967295|R>>>16),R=D+(V^k^b)+M[10]+3200236656&4294967295,D=V+(R<<23&4294967295|R>>>9),R=b+(D^V^k)+M[13]+681279174&4294967295,b=D+(R<<4&4294967295|R>>>28),R=k+(b^D^V)+M[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=V+(k^b^D)+M[3]+3572445317&4294967295,V=k+(R<<16&4294967295|R>>>16),R=D+(V^k^b)+M[6]+76029189&4294967295,D=V+(R<<23&4294967295|R>>>9),R=b+(D^V^k)+M[9]+3654602809&4294967295,b=D+(R<<4&4294967295|R>>>28),R=k+(b^D^V)+M[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=V+(k^b^D)+M[15]+530742520&4294967295,V=k+(R<<16&4294967295|R>>>16),R=D+(V^k^b)+M[2]+3299628645&4294967295,D=V+(R<<23&4294967295|R>>>9),R=b+(V^(D|~k))+M[0]+4096336452&4294967295,b=D+(R<<6&4294967295|R>>>26),R=k+(D^(b|~V))+M[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=V+(b^(k|~D))+M[14]+2878612391&4294967295,V=k+(R<<15&4294967295|R>>>17),R=D+(k^(V|~b))+M[5]+4237533241&4294967295,D=V+(R<<21&4294967295|R>>>11),R=b+(V^(D|~k))+M[12]+1700485571&4294967295,b=D+(R<<6&4294967295|R>>>26),R=k+(D^(b|~V))+M[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=V+(b^(k|~D))+M[10]+4293915773&4294967295,V=k+(R<<15&4294967295|R>>>17),R=D+(k^(V|~b))+M[1]+2240044497&4294967295,D=V+(R<<21&4294967295|R>>>11),R=b+(V^(D|~k))+M[8]+1873313359&4294967295,b=D+(R<<6&4294967295|R>>>26),R=k+(D^(b|~V))+M[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=V+(b^(k|~D))+M[6]+2734768916&4294967295,V=k+(R<<15&4294967295|R>>>17),R=D+(k^(V|~b))+M[13]+1309151649&4294967295,D=V+(R<<21&4294967295|R>>>11),R=b+(V^(D|~k))+M[4]+4149444226&4294967295,b=D+(R<<6&4294967295|R>>>26),R=k+(D^(b|~V))+M[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=V+(b^(k|~D))+M[2]+718787259&4294967295,V=k+(R<<15&4294967295|R>>>17),R=D+(k^(V|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const D=b-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<b;){if(V==0)for(;k<=D;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<b;)if(M[V++]=I.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<b;)if(M[V++]=I[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)I[b++]=this.g[D]>>>M&255;return I};function u(I,b){var D=m;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=b(I)}function c(I,b){this.h=b;const D=[];let M=!0;for(let V=I.length-1;V>=0;V--){const k=I[V]|0;M&&k==b||(D[V]=k,M=!1)}this.g=D}var m={};function p(I){return-128<=I&&I<128?u(I,function(b){return new c([b|0],b<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return Y(g(-I));const b=[];let D=1;for(let M=0;I>=D;M++)b[M]=I/D|0,D*=4294967296;return new c(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Y(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(b,8));let M=T;for(let k=0;k<I.length;k+=8){var V=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+V),b);V<8?(V=g(Math.pow(b,V)),M=M.j(V).add(g(R))):(M=M.j(D),M=M.add(g(R)))}return M}var T=p(0),w=p(1),P=p(16777216);s=c.prototype,s.m=function(){if(W(this))return-Y(this).m();let I=0,b=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(W(this))return"-"+Y(this).toString(I);const b=g(Math.pow(I,6));var D=this;let M="";for(;;){const V=ue(D,b).g;D=ne(D,V.j(b));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=V,H(D))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=ne(this,I),W(I)?-1:H(I)?0:1};function Y(I){const b=I.g.length,D=[];for(let M=0;M<b;M++)D[M]=~I.g[M];return new c(D,~I.h).add(w)}s.abs=function(){return W(this)?Y(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),D=[];let M=0;for(let V=0;V<=b;V++){let k=M+(this.i(V)&65535)+(I.i(V)&65535),R=(k>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=R>>>16,k&=65535,R&=65535,D[V]=R<<16|k}return new c(D,D[D.length-1]&-2147483648?-1:0)};function ne(I,b){return I.add(Y(b))}s.j=function(I){if(H(this)||H(I))return T;if(W(this))return W(I)?Y(this).j(Y(I)):Y(Y(this).j(I));if(W(I))return Y(this.j(Y(I)));if(this.l(P)<0&&I.l(P)<0)return g(this.m()*I.m());const b=this.g.length+I.g.length,D=[];for(var M=0;M<2*b;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<I.g.length;V++){const k=this.i(M)>>>16,R=this.i(M)&65535,at=I.i(V)>>>16,Mt=I.i(V)&65535;D[2*M+2*V]+=R*Mt,ae(D,2*M+2*V),D[2*M+2*V+1]+=k*Mt,ae(D,2*M+2*V+1),D[2*M+2*V+1]+=R*at,ae(D,2*M+2*V+1),D[2*M+2*V+2]+=k*at,ae(D,2*M+2*V+2)}for(I=0;I<b;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=b;I<2*b;I++)D[I]=0;return new c(D,0)};function ae(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function Z(I,b){this.g=I,this.h=b}function ue(I,b){if(H(b))throw Error("division by zero");if(H(I))return new Z(T,T);if(W(I))return b=ue(Y(I),b),new Z(Y(b.g),Y(b.h));if(W(b))return b=ue(I,Y(b)),new Z(Y(b.g),b.h);if(I.g.length>30){if(W(I)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var D=w,M=b;M.l(I)<=0;)D=re(D),M=re(M);var V=ce(D,1),k=ce(M,1);for(M=ce(M,2),D=ce(D,2);!H(M);){var R=k.add(M);R.l(I)<=0&&(V=V.add(D),k=R),M=ce(M,1),D=ce(D,1)}return b=ne(I,V.j(b)),new Z(V,b)}for(V=T;I.l(b)>=0;){for(D=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(D),R=k.j(b);W(R)||R.l(I)>0;)D-=M,k=g(D),R=k.j(b);H(k)&&(k=w),V=V.add(k),I=ne(I,R)}return new Z(V,I)}s.B=function(I){return ue(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)&I.i(M);return new c(D,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)|I.i(M);return new c(D,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)^I.i(M);return new c(D,this.h^I.h)};function re(I){const b=I.g.length+1,D=[];for(let M=0;M<b;M++)D[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(D,I.h)}function ce(I,b){const D=b>>5;b%=32;const M=I.g.length-D,V=[];for(let k=0;k<M;k++)V[k]=b>0?I.i(k+D)>>>b|I.i(k+D+1)<<32-b:I.i(k+D);return new c(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=E,ps=c}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jS,Iu,FS,pf,fg,HS,GS,KS;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var v=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in v))break e;v=v[U]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=p,g.apply(null,arguments)}function E(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,U,j){for(var te=Array(arguments.length-2),we=2;we<arguments.length;we++)te[we-2]=arguments[we];return y.prototype[U].apply(S,te)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function P(h){const y=h.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function H(h,y){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=h.length||0;const j=U.length||0;h.length=v+j;for(let te=0;te<j;te++)h[v+te]=U[te]}else h.push(U)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(h){c.setTimeout(()=>{throw h},0)}function ne(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ae{constructor(){this.h=this.g=null}add(y,v){const S=Z.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Z=new W(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,I=new ae,b=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(D)}};function D(){for(var h;h=ne();){try{h.h.call(h.g)}catch(v){Y(v)}var y=Z;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ce=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function at(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(at,V),at.prototype.init=function(h,y){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(h,y,v,S,U){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function Ke(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function O(h){const y={};for(const v in h)y[v]=h[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,y){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)h[v]=S[v];for(let j=0;j<J.length;j++)v=J[j],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,v,S,U){const j=h.toString();h=this.g[j],h||(h=this.g[j]=[],this.h++);const te=Re(h,y,S,U);return te>-1?(y=h[te],v||(y.fa=!1)):(y=new oe(y,this.src,j,!!S,U),y.fa=v,h.push(y)),y};function Te(h,y){const v=y.type;if(v in h.g){var S=h.g[v],U=Array.prototype.indexOf.call(S,y,void 0),j;(j=U>=0)&&Array.prototype.splice.call(S,U,1),j&&(_e(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Re(h,y,v,S){for(let U=0;U<h.length;++U){const j=h[U];if(!j.da&&j.listener==y&&j.capture==!!v&&j.ha==S)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),xt={};function ot(h,y,v,S,U){if(Array.isArray(y)){for(let j=0;j<y.length;j++)ot(h,y[j],v,S,U);return null}return v=pl(v),h&&h[Mt]?h.J(y,v,m(S)?!!S.capture:!1,U):Rs(h,y,v,!1,S,U)}function Rs(h,y,v,S,U,j){if(!y)throw Error("Invalid event type");const te=m(U)?!!U.capture:!!U;let we=Cs(h);if(we||(h[Ue]=we=new he(h)),v=we.add(y,v,S,te,j),v.proxy)return v;if(S=Pa(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)k||(U=te),U===void 0&&(U=!1),h.addEventListener(y.toString(),S,U);else if(h.attachEvent)h.attachEvent(mi(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pa(){function h(v){return y.call(h.src,h.listener,v)}const y=dl;return h}function ka(h,y,v,S,U){if(Array.isArray(y))for(var j=0;j<y.length;j++)ka(h,y[j],v,S,U);else S=m(S)?!!S.capture:!!S,v=pl(v),h&&h[Mt]?(h=h.i,j=String(y).toString(),j in h.g&&(y=h.g[j],v=Re(y,v,S,U),v>-1&&(_e(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[j],h.h--)))):h&&(h=Cs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Re(y,v,S,U)),(v=h>-1?y[h]:null)&&La(v))}function La(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Mt])Te(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(mi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Cs(y))?(Te(v,h),v.h==0&&(v.src=null,y[Ue]=null)):_e(h)}}}function mi(h){return h in xt?xt[h]:xt[h]="on"+h}function dl(h,y){if(h.da)h=!0;else{y=new at(y,this);const v=h.listener,S=h.ha||h.src;h.fa&&La(h),h=v.call(S,y)}return h}function Cs(h){return h=h[Ue],h instanceof he?h:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(y){return h.handleEvent(y)}),h[ml])}function Tt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}T(Tt,M),Tt.prototype[Mt]=!0,Tt.prototype.removeEventListener=function(h,y,v,S){ka(this,h,y,v,S)};function Pt(h,y){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var U=y;y=new V(S,h),le(y,U)}U=!0;let j,te;if(v)for(te=v.length-1;te>=0;te--)j=y.g=v[te],U=Sr(j,S,!0,y)&&U;if(j=y.g=h,U=Sr(j,S,!0,y)&&U,U=Sr(j,S,!1,y)&&U,v)for(te=0;te<v.length;te++)j=y.g=v[te],U=Sr(j,S,!1,y)&&U}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let S=0;S<v.length;S++)_e(v[S]);delete h.g[y],h.h--}}this.G=null},Tt.prototype.J=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},Tt.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function Sr(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let j=0;j<y.length;++j){const te=y[j];if(te&&!te.da&&te.capture==v){const we=te.listener,_t=te.ha||te.src;te.fa&&Te(h.i,te),U=we.call(_t,S)!==!1&&U}}return U&&!S.defaultPrevented}function Od(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ac(h){h.g=Od(()=>{h.g=null,h.i&&(h.i=!1,Ac(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ac(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(h){M.call(this),this.h=h,this.g={}}T(Ds,M);var gl=[];function yl(h){Be(h.g,function(y,v){this.g.hasOwnProperty(v)&&La(y)},h),h.g={}}Ds.prototype.N=function(){Ds.Z.N.call(this),yl(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=c.JSON.stringify,Md=c.JSON.parse,Sc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function bc(){}function wc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){V.call(this,"d")}T(Ht,V);function On(){V.call(this,"c")}T(On,V);var yt={},Ic=null;function Ua(){return Ic=Ic||new Tt}yt.Ia="serverreachability";function Rc(h){V.call(this,yt.Ia,h)}T(Rc,V);function pi(h){const y=Ua();Pt(y,new Rc(y))}yt.STAT_EVENT="statevent";function Ns(h,y){V.call(this,yt.STAT_EVENT,h),this.stat=y}T(Ns,V);function At(h){const y=Ua();Pt(y,new Ns(y,h))}yt.Ja="timingevent";function gi(h,y){V.call(this,yt.Ja,h),this.size=y}T(gi,V);function yi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function xd(h,y,v,S,U,j){h.info(function(){if(h.g)if(j){var te="",we=j.split("&");for(let Fe=0;Fe<we.length;Fe++){var _t=we[Fe].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const kn=lt.split("_");te=kn.length>=2&&kn[1]=="type"?te+(lt+"="+_t+"&"):te+(lt+"=redacted&")}}}else te=null;else te=j;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+v+`
`+te})}function Cc(h,y,v,S,U,j,te){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+v+`
`+j+" "+te})}function _i(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pd(h,v)+(S?" "+S:"")})}function Vs(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function Pd(h,y){if(!h.g)return y;if(!y)return null;try{const j=JSON.parse(y);if(j){for(h=0;h<j.length;h++)if(Array.isArray(j[h])){var v=j[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return br(j)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function Ms(){}T(Ms,bc),Ms.prototype.g=function(){return new XMLHttpRequest},vl=new Ms;function Hi(h){return encodeURIComponent(String(h))}function Dc(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Wn(h,y,v,S){this.j=h,this.i=y,this.l=v,this.S=S||1,this.V=new Ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var St={},Bt={};function vi(h,y,v){h.M=1,h.A=xs(wt(y)),h.u=v,h.R=!0,za(h,null)}function za(h,y){h.F=Date.now(),Ei(h),h.B=wt(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Fa(v.i,"t",S),h.C=0,v=h.j.L,h.h=new ei,h.g=Hc(h.j,v?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,S=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(gl[0]=U.toString()),U=gl);for(let j=0;j<U.length;j++){const te=ot(v,U[j],S||y.handleEvent,!1,y.h||y);if(!te)break;y.g[te.key]=te}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),pi(),xd(h.i,h.v,h.B,h.l,h.S,h.u)}Wn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ii(h)==3?y.j():this.Y(h)},Wn.prototype.Y=function(h){try{if(h==this.g)e:{const we=ii(this.g),_t=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||we!=4||_t==7||(_t==8||Fe<=0?pi(3):pi(2)),Ti(this);var y=this.g.ca();this.X=y;var v=kd(this);if(this.o=y==200,Cc(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var j=S;break t}}j=null}if(h=j)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,At(12),_n(this),Mn(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Vc(this,v),lt==Bt){we==4&&(this.m=4,At(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,At(15),_i(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,lt,null),Ai(this,lt);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xl(te),te.P=!0,At(11))}}else _i(this.i,this.l,v,null),Ai(this,v);we==4&&_n(this),this.o&&!this.K&&(we==4?Bc(this.j,this):(this.o=!1,Ei(this)))}else Ki(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),_n(this),Mn(this)}}}catch{}finally{}};function kd(h){if(!Nc(h))return h.g.la();const y=Gt(h.g);if(y==="")return"";let v="";const S=y.length,U=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),Mn(h),"";h.h.i=new c.TextDecoder}for(let j=0;j<S;j++)h.h.h=!0,v+=h.h.i.decode(y[j],{stream:!(U&&j==S-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function Nc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?Bt:(v=Number(y.substring(v,S)),isNaN(v)?St:(S+=1,S+v>y.length?Bt:(y=y.slice(S,S+v),h.C=S+v,y)))}Wn.prototype.cancel=function(){this.K=!0,_n(this)};function Ei(h){h.T=Date.now()+h.H,Ba(h,h.H)}function Ba(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=yi(g(h.aa,h),y)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(pi(),At(17)),_n(this),this.m=2,Mn(this)):Ba(this,this.T-h)};function Mn(h){h.j.I==0||h.K||Bc(h.j,h)}function _n(h){Ti(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,yl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ai(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||bi(v.h,h))){if(!h.L&&bi(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Ya(v),Or(v);else break e;qs(v),At(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(g(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((h.L||v.g==h)&&Ya(v),!R(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let Fe=U[y];const lt=Fe[0];if(!(lt<=v.K))if(v.K=lt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const kn=Fe[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Vi=Fe[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ri=Fe[5];ri!=null&&typeof ri=="number"&&ri>0&&(S=1.5*ri,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const si=h.g;if(si){const js=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var j=S.h;j.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Al(j,j.h),j.h=null))}if(S.G){const Xa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(S.wa=Xa,Qe(S.J,S.G,Xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var te=h;if(S.na=Fc(S,S.L?S.ba:null,S.W),te.L){Sl(S.h,te);var we=te,_t=S.O;_t&&(we.H=_t),we.D&&(Ti(we),Ei(we)),S.g=te}else Uc(S);v.i.length>0&&Di(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ni(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ni(v,7):Ol(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}pi(4)}catch{}}var bt=class{constructor(h,y){this.g=h,this.map=y}};function El(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Si(h){return h.h?1:h.g?h.g.size:0}function bi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Al(h,y){h.g?h.g.add(y):h.h=y}function Sl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}El.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return P(h.i)}var Oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let U,j=null;S>=0?(U=h[v].substring(0,S),j=h[v].substring(S+1)):U=h[v],y(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vn?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,wr(this,h.u),this.h=h.h,wl(this,kc(h.i)),this.m=h.m):h&&(y=String(h).match(Oc))?(this.l=!1,qt(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),wr(this,y[4]),this.h=wi(y[5]||"",!0),wl(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}vn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ps(y,ja,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ps(y,ja,!0),"@"),h.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ps(v,v.charAt(0)=="/"?Il:Mc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ps(v,xc)),h.join("")},vn.prototype.resolve=function(h){const y=wt(this);let v=!!h.j;v?qt(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var S=h.h;if(v)wr(y,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=y.h.lastIndexOf("/");U!=-1&&(S=y.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let te=0;te<U.length;){const we=U[te++];we=="."?S&&te==U.length&&j.push(""):we==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&te==U.length&&j.push("")):(j.push(we),S=!0)}S=j.join("/")}else S=U}return v?y.h=S:v=h.i.toString()!=="",v?wl(y,kc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function wt(h){return new vn(h)}function qt(h,y,v){h.j=v?wi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function wr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function wl(h,y,v){y instanceof Rr?(h.i=y,Ha(h.i,h.l)):(v||(y=Ps(y,Ir)),h.i=new Rr(y,h.l))}function Qe(h,y,v){h.i.set(y,v)}function xs(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function wi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ps(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,Mc=/[#\?:]/g,Il=/[#\?]/g,Ir=/[#\?@]/g,xc=/#/g;function Rr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&qa(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=Rr.prototype,s.add=function(h,y){hn(this),this.i=null,h=Cr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Pc(h,y){hn(h),y=Cr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Rl(h,y){return hn(h),y=Cr(h,y),h.g.has(y)}s.forEach=function(h,y){hn(this),this.g.forEach(function(v,S){v.forEach(function(U){h.call(y,U,S,this)},this)},this)};function Cl(h,y){hn(h);let v=[];if(typeof y=="string")Rl(h,y)&&(v=v.concat(h.g.get(Cr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}s.set=function(h,y){return hn(this),this.i=null,h=Cr(this,h),Rl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=Cl(this,h),h.length>0?String(h[0]):y):y};function Fa(h,y,v){Pc(h,y),v.length>0&&(h.i=null,h.g.set(Cr(h,y),P(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const U=Hi(v);v=Cl(this,v);for(let j=0;j<v.length;j++){let te=U;v[j]!==""&&(te+="="+Hi(v[j])),h.push(te)}}return this.i=h.join("&")};function kc(h){const y=new Rr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Cr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ha(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Pc(this,S),Fa(this,U,v))},h)),h.j=y}function ti(h,y){const v=new Zn;if(c.Image){const S=new Image;S.onload=E(xn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(xn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(xn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Dl(h,y){const v=new Zn,S=new AbortController,U=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(j=>{clearTimeout(U),j.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),xn(v,"TestPingServer: error",!1,y)})}function xn(h,y,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Dr(){this.g=new Sc}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ii,bc),Ii.prototype.g=function(){return new ks(this.i,this.h)};function ks(h,y){Tt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ks,Tt),s=ks.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ni(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Nr(this):ni(this),this.readyState==3&&Ga(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Nr(this))},s.Na=function(h){this.g&&(this.response=h,Nr(this))},s.ga=function(){this.g&&Nr(this)};function Nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return Be(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ls(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Pn(v),typeof h=="string"?v!=null&&Hi(v):Qe(h,y,v))}function We(h){Tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Tt);var Ri=/^https?$/i,Nl=["POST","PUT"];s=We.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(j){Us(this,j);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())v.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Nl,y,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,te]of v)this.g.setRequestHeader(j,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(j){Us(this,j)}};function Us(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Vl(h),Gi(h)}function Vl(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},s.Xa=function(){zs(this)};function zs(h){if(h.h&&typeof u<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),ii(h)==4){h.h=!1;try{const j=h.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=j===0){let te=String(h.D).match(Oc)[1]||null;!te&&c.self&&c.self.location&&(te=c.self.location.protocol.slice(0,-1)),S=!Ri.test(te?te.toLowerCase():"")}v=S}if(v)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var U=ii(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Vl(h)}}finally{Gi(h)}}}}function Gi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Pt(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Md(y)}};function Gt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const y={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(R(h[S]))continue;var v=Dc(h[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=y[U]||[];y[U]=j,j.push(v)}Ke(y,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Vr(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new El(h&&h.concurrentRequestLimit),this.Ba=new Dr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vr.prototype,s.ka=8,s.I=1,s.connect=function(h,y,v,S){At(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Fc(this,null,this.W),Di(this)};function Ol(h){if(Ka(h),h.I==3){var y=h.V++,v=wt(h.J);if(Qe(v,"SID",h.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),Bs(h,v),y=new Wn(h,h.j,y),y.M=2,y.A=xs(wt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=Hc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}jc(h)}function Or(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function Ka(h){Or(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Di(h){if(!Tl(h.h)&&!h.m){h.m=!0;var y=h.Ea;re||b(),ce||(re(),ce=!0),I.add(y,h),h.D=0}}function Qa(h,y){return Si(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=yi(g(h.Ea,h,y),qc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Wn(this,this.j,h);let j=this.o;if(this.U&&(j?(j=O(j),le(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lc(this,U,y),v=wt(this.J),Qe(v,"RID",h),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Bs(this,v),j&&(this.R?y="headers="+Hi(Pn(j))+"&"+y:this.u&&Ls(v,this.u,j)),Al(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),U.U=!0,vi(U,v,null)):vi(U,v,y),this.I=2}}else this.I==3&&(h?Ml(this,h):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(h,y){var v;y?v=y.l:v=h.V++;const S=wt(h.J);Qe(S,"SID",h.M),Qe(S,"RID",v),Qe(S,"AID",h.K),Bs(h,S),h.u&&h.o&&Ls(S,h.u,h.o),v=new Wn(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Lc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Al(h.h,v),vi(v,S,y)}function Bs(h,y){h.H&&Be(h.H,function(v,S){Qe(y,S,v)}),h.l&&Be({},function(v,S){Qe(y,S,v)})}function Lc(h,y,v){v=Math.min(h.i.length,v);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var U=h.i;let we=-1;for(;;){const _t=["count="+v];we==-1?v>0?(we=U[0].g,_t.push("ofs="+we)):we=0:_t.push("ofs="+we);let Fe=!0;for(let lt=0;lt<v;lt++){var j=U[lt].g;const kn=U[lt].map;if(j-=we,j<0)we=Math.max(0,U[lt].g-100),Fe=!1;else try{j="req"+j+"_"||"";try{var te=kn instanceof Map?kn:Object.entries(kn);for(const[Vi,ri]of te){let si=ri;m(ri)&&(si=br(ri)),_t.push(j+Vi+"="+encodeURIComponent(si))}}catch(Vi){throw _t.push(j+"type="+encodeURIComponent("_badmap")),Vi}}catch{S&&S(kn)}}if(Fe){te=_t.join("&");break e}}te=void 0}return h=h.i.splice(0,v),y.G=h,te}function Uc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;re||b(),ce||(re(),ce=!0),I.add(y,h),h.A=0}}function qs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=yi(g(h.Da,h),qc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=yi(g(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Or(this),zc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function zc(h){h.g=new Wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=wt(h.na);Qe(y,"RID","rpc"),Qe(y,"SID",h.M),Qe(y,"AID",h.K),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(y,"TO",h.ia),Qe(y,"TYPE","xmlhttp"),Bs(h,y),h.u&&h.o&&Ls(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=xs(wt(y)),v.u=null,v.R=!0,za(v,h)}s.Va=function(){this.C!=null&&(this.C=null,Or(this),qs(this),At(19))};function Ya(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Bc(h,y){var v=null;if(h.g==y){Ya(h),xl(h),h.g=null;var S=2}else if(bi(h.h,y))v=y.G,Sl(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;S=Ua(),Pt(S,new gi(S,v)),Di(h)}else Uc(h);else if(U=y.m,U==3||U==0&&y.X>0||!(S==1&&Qa(h,y)||S==2&&qs(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),U){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function qc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ni(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),S=h.Ua;const U=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(S,"https"),xs(S),U?ti(S.toString(),v):Dl(S.toString(),v)}else At(2);h.I=0,h.l&&h.l.pa(y),jc(h),Ka(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function jc(h){if(h.I=0,h.ja=[],h.l){const y=bl(h.h);(y.length!=0||h.i.length!=0)&&(H(h.ja,y),H(h.ja,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.oa()}}function Fc(h,y,v){var S=v instanceof vn?wt(v):new vn(v);if(S.g!="")y&&(S.g=y+"."+S.g),wr(S,S.u);else{var U=c.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const j=new vn(null);S&&qt(j,S),y&&(j.g=y),U&&wr(j,U),v&&(j.h=v),S=j}return v=h.G,y=h.wa,v&&y&&Qe(S,v,y),Qe(S,"VER",h.ka),Bs(h,S),S}function Hc(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new We(new Ii({ab:v})):new We(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}s=Gc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Mr(){}Mr.prototype.g=function(h,y){return new sn(h,y)};function sn(h,y){Tt.call(this),this.g=new Vr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Qi(this)}T(sn,Tt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ol(this.g)},sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=br(h),h=v);y.i.push(new bt(y.Ya++,h)),y.I==3&&Di(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,sn.Z.N.call(this)};function Kc(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Kc,Ht);function Qc(){On.call(this),this.status=1}T(Qc,On);function Qi(h){this.g=h}T(Qi,Gc),Qi.prototype.ra=function(){Pt(this.g,"a")},Qi.prototype.qa=function(h){Pt(this.g,new Kc(h))},Qi.prototype.pa=function(h){Pt(this.g,new Qc)},Qi.prototype.oa=function(){Pt(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,KS=function(){return new Mr},GS=function(){return Ua()},HS=yt,fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,pf=Os,_l.COMPLETE="complete",FS=_l,wc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Iu=wc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,jS=We}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const o0="@firebase/firestore",l0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Hg("@firebase/firestore");function Oo(){return Aa.logLevel}function ee(s,...e){if(Aa.logLevel<=Pe.DEBUG){const t=e.map(ty);Aa.debug(`Firestore (${ul}): ${s}`,...t)}}function ln(s,...e){if(Aa.logLevel<=Pe.ERROR){const t=e.map(ty);Aa.error(`Firestore (${ul}): ${s}`,...t)}}function Hu(s,...e){if(Aa.logLevel<=Pe.WARN){const t=e.map(ty);Aa.warn(`Firestore (${ul}): ${s}`,...t)}}function ty(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,QS(s,r,t)}function QS(s,e,t){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ln(r),new Error(r)}function pe(s,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,s||QS(e,o,r)}function Se(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class SN{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new TN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class bN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);const r=u=>{u.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new u0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=RN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function Ae(s,e){return s<e?-1:s>e?1:0}function dg(s,e){const t=Math.min(s.length,e.length);for(let r=0;r<t;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Gp(o)===Gp(u)?Ae(o,u):Gp(o)?1:-1}return Ae(s.length,e.length)}const CN=55296,DN=57343;function Gp(s){const e=s.charCodeAt(0);return e>=CN&&e<=DN}function Ko(s,e,t){return s.length===e.length&&s.every(((r,o)=>t(r,e[o])))}function YS(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__name__";class ki{constructor(e,t,r){t===void 0?t=0:t>e.length&&de(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&de(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=ki.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ae(e.length,t.length)}static compareSegments(e,t){const r=ki.isNumericId(e),o=ki.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?ki.extractNumericId(e).compare(ki.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class Ge extends ki{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const NN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends ki{construct(e,t,r){return new ft(e,t,r)}static isValidIdentifier(e){return NN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new ft([c0])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ie(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ie(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ie(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new ie(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ge.fromString(e))}static fromName(e){return new se(Ge.fromString(e).popFirst(5))}static empty(){return new se(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(s,e,t){if(!t)throw new ie(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function VN(s,e,t,r){if(e===!0&&r===!0)throw new ie(Q.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function h0(s){if(!se.isDocumentKey(s))throw new ie(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function f0(s){if(se.isDocumentKey(s))throw new ie(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $S(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function cd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":de(12329,{type:typeof s})}function xf(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ie(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cd(s);throw new ie(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s,e){const t={typeString:s};return e&&(t.value=e),t}function dc(s,e){if(!$S(s))throw new ie(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const c=s[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new ie(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,m0=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*m0);return new $e(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<d0)throw new ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m0}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:Vt("string",$e._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new $e(0,0))}static max(){return new ye(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;class Pf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function mg(s){return s.fields.find((e=>e.kind===2))}function oa(s){return s.fields.filter((e=>e.kind!==2))}Pf.UNKNOWN_ID=-1;class gf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ku{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ku(0,Nn.min())}}function ON(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=ye.fromTimestamp(r===1e9?new $e(t+1,0):new $e(t,r));return new Nn(o,se.empty(),e)}function JS(s){return new Nn(s.readTime,s.key,Gu)}class Nn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Nn(ye.min(),se.empty(),Gu)}static max(){return new Nn(ye.max(),se.empty(),Gu)}}function iy(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=se.comparator(s.documentKey,e.documentKey),t!==0?t:Ae(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==ZS)throw s;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):L.reject(t)}static resolve(e){return new L(((t,r)=>{t(e)}))}static reject(e){return new L(((t,r)=>{r(e)}))}static waitFor(e){return new L(((t,r)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>r(p)))})),c=!0,u===o&&t()}))}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next((o=>o?L.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,u)=>{r.push(t.call(this,o,u))})),this.waitFor(r)}static mapArray(e,t){return new L(((r,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((E=>{c[g]=E,++m,m===u&&r(c)}),(E=>o(E)))}}))}static doWhile(e,t){return new L(((r,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):r()};u()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="SimpleDb";class hd{static open(e,t,r,o){try{return new hd(t,e.transaction(o,r))}catch(u){throw new Mu(t,u)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new dr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Mu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=ry(r.target.error);this.S.reject(new Mu(e,o))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ee(Rn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xN(t)}}class gs{static delete(e){return ee(Rn,"Removing database:",e),ca(YA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!tS())return!1;if(gs.F())return!0;const e=Ut(),t=gs.M(e),r=0<t&&t<10,o=e1(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,gs.M(Ut())===12.2&&ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ee(Rn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;t(c)},o.onblocked=()=>{r(new Mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?r(new ie(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new ie(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Mu(e,c))},o.onupgradeneeded=u=>{ee(Rn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{ee(Rn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,o){const u=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const m=hd.open(this.db,e,u?"readonly":"readwrite",r),p=o(m).next((g=>(m.C(),g))).catch((g=>(m.abort(g),L.reject(g)))).toPromise();return p.catch((()=>{})),await m.D,p}catch(m){const p=m,g=p.name!=="FirebaseError"&&c<3;if(ee(Rn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function e1(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class MN{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ca(this.U.delete())}}class Mu extends ie{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bs(s){return s.name==="IndexedDbTransactionError"}class xN{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ee(Rn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ee(Rn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ca(r)}add(e){return ee(Rn,"ADD",this.store.name,e,e),ca(this.store.add(e))}get(e){return ca(this.store.get(e)).next((t=>(t===void 0&&(t=null),ee(Rn,"GET",this.store.name,e,t),t)))}delete(e){return ee(Rn,"DELETE",this.store.name,e),ca(this.store.delete(e))}count(){return ee(Rn,"COUNT",this.store.name),ca(this.store.count())}J(e,t){const r=this.options(e,t),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new L(((c,m)=>{u.onerror=p=>{m(p.target.error)},u.onsuccess=p=>{c(p.target.result)}}))}{const u=this.cursor(r),c=[];return this.H(u,((m,p)=>{c.push(p)})).next((()=>c))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new L(((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}Z(e,t){ee(Rn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,((u,c,m)=>m.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}te(e){const t=this.cursor({});return new L(((r,o)=>{t.onerror=u=>{const c=ry(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}H(e,t){const r=[];return new L(((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const p=new MN(m),g=t(m.primaryKey,m.value,p);if(g instanceof L){const E=g.catch((T=>(p.done(),L.reject(T))));r.push(E)}p.isDone?o():p.G===null?m.continue():m.continue(p.G)}})).next((()=>L.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ca(s){return new L(((e,t)=>{s.onsuccess=r=>{const o=r.target.result;e(o)},s.onerror=r=>{const o=ry(r.target.error);t(o)}}))}let p0=!1;function ry(s){const e=gs.M(Ut());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const r=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return p0||(p0=!0,setTimeout((()=>{throw r}),0)),r}}return s}const xu="IndexBackfiller";class PN{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ee(xu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ee(xu,`Documents written: ${t}`)}catch(t){bs(t)?ee(xu,"Ignoring IndexedDB error during index backfill: ",t):await Oa(t)}await this.re(6e4)}))}}class kN{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let o=t,u=!0;return L.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ee(xu,`Processing collection: ${c}`),this.oe(e,c,o).next((m=>{o-=m,r.add(c)}));u=!1})))).next((()=>t-o))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(o,u))).next((m=>(ee(xu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((o,u)=>{const c=JS(u);iy(c,r)>0&&(r=c)})),new Nn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=-1;function fd(s){return s==null}function Qu(s){return s===0&&1/s==-1/0}function LN(s){return typeof s=="number"&&Number.isInteger(s)&&!Qu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="";function tn(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=g0(e)),e=UN(s.get(t),e);return g0(e)}function UN(s,e){let t=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":t+="";break;case kf:t+="";break;default:t+=u}}return t}function g0(s){return s+kf+""}function Li(s){const e=s.length;if(pe(e>=2,64408,{path:s}),e===2)return pe(s.charAt(0)===kf&&s.charAt(1)==="",56145,{path:s}),Ge.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const c=s.indexOf(kf,u);switch((c<0||c>t)&&de(50515,{path:s}),s.charAt(c+1)){case"":const m=s.substring(u,c);let p;o.length===0?p=m:(o+=m,p=o,o=""),r.push(p);break;case"":o+=s.substring(u,c),o+="\0";break;case"":o+=s.substring(u,c+1);break;default:de(61167,{path:s})}u=c+2}return new Ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="remoteDocuments",mc="owner",Io="owner",Yu="mutationQueues",zN="userId",ci="mutations",y0="batchId",ma="userMutationsIndex",_0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(s,e){return[s,tn(e)]}function t1(s,e,t){return[s,tn(e),t]}const BN={},Qo="documentMutations",Lf="remoteDocumentsV14",qN=["prefixPath","collectionGroup","readTime","documentId"],_f="documentKeyIndex",jN=["prefixPath","collectionGroup","documentId"],n1="collectionGroupIndex",FN=["collectionGroup","readTime","prefixPath","documentId"],Xu="remoteDocumentGlobal",pg="remoteDocumentGlobalKey",Yo="targets",i1="queryTargetsIndex",HN=["canonicalId","targetId"],Xo="targetDocuments",GN=["targetId","path"],sy="documentTargetsIndex",KN=["path","targetId"],Uf="targetGlobalKey",ga="targetGlobal",$u="collectionParents",QN=["collectionId","parent"],$o="clientMetadata",YN="clientId",dd="bundles",XN="bundleId",md="namedQueries",$N="name",ay="indexConfiguration",JN="indexId",gg="collectionGroupIndex",ZN="collectionGroup",Pu="indexState",WN=["indexId","uid"],r1="sequenceNumberIndex",eV=["uid","sequenceNumber"],ku="indexEntries",tV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s1="documentKeyIndex",nV=["indexId","uid","orderedDocumentKey"],pd="documentOverlays",iV=["userId","collectionPath","documentId"],yg="collectionPathOverlayIndex",rV=["userId","collectionPath","largestBatchId"],a1="collectionGroupOverlayIndex",sV=["userId","collectionGroup","largestBatchId"],oy="globals",aV="name",o1=[Yu,ci,Qo,la,Yo,mc,ga,Xo,$o,Xu,$u,dd,md],oV=[...o1,pd],l1=[Yu,ci,Qo,Lf,Yo,mc,ga,Xo,$o,Xu,$u,dd,md,pd],u1=l1,ly=[...u1,ay,Pu,ku],lV=ly,c1=[...ly,oy],uV=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends WS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function zt(s,e){const t=Se(s);return gs.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ma(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function h1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Jt(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ze(this.comparator);return t.data=e,t}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ro(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Ze(ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new f1("Invalid base64 string: "+u):u}})(e);return new Ot(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const cV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(pe(!!s,39018),typeof s=="string"){let e=0;const t=cV.exec(s);if(pe(!!t,46558,{timestamp:s}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(s.seconds),nanos:ct(s.nanos)}}function ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?Ot.fromBase64String(s):Ot.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",m1="__type__",p1="__previous_value__",g1="__local_write_time__";function uy(s){return(s?.mapValue?.fields||{})[m1]?.stringValue===d1}function gd(s){const e=s.mapValue.fields[p1];return uy(e)?gd(e):e}function Ju(s){const e=yr(s.mapValue.fields[g1].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t,r,o,u,c,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const zf="(default)";class Sa{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new Sa("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="__type__",y1="__max__",hs={mapValue:{fields:{__type__:{stringValue:y1}}}},hy="__vector__",Jo="value",vf={nullValue:"NULL_VALUE"};function vs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?uy(s)?4:_1(s)?9007199254740991:yd(s)?10:11:de(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const t=vs(s);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ju(s).isEqual(Ju(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=yr(o.timestampValue),m=yr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return _r(o.bytesValue).isEqual(_r(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return ct(o.geoPointValue.latitude)===ct(u.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ct(o.integerValue)===ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ct(o.doubleValue),m=ct(u.doubleValue);return c===m?Qu(c)===Qu(m):isNaN(c)&&isNaN(m)}return!1})(s,e);case 9:return Ko(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(v0(c)!==v0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Fi(c[p],m[p])))return!1;return!0})(s,e);default:return de(52216,{left:s})}}function Zu(s,e){return(s.values||[]).find((t=>Fi(t,e)))!==void 0}function Es(s,e){if(s===e)return 0;const t=vs(s),r=vs(e);if(t!==r)return Ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=ct(u.integerValue||u.doubleValue),p=ct(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return T0(s.timestampValue,e.timestampValue);case 4:return T0(Ju(s),Ju(e));case 5:return dg(s.stringValue,e.stringValue);case 6:return(function(u,c){const m=_r(u),p=_r(c);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ae(m[g],p[g]);if(E!==0)return E}return Ae(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ae(ct(u.latitude),ct(c.latitude));return m!==0?m:Ae(ct(u.longitude),ct(c.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return A0(s.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Jo]?.arrayValue,E=p[Jo]?.arrayValue,T=Ae(g?.values?.length||0,E?.values?.length||0);return T!==0?T:A0(g,E)})(s.mapValue,e.mapValue);case 11:return(function(u,c){if(u===hs.mapValue&&c===hs.mapValue)return 0;if(u===hs.mapValue)return 1;if(c===hs.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=dg(p[T],E[T]);if(w!==0)return w;const P=Es(m[p[T]],g[E[T]]);if(P!==0)return P}return Ae(p.length,E.length)})(s.mapValue,e.mapValue);default:throw de(23264,{he:t})}}function T0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ae(s,e);const t=yr(s),r=yr(e),o=Ae(t.seconds,r.seconds);return o!==0?o:Ae(t.nanos,r.nanos)}function A0(s,e){const t=s.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=Es(t[o],r[o]);if(u)return u}return Ae(t.length,r.length)}function Zo(s){return vg(s)}function vg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const r=yr(t);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return _r(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return se.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=vg(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${vg(t.fields[c])}`;return o+"}"})(s.mapValue):de(61005,{value:s})}function Ef(s){switch(vs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gd(s);return e?16+Ef(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Ef(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ma(r.fields,((u,c)=>{o+=u.length+Ef(c)})),o})(s.mapValue);default:throw de(13486,{value:s})}}function Wu(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Eg(s){return!!s&&"integerValue"in s}function ec(s){return!!s&&"arrayValue"in s}function S0(s){return!!s&&"nullValue"in s}function b0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Tf(s){return!!s&&"mapValue"in s}function yd(s){return(s?.mapValue?.fields||{})[cy]?.stringValue===hy}function Lu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ma(s.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Lu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(s.arrayValue.values[t]);return e}return{...s}}function _1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===y1}const v1={mapValue:{fields:{[cy]:{stringValue:hy},[Jo]:{arrayValue:{}}}}};function fV(s){return"nullValue"in s?vf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Wu(Sa.empty(),se.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?yd(s)?v1:{mapValue:{}}:de(35942,{value:s})}function dV(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Wu(Sa.empty(),se.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?v1:"mapValue"in s?yd(s)?{mapValue:{}}:hs:de(61959,{value:s})}function w0(s,e){const t=Es(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function I0(s,e){const t=Es(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=ft.emptyPath(),r={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=m.popLast()}c?r[m.lastSegment()]=Lu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ma(t,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new yn(Lu(this.value))}}function E1(s){const e=[];return Ma(s.fields,((t,r)=>{const o=new ft([t]);if(Tf(r)){const u=E1(r.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t,r,o,u,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new gt(e,0,ye.min(),ye.min(),ye.min(),yn.empty(),0)}static newFoundDocument(e,t,r,o){return new gt(e,1,t,ye.min(),r,o,0)}static newNoDocument(e,t){return new gt(e,2,t,ye.min(),ye.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new gt(e,3,t,ye.min(),ye.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this.position=e,this.inclusive=t}}function R0(s,e,t){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],c=s.position[o];if(u.field.isKeyField()?r=se.comparator(se.fromName(c.referenceValue),t.key):r=Es(c,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function C0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Fi(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t="asc"){this.field=e,this.dir=t}}function mV(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class ke extends T1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pV(e,t,r):t==="array-contains"?new _V(e,r):t==="in"?new R1(e,r):t==="not-in"?new vV(e,r):t==="array-contains-any"?new EV(e,r):new ke(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gV(e,r):new yV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Es(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Es(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends T1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Je(e,t)}matches(e){return el(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function el(s){return s.op==="and"}function Tg(s){return s.op==="or"}function fy(s){return A1(s)&&el(s)}function A1(s){for(const e of s.filters)if(e instanceof Je)return!1;return!0}function Ag(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+Zo(s.value);if(fy(s))return s.filters.map((e=>Ag(e))).join(",");{const e=s.filters.map((t=>Ag(t))).join(",");return`${s.op}(${e})`}}function S1(s,e){return s instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Fi(r.value,o.value)})(s,e):s instanceof Je?(function(r,o){return o instanceof Je&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&S1(c,o.filters[m])),!0):!1})(s,e):void de(19439)}function b1(s,e){const t=s.filters.concat(e);return Je.create(t,s.op)}function w1(s){return s instanceof ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`})(s):s instanceof Je?(function(t){return t.op.toString()+" {"+t.getFilters().map(w1).join(" ,")+"}"})(s):"Filter"}class pV extends ke{constructor(e,t,r){super(e,t,r),this.key=se.fromName(r.referenceValue)}matches(e){const t=se.comparator(e.key,this.key);return this.matchesComparison(t)}}class gV extends ke{constructor(e,t){super(e,"in",t),this.keys=I1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class yV extends ke{constructor(e,t){super(e,"not-in",t),this.keys=I1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function I1(s,e){return(e.arrayValue?.values||[]).map((t=>se.fromName(t.referenceValue)))}class _V extends ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ec(t)&&Zu(t.arrayValue,this.value)}}class R1 extends ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zu(this.value.arrayValue,t)}}class vV extends ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zu(this.value.arrayValue,t)}}class EV extends ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ec(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Zu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,t=null,r=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function Sg(s,e=null,t=[],r=[],o=null,u=null,c=null){return new TV(s,e,t,r,o,u,c)}function ba(s){const e=Se(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ag(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Zo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Zo(r))).join(",")),e.Te=t}return e.Te}function pc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!mV(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!S1(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!C0(s.startAt,e.startAt)&&C0(s.endAt,e.endAt)}function Bf(s){return se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function qf(s,e){return s.filters.filter((t=>t instanceof ke&&t.field.isEqual(e)))}function D0(s,e,t){let r=vf,o=!0;for(const u of qf(s,e)){let c=vf,m=!0;switch(u.op){case"<":case"<=":c=fV(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=vf}w0({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(t!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const c=t.position[u];w0({value:r,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(r=c,o=t.inclusive);break}}return{value:r,inclusive:o}}function N0(s,e,t){let r=hs,o=!0;for(const u of qf(s,e)){let c=hs,m=!0;switch(u.op){case">=":case">":c=dV(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=hs}I0({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(t!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const c=t.position[u];I0({value:r,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(r=c,o=t.inclusive);break}}return{value:r,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AV(s,e,t,r,o,u,c,m){return new cl(s,e,t,r,o,u,c,m)}function dy(s){return new cl(s)}function V0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function C1(s){return s.collectionGroup!==null}function Uu(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ze(ft.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tc(u,r))})),t.has(ft.keyField().canonicalString())||e.Ie.push(new tc(ft.keyField(),r))}return e.Ie}function Xn(s){const e=Se(s);return e.Ee||(e.Ee=SV(e,Uu(s))),e.Ee}function SV(s,e){if(s.limitType==="F")return Sg(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tc(o.field,u)}));const t=s.endAt?new Wo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wo(s.startAt.position,s.startAt.inclusive):null;return Sg(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function bg(s,e){const t=s.filters.concat([e]);return new cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function jf(s,e,t){return new cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function _d(s,e){return pc(Xn(s),Xn(e))&&s.limitType===e.limitType}function D1(s){return`${ba(Xn(s))}|lt:${s.limitType}`}function Mo(s){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>w1(o))).join(", ")}]`),fd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Zo(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Zo(o))).join(",")),`Target(${r})`})(Xn(s))}; limitType=${s.limitType})`}function gc(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):se.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Uu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=R0(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,Uu(r),o)||r.endAt&&!(function(c,m,p){const g=R0(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,Uu(r),o))})(s,e)}function bV(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N1(s){return(e,t)=>{let r=!1;for(const o of Uu(s)){const u=wV(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function wV(s,e,t){const r=s.field.isKeyField()?se.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Es(p,g):de(42886)})(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((t,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return h1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new ht(se.comparator);function Cn(){return IV}const V1=new ht(se.comparator);function Ru(...s){let e=V1;for(const t of s)e=e.insert(t.key,t);return e}function O1(s){let e=V1;return s.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ui(){return zu()}function M1(){return zu()}function zu(){return new Ar((s=>s.toString()),((s,e)=>s.isEqual(e)))}const RV=new ht(se.comparator),CV=new Ze(se.comparator);function De(...s){let e=CV;for(const t of s)e=e.add(t);return e}const DV=new Ze(Ae);function NV(){return DV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function x1(s){return{integerValue:""+s}}function VV(s,e){return LN(e)?x1(e):my(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function OV(s,e,t){return s instanceof nc?(function(o,u){const c={fields:{[m1]:{stringValue:d1},[g1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&uy(u)&&(u=gd(u)),u&&(c.fields[p1]=u),{mapValue:c}})(t,e):s instanceof tl?k1(s,e):s instanceof nl?L1(s,e):(function(o,u){const c=P1(o,u),m=O0(c)+O0(o.Ae);return Eg(c)&&Eg(o.Ae)?x1(m):my(o.serializer,m)})(s,e)}function MV(s,e,t){return s instanceof tl?k1(s,e):s instanceof nl?L1(s,e):t}function P1(s,e){return s instanceof ic?(function(r){return Eg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class nc extends vd{}class tl extends vd{constructor(e){super(),this.elements=e}}function k1(s,e){const t=U1(e);for(const r of s.elements)t.some((o=>Fi(o,r)))||t.push(r);return{arrayValue:{values:t}}}class nl extends vd{constructor(e){super(),this.elements=e}}function L1(s,e){let t=U1(e);for(const r of s.elements)t=t.filter((o=>!Fi(o,r)));return{arrayValue:{values:t}}}class ic extends vd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function O0(s){return ct(s.integerValue||s.doubleValue)}function U1(s){return ec(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,t){this.field=e,this.transform=t}}function PV(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof tl&&o instanceof tl||r instanceof nl&&o instanceof nl?Ko(r.elements,o.elements,Fi):r instanceof ic&&o instanceof ic?Fi(r.Ae,o.Ae):r instanceof nc&&o instanceof nc})(s.transform,e.transform)}class kV{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ed{}function z1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new py(s.key,Dn.none()):new hl(s.key,s.data,Dn.none());{const t=s.data,r=yn.empty();let o=new Ze(ft.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ws(s.key,r,new Yn(o.toArray()),Dn.none())}}function LV(s,e,t){s instanceof hl?(function(o,u,c){const m=o.value.clone(),p=x0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,e,t):s instanceof ws?(function(o,u,c){if(!Af(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=x0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(B1(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(s,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Bu(s,e,t,r){return s instanceof hl?(function(u,c,m,p){if(!Af(u.precondition,c))return m;const g=u.value.clone(),E=P0(u.fieldTransforms,p,c);return g.setAll(E),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(s,e,t,r):s instanceof ws?(function(u,c,m,p){if(!Af(u.precondition,c))return m;const g=P0(u.fieldTransforms,p,c),E=c.data;return E.setAll(B1(u)),E.setAll(g),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,t,r):(function(u,c,m){return Af(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,e,t)}function UV(s,e){let t=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=P1(r.transform,o||null);u!=null&&(t===null&&(t=yn.empty()),t.set(r.field,u))}return t||null}function M0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ko(r,o,((u,c)=>PV(u,c)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hl extends Ed{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends Ed{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function B1(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}})),e}function x0(s,e,t){const r=new Map;pe(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let o=0;o<t.length;o++){const u=s[o],c=u.transform,m=e.data.field(u.field);r.set(u.field,MV(c,m,t[o]))}return r}function P0(s,e,t){const r=new Map;for(const o of s){const u=o.transform,c=t.data.field(o.field);r.set(o.field,OV(u,c,e))}return r}class py extends Ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q1 extends Ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LV(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=M1();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=z1(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ye.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,r)=>M0(t,r)))&&Ko(this.baseMutations,e.baseMutations,((t,r)=>M0(t,r)))}}class yy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return RV})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new yy(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,ze;function BV(s){switch(s){case Q.OK:return de(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return de(15467,{code:s})}}function j1(s){if(s===void 0)return ln("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Nt.OK:return Q.OK;case Nt.CANCELLED:return Q.CANCELLED;case Nt.UNKNOWN:return Q.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Q.INTERNAL;case Nt.UNAVAILABLE:return Q.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Q.NOT_FOUND;case Nt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Nt.ABORTED:return Q.ABORTED;case Nt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Nt.DATA_LOSS:return Q.DATA_LOSS;default:return de(39323,{code:s})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new ps([4294967295,4294967295],0);function k0(s){const e=qV().encode(s),t=new qS;return t.update(e),new Uint8Array(t.digest())}function L0(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([t,r],0),new ps([o,u],0)]}class vy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ps.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(ps.fromNumber(r)));return o.compare(jV)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=k0(e),[r,o]=L0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new vy(u,o,t);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=k0(e),[r,o]=L0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Td(ye.min(),o,new ht(Ae),Cn(),De())}}class yc{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yc(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class F1{constructor(e,t){this.targetId=e,this.Ce=t}}class H1{constructor(e,t,r=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class U0{constructor(){this.ve=0,this.Fe=z0(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),r=De();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:de(38017,{changeType:u})}})),new yc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=z0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cn(),this.Je=ef(),this.He=ef(),this.Ye=new ht(Ae)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Bf(u))if(r===0){const c=new se(u.path);this.et(t,c,gt.newNoDocument(c,ye.min()))}else pe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=_r(r).toUint8Array()}catch(p){if(p instanceof f1)return Hu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vy(c,o,u)}catch(p){return Hu(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Bf(m.target)){const p=new se(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,gt.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let r=De();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Td(e,t,this.Ye,this.je,r);return this.je=Cn(),this.Je=ef(),this.He=ef(),this.Ye=new ht(Ae),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new U0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ze(Ae),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ze(Ae),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ef(){return new ht(se.comparator)}function z0(){return new ht(se.comparator)}const HV={asc:"ASCENDING",desc:"DESCENDING"},GV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KV={and:"AND",or:"OR"};class QV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wg(s,e){return s.useProto3Json||fd(e)?e:{value:e}}function il(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function YV(s,e){return il(s,e.toTimestamp())}function un(s){return pe(!!s,49232),ye.fromTimestamp((function(t){const r=yr(t);return new $e(r.seconds,r.nanos)})(s))}function Ey(s,e){return Ig(s,e).canonicalString()}function Ig(s,e){const t=(function(o){return new Ge(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?t:t.child(e)}function K1(s){const e=Ge.fromString(s);return pe(tb(e),10190,{key:e.toString()}),e}function Ff(s,e){return Ey(s.databaseId,e.path)}function ya(s,e){const t=K1(e);if(t.get(1)!==s.databaseId.projectId)throw new ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new se(X1(t))}function Q1(s,e){return Ey(s.databaseId,e)}function Y1(s){const e=K1(s);return e.length===4?Ge.emptyPath():X1(e)}function Rg(s){return new Ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function X1(s){return pe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function B0(s,e,t){return{name:Ff(s,e),fields:t.value.mapValue.fields}}function XV(s,e,t){const r=ya(s,e.name),o=un(e.updateTime),u=e.createTime?un(e.createTime):ye.min(),c=new yn({mapValue:{fields:e.fields}}),m=gt.newFoundDocument(r,o,u,c);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function $V(s,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:de(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(pe(E===void 0||typeof E=="string",58123),Ot.fromBase64String(E||"")):(pe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ot.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const E=g.code===void 0?Q.UNKNOWN:j1(g.code);return new ie(E,g.message||"")})(c);t=new H1(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ya(s,r.document.name),u=un(r.document.updateTime),c=r.document.createTime?un(r.document.createTime):ye.min(),m=new yn({mapValue:{fields:r.document.fields}}),p=gt.newFoundDocument(o,u,c,m),g=r.targetIds||[],E=r.removedTargetIds||[];t=new Sf(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ya(s,r.document),u=r.readTime?un(r.readTime):ye.min(),c=gt.newNoDocument(o,u),m=r.removedTargetIds||[];t=new Sf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ya(s,r.document),u=r.removedTargetIds||[];t=new Sf([],u,o,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new zV(o,u),m=r.targetId;t=new F1(m,c)}}return t}function Hf(s,e){let t;if(e instanceof hl)t={update:B0(s,e.key,e.value)};else if(e instanceof py)t={delete:Ff(s,e.key)};else if(e instanceof ws)t={update:B0(s,e.key,e.data),updateMask:nO(e.fieldMask)};else{if(!(e instanceof q1))return de(16599,{Vt:e.type});t={verify:Ff(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof nc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ic)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw de(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YV(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:de(27497)})(s,e.precondition)),t}function Cg(s,e){const t=e.currentDocument?(function(u){return u.updateTime!==void 0?Dn.updateTime(un(u.updateTime)):u.exists!==void 0?Dn.exists(u.exists):Dn.none()})(e.currentDocument):Dn.none(),r=e.updateTransforms?e.updateTransforms.map((o=>(function(c,m){let p=null;if("setToServerValue"in m)pe(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),p=new nc;else if("appendMissingElements"in m){const E=m.appendMissingElements.values||[];p=new tl(E)}else if("removeAllFromArray"in m){const E=m.removeAllFromArray.values||[];p=new nl(E)}else"increment"in m?p=new ic(c,m.increment):de(16584,{proto:m});const g=ft.fromServerFormat(m.fieldPath);return new xV(g,p)})(s,o))):[];if(e.update){e.update.name;const o=ya(s,e.update.name),u=new yn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(p){const g=p.fieldPaths||[];return new Yn(g.map((E=>ft.fromServerFormat(E))))})(e.updateMask);return new ws(o,u,c,t,r)}return new hl(o,u,t,r)}if(e.delete){const o=ya(s,e.delete);return new py(o,t)}if(e.verify){const o=ya(s,e.verify);return new q1(o,t)}return de(1463,{proto:e})}function JV(s,e){return s&&s.length>0?(pe(e!==void 0,14353),s.map((t=>(function(o,u){let c=o.updateTime?un(o.updateTime):un(u);return c.isEqual(ye.min())&&(c=un(u)),new kV(c,o.transformResults||[])})(t,e)))):[]}function $1(s,e){return{documents:[Q1(s,e.path)]}}function J1(s,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Q1(s,o);const u=(function(g){if(g.length!==0)return eb(Je.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:xo(w.field),direction:WV(w.dir)}})(E)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=wg(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function Z1(s){let e=Y1(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){pe(r===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(T){const w=W1(T);return w instanceof Je&&fy(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(H){return new tc(Po(H.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,fd(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(T){const w=!!T.before,P=T.values||[];return new Wo(P,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const w=!T.before,P=T.values||[];return new Wo(P,w)})(t.endAt)),AV(e,o,c,u,m,"F",p,g)}function ZV(s,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function W1(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Po(t.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Po(t.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(t.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(s):s.fieldFilter!==void 0?(function(t){return ke.create(Po(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return Je.create(t.compositeFilter.filters.map((r=>W1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(t.compositeFilter.op))})(s):de(30097,{filter:s})}function WV(s){return HV[s]}function eO(s){return GV[s]}function tO(s){return KV[s]}function xo(s){return{fieldPath:s.canonicalString()}}function Po(s){return ft.fromServerFormat(s.fieldPath)}function eb(s){return s instanceof ke?(function(t){if(t.op==="=="){if(b0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(S0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(S0(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:eO(t.op),value:t.value}}})(s):s instanceof Je?(function(t){const r=t.getFilters().map((o=>eb(o)));return r.length===1?r[0]:{compositeFilter:{op:tO(t.op),filters:r}}})(s):de(54877,{filter:s})}function nO(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t,r,o,u=ye.min(),c=ye.min(),m=Ot.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.yt=e}}function iO(s,e){let t;if(e.document)t=XV(s.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=se.fromSegments(e.noDocument.path),o=Ia(e.noDocument.readTime);t=gt.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return de(56709);{const r=se.fromSegments(e.unknownDocument.path),o=Ia(e.unknownDocument.version);t=gt.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime((function(o){const u=new $e(o[0],o[1]);return ye.fromTimestamp(u)})(e.readTime)),t}function q0(s,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(u,c){return{name:Ff(u,c.key),fields:c.data.value.mapValue.fields,updateTime:il(u,c.version.toTimestamp()),createTime:il(u,c.createTime.toTimestamp())}})(s.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:wa(e.version)};else{if(!e.isUnknownDocument())return de(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:wa(e.version)}}return r}function Gf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function wa(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ia(s){const e=new $e(s.seconds,s.nanoseconds);return ye.fromTimestamp(e)}function ha(s,e){const t=(e.baseMutations||[]).map((u=>Cg(s.yt,u)));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];if(u+1<e.mutations.length&&e.mutations[u+1].transform!==void 0){const m=e.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,e.mutations.splice(u+1,1),++u}}const r=e.mutations.map((u=>Cg(s.yt,u))),o=$e.fromMillis(e.localWriteTimeMs);return new gy(e.batchId,o,t,r)}function Du(s){const e=Ia(s.readTime),t=s.lastLimboFreeSnapshotVersion!==void 0?Ia(s.lastLimboFreeSnapshotVersion):ye.min();let r;return r=(function(u){return u.documents!==void 0})(s.query)?(function(u){const c=u.documents.length;return pe(c===1,1966,{count:c}),Xn(dy(Y1(u.documents[0])))})(s.query):(function(u){return Xn(Z1(u))})(s.query),new hr(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,Ot.fromBase64String(s.resumeToken))}function ib(s,e){const t=wa(e.snapshotVersion),r=wa(e.lastLimboFreeSnapshotVersion);let o;o=Bf(e.target)?$1(s.yt,e.target):J1(s.yt,e.target).ft;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ba(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function rb(s){const e=Z1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?jf(e,e.limit,"L"):e}function Kp(s,e){return new _y(e.largestBatchId,Cg(s.yt,e.overlayMutation))}function j0(s,e){const t=e.path.lastSegment();return[s,tn(e.path.popLast()),t]}function F0(s,e,t,r){return{indexId:s,uid:e,sequenceNumber:t,readTime:wa(r.readTime),documentKey:tn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{getBundleMetadata(e,t){return H0(e).get(t).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:Ia(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(e,t){return H0(e).put((function(o){return{bundleId:o.id,createTime:wa(un(o.createTime)),version:o.version}})(t))}getNamedQuery(e,t){return G0(e).get(t).next((r=>{if(r)return(function(u){return{name:u.name,query:rb(u.bundledQuery),readTime:Ia(u.readTime)}})(r)}))}saveNamedQuery(e,t){return G0(e).put((function(o){return{name:o.name,readTime:wa(un(o.readTime)),bundledQuery:o.bundledQuery}})(t))}}function H0(s){return zt(s,dd)}function G0(s){return zt(s,md)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Ad(e,r)}getOverlay(e,t){return vu(e).get(j0(this.userId,t)).next((r=>r?Kp(this.serializer,r):null))}getOverlays(e,t){const r=Ui();return L.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){const o=[];return r.forEach(((u,c)=>{const m=new _y(t,c);o.push(this.St(e,m))})),L.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach((c=>o.add(tn(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(vu(e).Z(yg,m))})),L.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Ui(),u=tn(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return vu(e).J(yg,c).next((m=>{for(const p of m){const g=Kp(this.serializer,p);o.set(g.getKey(),g)}return o}))}getOverlaysForCollectionGroup(e,t,r,o){const u=Ui();let c;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vu(e).ee({index:a1,range:m},((p,g,E)=>{const T=Kp(this.serializer,g);u.size()<o||T.largestBatchId===c?(u.set(T.getKey(),T),c=T.largestBatchId):E.done()})).next((()=>u))}St(e,t){return vu(e).put((function(o,u,c){const[m,p,g]=j0(u,c.mutation.key);return{userId:u,collectionPath:p,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Hf(o.yt,c.mutation)}})(this.serializer,this.userId,t))}}function vu(s){return zt(s,pd)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{bt(e){return zt(e,oy)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Ot.fromUint8Array(r):Ot.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Qu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=yr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(_r(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?_1(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):yd(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):de(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const o of Object.keys(r))this.Ot(o,t),this.Ct(r[o],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const o=Jo,u=r[o].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ct(u)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const o of r)this.Ct(o,t)}Lt(e,t){this.Ft(t,37),se.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}fa.Kt=new fa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=255;function aO(s){if(s===0)return 8;let e=0;return s>>4||(e+=4,s<<=4),s>>6||(e+=2,s<<=2),s>>7||(e+=1),e}function K0(s){const e=64-(function(r){let o=0;for(let u=0;u<8;++u){const c=aO(255&r[u]);if(o+=c,c!==8)break}return o})(s);return Math.ceil(e/8)}class oO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=t.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const o=t.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(e){const t=this.en(e),r=K0(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}nn(e){const t=this.en(e),r=K0(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}rn(){this.sn(Co),this.sn(255)}_n(){this.an(Co),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Co?(this.sn(Co),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Co?(this.an(Co),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class lO{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class uO{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Eu{constructor(){this.cn=new oO,this.ln=new lO(this.cn),this.hn=new uO(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,r,o){this.Tn=e,this.In=t,this.En=r,this.dn=o}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new da(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:bf(this.En),directionalValue:bf(this.dn),orderedDocumentKey:bf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const o=this.Rn(e,t,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function is(s,e){let t=s.Tn-e.Tn;return t!==0?t:(t=Q0(s.En,e.En),t!==0?t:(t=Q0(s.dn,e.dn),t!==0?t:se.comparator(s.In,e.In)))}function Q0(s,e){for(let t=0;t<s.length&&t<e.length;++t){const r=s[t]-e[t];if(r!==0)return r}return s.length-e.length}function bf(s){return eS()?(function(t){let r="";for(let o=0;o<t.length;o++)r+=String.fromCharCode(t[o]);return r})(s):s}function Y0(s){return typeof s!="string"?s:(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(s)}class X0{constructor(e){this.mn=new Ze(((t,r)=>ft.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(pe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=mg(e);if(t!==void 0&&!this.wn(t))return!1;const r=oa(e);let o=new Set,u=0,c=0;for(;u<r.length&&this.wn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const p=r[u];if(!this.Sn(m,p)||!this.bn(this.fn[c++],p))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.fn.length||!this.bn(this.fn[c++],m))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ze(ft.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new gf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new gf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new gf(r.field,r.dir==="asc"?0:1)));return new Pf(Pf.UNKNOWN_ID,this.collectionId,t,Ku.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){if(pe(s instanceof ke||s instanceof Je,20012),s instanceof ke){if(s instanceof R1){const t=s.value.arrayValue?.values?.map((r=>ke.create(s.field,"==",r)))||[];return Je.create(t,"or")}return s}const e=s.filters.map((t=>sb(t)));return Je.create(e,s.op)}function cO(s){if(s.getFilters().length===0)return[];const e=Vg(sb(s));return pe(ab(e),7391),Dg(e)||Ng(e)?[e]:e.getFilters()}function Dg(s){return s instanceof ke}function Ng(s){return s instanceof Je&&fy(s)}function ab(s){return Dg(s)||Ng(s)||(function(t){if(t instanceof Je&&Tg(t)){for(const r of t.getFilters())if(!Dg(r)&&!Ng(r))return!1;return!0}return!1})(s)}function Vg(s){if(pe(s instanceof ke||s instanceof Je,34018),s instanceof ke)return s;if(s.filters.length===1)return Vg(s.filters[0]);const e=s.filters.map((r=>Vg(r)));let t=Je.create(e,s.op);return t=Kf(t),ab(t)?t:(pe(t instanceof Je,64498),pe(el(t),40251),pe(t.filters.length>1,57927),t.filters.reduce(((r,o)=>Ty(r,o))))}function Ty(s,e){let t;return pe(s instanceof ke||s instanceof Je,38388),pe(e instanceof ke||e instanceof Je,25473),t=s instanceof ke?e instanceof ke?(function(o,u){return Je.create([o,u],"and")})(s,e):$0(s,e):e instanceof ke?$0(e,s):(function(o,u){if(pe(o.filters.length>0&&u.filters.length>0,48005),el(o)&&el(u))return b1(o,u.getFilters());const c=Tg(o)?o:u,m=Tg(o)?u:o,p=c.filters.map((g=>Ty(g,m)));return Je.create(p,"or")})(s,e),Kf(t)}function $0(s,e){if(el(e))return b1(e,s.getFilters());{const t=e.filters.map((r=>Ty(s,r)));return Je.create(t,"or")}}function Kf(s){if(pe(s instanceof ke||s instanceof Je,11850),s instanceof ke)return s;const e=s.getFilters();if(e.length===1)return Kf(e[0]);if(A1(s))return s;const t=e.map((o=>Kf(o))),r=[];return t.forEach((o=>{o instanceof ke?r.push(o):o instanceof Je&&(o.op===s.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:Je.create(r,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Cn=new Ay}addToCollectionParentIndex(e,t){return this.Cn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Nn.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class Ay{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ze(Ge.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ze(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="IndexedDbIndexManager",tf=new Uint8Array(0);class fO{constructor(e,t){this.databaseId=t,this.vn=new Ay,this.Fn=new Ar((r=>ba(r)),((r,o)=>pc(r,o))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const u={collectionId:r,parent:tn(o)};return Z0(e).put(u)}return L.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[YS(t),""],!1,!0);return Z0(e).J(o).next((u=>{for(const c of u){if(c.collectionId!==t)break;r.push(Li(c.parent))}return r}))}addFieldIndex(e,t){const r=Tu(e),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(t);delete o.indexId;const u=r.add(o);if(t.indexState){const c=No(e);return u.next((m=>{c.put(F0(m,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return u.next()}deleteFieldIndex(e,t){const r=Tu(e),o=No(e),u=Do(e);return r.delete(t.indexId).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Tu(e),r=Do(e),o=No(e);return t.Z().next((()=>r.Z())).next((()=>o.Z()))}createTargetIndexes(e,t){return L.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((o=>{if(o===0||o===1){const u=new X0(r).Dn();if(u!=null)return this.addFieldIndex(e,u)}}))))}getDocumentsMatchingTarget(e,t){const r=Do(e);let o=!0;const u=new Map;return L.forEach(this.Mn(t),(c=>this.xn(e,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=De();const m=[];return L.forEach(u,((p,g)=>{ee(J0,`Using index ${(function(Z){return`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map((ue=>`${ue.fieldPath}:${ue.kind}`)).join(",")}`})(p)} to execute ${ba(t)}`);const E=(function(Z,ue){const re=mg(ue);if(re===void 0)return null;for(const ce of qf(Z,re.fieldPath))switch(ce.op){case"array-contains-any":return ce.value.arrayValue.values||[];case"array-contains":return[ce.value]}return null})(g,p),T=(function(Z,ue){const re=new Map;for(const ce of oa(ue))for(const I of qf(Z,ce.fieldPath))switch(I.op){case"==":case"in":re.set(ce.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return re.set(ce.fieldPath.canonicalString(),I.value),Array.from(re.values())}return null})(g,p),w=(function(Z,ue){const re=[];let ce=!0;for(const I of oa(ue)){const b=I.kind===0?D0(Z,I.fieldPath,Z.startAt):N0(Z,I.fieldPath,Z.startAt);re.push(b.value),ce&&(ce=b.inclusive)}return new Wo(re,ce)})(g,p),P=(function(Z,ue){const re=[];let ce=!0;for(const I of oa(ue)){const b=I.kind===0?N0(Z,I.fieldPath,Z.endAt):D0(Z,I.fieldPath,Z.endAt);re.push(b.value),ce&&(ce=b.inclusive)}return new Wo(re,ce)})(g,p),H=this.On(p,g,w),W=this.On(p,g,P),Y=this.Nn(p,g,T),ne=this.Bn(p.indexId,E,H,w.inclusive,W,P.inclusive,Y);return L.forEach(ne,(ae=>r.Y(ae,t.limit).next((Z=>{Z.forEach((ue=>{const re=se.fromSegments(ue.documentKey);c.has(re)||(c=c.add(re),m.push(re))}))}))))})).next((()=>m))}return L.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=cO(Je.create(e.filters,"and")).map((r=>Sg(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,o,u,c,m){const p=(t!=null?t.length:1)*Math.max(r.length,u.length),g=p/(t!=null?t.length:1),E=[];for(let T=0;T<p;++T){const w=t?this.Ln(t[T/g]):tf,P=this.kn(e,w,r[T%g],o),H=this.qn(e,w,u[T%g],c),W=m.map((Y=>this.kn(e,w,Y,!0)));E.push(...this.createRange(P,H,W))}return E}kn(e,t,r,o){const u=new da(e,se.empty(),t,r);return o?u:u.An()}qn(e,t,r,o){const u=new da(e,se.empty(),t,r);return o?u.An():u}xn(e,t){const r=new X0(t),o=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next((u=>{let c=null;for(const m of u)r.yn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(e,t){let r=2;const o=this.Mn(t);return L.forEach(o,(u=>this.xn(e,u).next((c=>{c?r!==0&&c.fields.length<(function(p){let g=new Ze(ft.comparator),E=!1;for(const T of p.filters)for(const w of T.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?E=!0:g=g.add(w.field));for(const T of p.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(E?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&o.length>1&&r===2?1:r))}Qn(e,t){const r=new Eu;for(const o of oa(e)){const u=t.data.field(o.fieldPath);if(u==null)return null;const c=r.Pn(o.kind);fa.Kt.Dt(u,c)}return r.un()}Ln(e){const t=new Eu;return fa.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Eu;return fa.Kt.Dt(Wu(this.databaseId,t),r.Pn((function(u){const c=oa(u);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let o=[];o.push(new Eu);let u=0;for(const c of oa(e)){const m=r[u++];for(const p of o)if(this.Un(t,c.fieldPath)&&ec(m))o=this.Kn(o,c,m);else{const g=p.Pn(c.kind);fa.Kt.Dt(m,g)}}return this.Wn(o)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const o=[...e],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const p=new Eu;p.seed(m.un()),fa.Kt.Dt(c,p.Pn(t.kind)),u.push(p)}return u}Un(e,t){return!!e.filters.find((r=>r instanceof ke&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Tu(e),o=No(e);return(t?r.J(gg,IDBKeyRange.bound(t,t)):r.J()).next((u=>{const c=[];return L.forEach(u,(m=>o.get([m.indexId,this.uid]).next((p=>{c.push((function(E,T){const w=T?new Ku(T.sequenceNumber,new Nn(Ia(T.readTime),new se(Li(T.documentKey)),T.largestBatchId)):Ku.empty(),P=E.fields.map((([H,W])=>new gf(ft.fromServerFormat(H),W)));return new Pf(E.indexId,E.collectionGroup,P,w)})(m,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:Ae(r.collectionGroup,o.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const o=Tu(e),u=No(e);return this.Gn(e).next((c=>o.J(gg,IDBKeyRange.bound(t,t)).next((m=>L.forEach(m,(p=>u.put(F0(p.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return L.forEach(t,((o,u)=>{const c=r.get(o.collectionGroup);return(c?L.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),L.forEach(m,(p=>this.zn(e,o,p).next((g=>{const E=this.jn(u,p);return g.isEqual(E)?L.resolve():this.Jn(e,u,p,g,E)})))))))}))}Hn(e,t,r,o){return Do(e).put(o.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,o){return Do(e).delete(o.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const o=Do(e);let u=new Ze(is);return o.ee({index:s1,range:IDBKeyRange.only([r.indexId,this.uid,bf(this.$n(r,t))])},((c,m)=>{u=u.add(new da(r.indexId,t,Y0(m.arrayValue),Y0(m.directionalValue)))})).next((()=>u))}jn(e,t){let r=new Ze(is);const o=this.Qn(t,e);if(o==null)return r;const u=mg(t);if(u!=null){const c=e.data.field(u.fieldPath);if(ec(c))for(const m of c.arrayValue.values||[])r=r.add(new da(t.indexId,e.key,this.Ln(m),o))}else r=r.add(new da(t.indexId,e.key,tf,o));return r}Jn(e,t,r,o,u){ee(J0,"Updating index entries for document '%s'",t.key);const c=[];return(function(p,g,E,T,w){const P=p.getIterator(),H=g.getIterator();let W=Ro(P),Y=Ro(H);for(;W||Y;){let ne=!1,ae=!1;if(W&&Y){const Z=E(W,Y);Z<0?ae=!0:Z>0&&(ne=!0)}else W!=null?ae=!0:ne=!0;ne?(T(Y),Y=Ro(H)):ae?(w(W),W=Ro(P)):(W=Ro(P),Y=Ro(H))}})(o,u,is,(m=>{c.push(this.Hn(e,t,r,m))}),(m=>{c.push(this.Yn(e,t,r,m))})),L.waitFor(c)}Gn(e){let t=1;return No(e).ee({index:r1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),t=o.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,m)=>is(c,m))).filter(((c,m,p)=>!m||is(c,p[m-1])!==0));const o=[];o.push(e);for(const c of r){const m=is(c,e),p=is(c,t);if(m===0)o[0]=e.An();else if(m>0&&p<0)o.push(c),o.push(c.An());else if(p>0)break}o.push(t);const u=[];for(let c=0;c<o.length;c+=2){if(this.Zn(o[c],o[c+1]))return[];const m=o[c].Vn(this.uid,tf,se.empty()),p=o[c+1].Vn(this.uid,tf,se.empty());u.push(IDBKeyRange.bound(m,p))}return u}Zn(e,t){return is(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(W0)}getMinOffset(e,t){return L.mapArray(this.Mn(t),(r=>this.xn(e,r).next((o=>o||de(44426))))).next(W0)}}function Z0(s){return zt(s,$u)}function Do(s){return zt(s,ku)}function Tu(s){return zt(s,ay)}function No(s){return zt(s,Pu)}function W0(s){pe(s.length!==0,28825);let e=s[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<s.length;r++){const o=s[r].indexState.offset;iy(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Nn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ob=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s,e,t){const r=s.store(ci),o=s.store(Qo),u=[],c=IDBKeyRange.only(t.batchId);let m=0;const p=r.ee({range:c},((E,T,w)=>(m++,w.delete())));u.push(p.next((()=>{pe(m===1,47070,{batchId:t.batchId})})));const g=[];for(const E of t.mutations){const T=t1(e,E.key.path,t.batchId);u.push(o.delete(T)),g.push(E.key)}return L.waitFor(u).next((()=>g))}function Qf(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw de(14731);e=s.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(ob,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class Sd{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Xn={}}static wt(e,t,r,o){pe(e.uid!=="",64387);const u=e.isAuthenticated()?e.uid:"";return new Sd(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rs(e).ee({index:ma,range:r},((o,u,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,o){const u=ko(e),c=rs(e);return c.add({}).next((m=>{pe(typeof m=="number",49019);const p=new gy(m,t,r,o),g=(function(P,H,W){const Y=W.baseMutations.map((ae=>Hf(P.yt,ae))),ne=W.mutations.map((ae=>Hf(P.yt,ae)));return{userId:H,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:Y,mutations:ne}})(this.serializer,this.userId,p),E=[];let T=new Ze(((w,P)=>Ae(w.canonicalString(),P.canonicalString())));for(const w of o){const P=t1(this.userId,w.key.path,m);T=T.add(w.key.path.popLast()),E.push(c.put(g)),E.push(u.put(P,BN))}return T.forEach((w=>{E.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[m]=p.keys()})),L.waitFor(E).next((()=>p))}))}lookupMutationBatch(e,t){return rs(e).get(t).next((r=>r?(pe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ha(this.serializer,r)):null))}er(e,t){return this.Xn[t]?L.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const o=r.keys();return this.Xn[t]=o,o}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return rs(e).ee({index:ma,range:o},((c,m,p)=>{m.userId===this.userId&&(pe(m.batchId>=r,47524,{tr:r}),u=ha(this.serializer,m)),p.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=pa;return rs(e).ee({index:ma,range:t,reverse:!0},((o,u,c)=>{r=u.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,pa],[this.userId,Number.POSITIVE_INFINITY]);return rs(e).J(ma,t).next((r=>r.map((o=>ha(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=yf(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return ko(e).ee({range:o},((c,m,p)=>{const[g,E,T]=c,w=Li(E);if(g===this.userId&&t.path.isEqual(w))return rs(e).get(T).next((P=>{if(!P)throw de(61480,{nr:c,batchId:T});pe(P.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:P.userId,batchId:T}),u.push(ha(this.serializer,P))}));p.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(Ae);const o=[];return t.forEach((u=>{const c=yf(this.userId,u.path),m=IDBKeyRange.lowerBound(c),p=ko(e).ee({range:m},((g,E,T)=>{const[w,P,H]=g,W=Li(P);w===this.userId&&u.path.isEqual(W)?r=r.add(H):T.done()}));o.push(p)})),L.waitFor(o).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=yf(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new Ze(Ae);return ko(e).ee({range:c},((p,g,E)=>{const[T,w,P]=p,H=Li(w);T===this.userId&&r.isPrefixOf(H)?H.length===o&&(m=m.add(P)):E.done()})).next((()=>this.rr(e,m)))}rr(e,t){const r=[],o=[];return t.forEach((u=>{o.push(rs(e).get(u).next((c=>{if(c===null)throw de(35274,{batchId:u});pe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),r.push(ha(this.serializer,c))})))})),L.waitFor(o).next((()=>r))}removeMutationBatch(e,t){return lb(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),L.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return L.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return ko(e).ee({range:r},((u,c,m)=>{if(u[0]===this.userId){const p=Li(u[1]);o.push(p)}else m.done()})).next((()=>{pe(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(e,t){return ub(e,this.userId,t)}_r(e){return cb(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:pa,lastStreamToken:""}))}}function ub(s,e,t){const r=yf(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return ko(s).ee({range:u,X:!0},((m,p,g)=>{const[E,T,w]=m;E===e&&T===o&&(c=!0),g.done()})).next((()=>c))}function rs(s){return zt(s,ci)}function ko(s){return zt(s,Qo)}function cb(s){return zt(s,Yu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Ra(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>ye.fromTimestamp(new $e(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.hr(e,o))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Vo(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(pe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let o=0;const u=[];return Vo(e).ee(((c,m)=>{const p=Du(m);p.sequenceNumber<=t&&r.get(p.targetId)===null&&(o++,u.push(this.removeTargetData(e,p)))})).next((()=>L.waitFor(u))).next((()=>o))}forEachTarget(e,t){return Vo(e).ee(((r,o)=>{const u=Du(o);t(u)}))}lr(e){return tA(e).get(Uf).next((t=>(pe(t!==null,2888),t)))}hr(e,t){return tA(e).put(Uf,t)}Pr(e,t){return Vo(e).put(ib(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=ba(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Vo(e).ee({range:o,index:i1},((c,m,p)=>{const g=Du(m);pc(t,g.target)&&(u=g,p.done())})).next((()=>u))}addMatchingKeys(e,t,r){const o=[],u=cs(e);return t.forEach((c=>{const m=tn(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,c))})),L.waitFor(o)}removeMatchingKeys(e,t,r){const o=cs(e);return L.forEach(t,(u=>{const c=tn(u.path);return L.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])}))}removeMatchingKeysForTargetId(e,t){const r=cs(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=cs(e);let u=De();return o.ee({range:r,X:!0},((c,m,p)=>{const g=Li(c[1]),E=new se(g);u=u.add(E)})).next((()=>u))}containsKey(e,t){const r=tn(t.path),o=IDBKeyRange.bound([r],[YS(r)],!1,!0);let u=0;return cs(e).ee({index:sy,X:!0,range:o},(([c,m],p,g)=>{c!==0&&(u++,g.done())})).next((()=>u>0))}At(e,t){return Vo(e).get(t).next((r=>r?Du(r):null))}}function Vo(s){return zt(s,Yo)}function tA(s){return zt(s,ga)}function cs(s){return zt(s,Xo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="LruGarbageCollector",hb=1048576;function iA([s,e],[t,r]){const o=Ae(s,t);return o===0?Ae(e,r):o}class mO{constructor(e){this.Ir=e,this.buffer=new Ze(iA),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(nA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bs(t)?ee(nA,"Ignoring IndexedDB error during garbage collection: ",t):await Oa(t)}await this.Vr(3e5)}))}}class pO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return L.resolve(Qn.ce);const r=new mO(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(eA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eA):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,u,c,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,t)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(g=Date.now(),Oo()<=Pe.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function db(s,e){return new pO(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t){this.db=e,this.garbageCollector=db(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,o)=>t(o)))}addReference(e,t,r){return nf(e,r)}removeReference(e,t,r){return nf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nf(e,t)}br(e,t){return(function(o,u){let c=!1;return cb(o).te((m=>ub(o,m,u).next((p=>(p&&(c=!0),L.resolve(!p)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(e,((c,m)=>{if(m<=t){const p=this.br(e,c).next((g=>{if(!g)return u++,r.getEntry(e,c).next((()=>(r.removeEntry(c,ye.min()),cs(e).delete((function(T){return[0,tn(T.path)]})(c)))))}));o.push(p)}})).next((()=>L.waitFor(o))).next((()=>r.apply(e))).next((()=>u))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nf(e,t)}Sr(e,t){const r=cs(e);let o,u=Qn.ce;return r.ee({index:sy},(([c,m],{path:p,sequenceNumber:g})=>{c===0?(u!==Qn.ce&&t(new se(Li(o)),u),u=g,o=p):u=Qn.ce})).next((()=>{u!==Qn.ce&&t(new se(Li(o)),u)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nf(s,e){return cs(s).put((function(r,o){return{targetId:0,path:tn(r.path),sequenceNumber:o}})(e,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.changes=new Ar((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ra(e).put(r)}removeEntry(e,t,r){return ra(e).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Gf(c),m[m.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=gt.newInvalidDocument(t);return ra(e).ee({index:_f,range:IDBKeyRange.only(Au(t))},((o,u)=>{r=this.Cr(t,u)})).next((()=>r))}vr(e,t){let r={size:0,document:gt.newInvalidDocument(t)};return ra(e).ee({index:_f,range:IDBKeyRange.only(Au(t))},((o,u)=>{r={document:this.Cr(t,u),size:Qf(u)}})).next((()=>r))}getEntries(e,t){let r=Cn();return this.Fr(e,t,((o,u)=>{const c=this.Cr(o,u);r=r.insert(o,c)})).next((()=>r))}Mr(e,t){let r=Cn(),o=new ht(se.comparator);return this.Fr(e,t,((u,c)=>{const m=this.Cr(u,c);r=r.insert(u,m),o=o.insert(u,Qf(c))})).next((()=>({documents:r,Or:o})))}Fr(e,t,r){if(t.isEmpty())return L.resolve();let o=new Ze(aA);t.forEach((p=>o=o.add(p)));const u=IDBKeyRange.bound(Au(o.first()),Au(o.last())),c=o.getIterator();let m=c.getNext();return ra(e).ee({index:_f,range:u},((p,g,E)=>{const T=se.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;m&&aA(m,T)<0;)r(m,null),m=c.getNext();m&&m.isEqual(T)&&(r(m,g),m=c.hasNext()?c.getNext():null),m?E.j(Au(m)):E.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,o,u){const c=t.path,m=[c.popLast().toArray(),c.lastSegment(),Gf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ra(e).J(IDBKeyRange.bound(m,p,!0)).next((g=>{u?.incrementDocumentReadCount(g.length);let E=Cn();for(const T of g){const w=this.Cr(se.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);w.isFoundDocument()&&(gc(t,w)||o.has(w.key))&&(E=E.insert(w.key,w))}return E}))}getAllFromCollectionGroup(e,t,r,o){let u=Cn();const c=sA(t,r),m=sA(t,Nn.max());return ra(e).ee({index:n1,range:IDBKeyRange.bound(c,m,!0)},((p,g,E)=>{const T=this.Cr(se.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);u=u.insert(T.key,T),u.size===o&&E.done()})).next((()=>u))}newChangeBuffer(e){return new _O(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return rA(e).get(pg).next((t=>(pe(!!t,20021),t)))}Dr(e,t){return rA(e).put(pg,t)}Cr(e,t){if(t){const r=iO(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ye.min())))return r}return gt.newInvalidDocument(e)}}function pb(s){return new yO(s)}class _O extends mb{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Ar((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(e){const t=[];let r=0,o=new Ze(((u,c)=>Ae(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Br.get(u);if(t.push(this.Nr.removeEntry(e,u,m.readTime)),c.isValidDocument()){const p=q0(this.Nr.serializer,c);o=o.add(u.path.popLast());const g=Qf(p);r+=g-m.size,t.push(this.Nr.addEntry(e,u,p))}else if(r-=m.size,this.trackRemovals){const p=q0(this.Nr.serializer,c.convertToNoDocument(ye.min()));t.push(this.Nr.addEntry(e,u,p))}})),o.forEach((u=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,u))})),t.push(this.Nr.updateMetadata(e,r)),L.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:o})=>(o.forEach(((u,c)=>{this.Br.set(u,{size:c,readTime:r.get(u).readTime})})),r)))}}function rA(s){return zt(s,Xu)}function ra(s){return zt(s,Lf)}function Au(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function sA(s,e){const t=e.documentKey.path.toArray();return[s,Gf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aA(s,e){const t=s.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Ae(t[u],r[u]),o)return o;return o=Ae(t.length,r.length),o||(o=Ae(t[t.length-2],r[r.length-2]),o||Ae(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Bu(r.mutation,o,Yn.empty(),$e.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,De()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=De()){const o=Ui();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((u=>{let c=Ru();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ui();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,De())))}populateOverlays(e,t,r){const o=[];return r.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,r,o){let u=Cn();const c=zu(),m=(function(){return zu()})();return t.forEach(((p,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ws)?u=u.insert(g.key,g):E!==void 0?(c.set(g.key,E.mutation.getFieldMask()),Bu(E.mutation,g,E.mutation.getFieldMask(),$e.now())):c.set(g.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>c.set(g,E))),t.forEach(((g,E)=>m.set(g,new vO(E,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=zu();let o=new ht(((c,m)=>c-m)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let E=r.get(p)||Yn.empty();E=m.applyToLocalView(g,E),r.set(p,E);const T=(o.get(m.batchId)||De()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=M1();E.forEach((w=>{if(!u.has(w)){const P=z1(t.get(w),r.get(w));P!==null&&T.set(w,P),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return L.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):C1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):L.resolve(Ui());let m=Gu,p=u;return c.next((g=>L.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?L.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,De()))).next((E=>({batchId:m,changes:O1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next((r=>{let o=Ru();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,u).next((m=>L.forEach(m,(p=>{const g=(function(T,w){return new cl(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((E=>{E.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const E=g.getKey();c.get(E)===null&&(c=c.insert(E,gt.newInvalidDocument(E)))}));let m=Ru();return c.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Bu(E.mutation,g,Yn.empty(),$e.now()),gc(t,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return L.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:un(o.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:rb(o.bundledQuery),readTime:un(o.readTime)}})(t)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new ht(se.comparator),this.qr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ui();return L.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,u)=>{this.St(e,t,u)})),L.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const o=Ui(),u=t.length+1,c=new se(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return L.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ht(((g,E)=>g-E));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=Ui(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ui(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return L.resolve(m)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new _y(t,r));let u=this.qr.get(t);u===void 0&&(u=De(),this.qr.set(t,u)),this.qr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Qr=new Ze(Ft.$r),this.Ur=new Ze(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ft(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new se(new Ge([])),r=new Ft(t,e),o=new Ft(t,e+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new se(new Ge([])),r=new Ft(t,e),o=new Ft(t,e+1);let u=De();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Ft(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return se.comparator(e.key,t.key)||Ae(e.Yr,t.Yr)}static Kr(e,t){return Ae(e.Yr,t.Yr)||se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(Ft.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gy(u,t,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return L.resolve(c)}lookupMutationBatch(e,t){return L.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),u=o<0?0:o;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?pa:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(Ae);return t.forEach((o=>{const u=new Ft(o,0),c=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;se.isDocumentKey(u)||(u=u.child(""));const c=new Ft(new se(u),0);let m=new Ze(Ae);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),L.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){pe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(t.mutations,(o=>{const u=new Ft(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ft(t,0),o=this.Zr.firstAfterOrEqual(r);return L.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.ri=e,this.docs=(function(){return new ht(se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let r=Cn();return t.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():gt.newInvalidDocument(o))})),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Cn();const c=t.path,m=new se(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||iy(JS(E),r)<=0||(o.has(E.key)||gc(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(e,t,r,o){de(9500)}ii(e,t){return L.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new wO(this)}getSize(e){return L.resolve(this.size)}}class wO extends mb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),L.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.persistence=e,this.si=new Ar((t=>ba(t)),pc),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Sy,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),L.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Pr(t),L.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),L.waitFor(u).next((()=>o))}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),L.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qn(0),this.li=!1,this.li=!0,this.hi=new AO,this.referenceDelegate=e(this),this.Pi=new IO(this),this.indexManager=new hO,this.remoteDocumentCache=(function(o){return new bO(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nb(t),this.Ii=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new SO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);const o=new RO(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return L.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class RO extends WS{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Ri=new Sy,this.Vi=null}static mi(e){return new bd(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(r=>{const o=se.fromPath(r);return this.gi(e,o).next((u=>{u||t.removeEntry(o,ye.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return L.or([()=>L.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.pi=new Ar((r=>tn(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=db(this,t)}static mi(e,t){return new Yf(e,t)}Ei(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return L.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?L.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(r++,u.removeEntry(c,ye.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),L.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}br(e,t,r){return L.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return L.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.serializer=e}k(e,t,r,o){const u=new hd("createOrUpgrade",t);r<1&&o>=1&&((function(p){p.createObjectStore(mc)})(e),(function(p){p.createObjectStore(Yu,{keyPath:zN}),p.createObjectStore(ci,{keyPath:y0,autoIncrement:!0}).createIndex(ma,_0,{unique:!0}),p.createObjectStore(Qo)})(e),oA(e),(function(p){p.createObjectStore(la)})(e));let c=L.resolve();return r<3&&o>=3&&(r!==0&&((function(p){p.deleteObjectStore(Xo),p.deleteObjectStore(Yo),p.deleteObjectStore(ga)})(e),oA(e)),c=c.next((()=>(function(p){const g=p.store(ga),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return g.put(Uf,E)})(u)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(p,g){return g.store(ci).J().next((T=>{p.deleteObjectStore(ci),p.createObjectStore(ci,{keyPath:y0,autoIncrement:!0}).createIndex(ma,_0,{unique:!0});const w=g.store(ci),P=T.map((H=>w.put(H)));return L.waitFor(P)}))})(e,u)))),c=c.next((()=>{(function(p){p.createObjectStore($o,{keyPath:YN})})(e)}))),r<5&&o>=5&&(c=c.next((()=>this.yi(u)))),r<6&&o>=6&&(c=c.next((()=>((function(p){p.createObjectStore(Xu)})(e),this.wi(u))))),r<7&&o>=7&&(c=c.next((()=>this.Si(u)))),r<8&&o>=8&&(c=c.next((()=>this.bi(e,u)))),r<9&&o>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&o>=10&&(c=c.next((()=>this.Di(u)))),r<11&&o>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(dd,{keyPath:XN})})(e),(function(p){p.createObjectStore(md,{keyPath:$N})})(e)}))),r<12&&o>=12&&(c=c.next((()=>{(function(p){const g=p.createObjectStore(pd,{keyPath:iV});g.createIndex(yg,rV,{unique:!1}),g.createIndex(a1,sV,{unique:!1})})(e)}))),r<13&&o>=13&&(c=c.next((()=>(function(p){const g=p.createObjectStore(Lf,{keyPath:qN});g.createIndex(_f,jN),g.createIndex(n1,FN)})(e))).next((()=>this.Ci(e,u))).next((()=>e.deleteObjectStore(la)))),r<14&&o>=14&&(c=c.next((()=>this.Fi(e,u)))),r<15&&o>=15&&(c=c.next((()=>(function(p){p.createObjectStore(ay,{keyPath:JN,autoIncrement:!0}).createIndex(gg,ZN,{unique:!1}),p.createObjectStore(Pu,{keyPath:WN}).createIndex(r1,eV,{unique:!1}),p.createObjectStore(ku,{keyPath:tV}).createIndex(s1,nV,{unique:!1})})(e)))),r<16&&o>=16&&(c=c.next((()=>{t.objectStore(Pu).clear()})).next((()=>{t.objectStore(ku).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(oy,{keyPath:aV})})(e)}))),r<18&&o>=18&&eS()&&(c=c.next((()=>{t.objectStore(Pu).clear()})).next((()=>{t.objectStore(ku).clear()}))),c}wi(e){let t=0;return e.store(la).ee(((r,o)=>{t+=Qf(o)})).next((()=>{const r={byteSize:t};return e.store(Xu).put(pg,r)}))}yi(e){const t=e.store(Yu),r=e.store(ci);return t.J().next((o=>L.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,pa],[u.userId,u.lastAcknowledgedBatchId]);return r.J(ma,c).next((m=>L.forEach(m,(p=>{pe(p.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const g=ha(this.serializer,p);return lb(e,u.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(Xo),r=e.store(la);return e.store(ga).get(Uf).next((o=>{const u=[];return r.ee(((c,m)=>{const p=new Ge(c),g=(function(T){return[0,tn(T)]})(p);u.push(t.get(g).next((E=>E?L.resolve():(T=>t.put({targetId:0,path:tn(T),sequenceNumber:o.highestListenSequenceNumber}))(p))))})).next((()=>L.waitFor(u)))}))}bi(e,t){e.createObjectStore($u,{keyPath:QN});const r=t.store($u),o=new Ay,u=c=>{if(o.add(c)){const m=c.lastSegment(),p=c.popLast();return r.put({collectionId:m,parent:tn(p)})}};return t.store(la).ee({X:!0},((c,m)=>{const p=new Ge(c);return u(p.popLast())})).next((()=>t.store(Qo).ee({X:!0},(([c,m,p],g)=>{const E=Li(m);return u(E.popLast())}))))}Di(e){const t=e.store(Yo);return t.ee(((r,o)=>{const u=Du(o),c=ib(this.serializer,u);return t.put(c)}))}Ci(e,t){const r=t.store(la),o=[];return r.ee(((u,c)=>{const m=t.store(Lf),p=(function(T){return T.document?new se(Ge.fromString(T.document.name).popFirst(5)):T.noDocument?se.fromSegments(T.noDocument.path):T.unknownDocument?se.fromSegments(T.unknownDocument.path):de(36783)})(c).path.toArray(),g={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(g))})).next((()=>L.waitFor(o)))}Fi(e,t){const r=t.store(ci),o=pb(this.serializer),u=new by(bd.mi,this.serializer.yt);return r.J().next((c=>{const m=new Map;return c.forEach((p=>{let g=m.get(p.userId)??De();ha(this.serializer,p).keys().forEach((E=>g=g.add(E))),m.set(p.userId,g)})),L.forEach(m,((p,g)=>{const E=new on(g),T=Ad.wt(this.serializer,E),w=u.getIndexManager(E),P=Sd.wt(E,this.serializer,w,u.referenceDelegate);return new gb(o,P,T,w).recalculateAndSaveOverlaysForDocumentKeys(new _g(t,Qn.ce),p).next()}))}))}}function oA(s){s.createObjectStore(Xo,{keyPath:GN}).createIndex(sy,KN,{unique:!0}),s.createObjectStore(Yo,{keyPath:"targetId"}).createIndex(i1,HN,{unique:!0}),s.createObjectStore(ga)}const ss="IndexedDbPersistence",Qp=18e5,Yp=5e3,Xp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",DO="main";class wy{constructor(e,t,r,o,u,c,m,p,g,E,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=u,this.window=c,this.document=m,this.xi=g,this.Oi=E,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!wy.v())throw new ie(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gO(this,o),this.$i=t+DO,this.serializer=new nb(p),this.Ui=new gs(this.$i,this.Ni,new CO(this.serializer)),this.hi=new sO,this.Pi=new dO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pb(this.serializer),this.Ii=new rO,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,E===!1&&ln(ss,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(Q.FAILED_PRECONDITION,Xp);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Qn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(bs(e))return ee(ss,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ee(ss,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Su(e).get(Io).next((t=>L.resolve(this.es(t))))}ts(e){return rf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Qp)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=zt(t,$o);return r.J().next((o=>{const u=this.ss(o,Qp),c=o.filter((m=>u.indexOf(m)===-1));return L.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?L.resolve(!0):Su(e).get(Io).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Yp)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ie(Q.FAILED_PRECONDITION,Xp);return!1}}return!(!this.networkEnabled||!this.inForeground)||rf(e).J().next((r=>this.ss(r,Yp).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ee(ss,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[mc,$o],(e=>{const t=new _g(e,Qn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>rf(e).J().next((t=>this.ss(t,Qp).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Sd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fO(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ad.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){ee(ss,"Starting transaction:",e);const o=t==="readonly"?"readonly":"readwrite",u=(function(p){return p===18?uV:p===17?c1:p===16?lV:p===15?ly:p===14?u1:p===13?l1:p===12?oV:p===11?o1:void de(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,o,u,(m=>(c=new _g(m,this.ci?this.ci.next():Qn.ce),t==="readwrite-primary"?this.Hi(c).next((p=>!!p||this.Yi(c))).next((p=>{if(!p)throw ln(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ie(Q.FAILED_PRECONDITION,ZS);return r(c)})).next((p=>this.Xi(c).next((()=>p)))):this.Is(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Is(e){return Su(e).get(Io).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Yp)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(Q.FAILED_PRECONDITION,Xp)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Su(e).put(Io,t)}static v(){return gs.v()}Zi(e){const t=Su(e);return t.get(Io).next((r=>this.es(r)?(ee(ss,"Releasing primary lease."),t.delete(Io)):L.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(ln(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;WA()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return ee(ss,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return ln(ss,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ln("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Su(s){return zt(s,mc)}function rf(s){return zt(s,$o)}function NO(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=De(),o=De();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Iy(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WA()?8:e1(Ut())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new VO;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Oo()<=Pe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(Oo()<=Pe.DEBUG&&ee("QueryEngine","Query:",Mo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Oo()<=Pe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):L.resolve())}ys(e,t){if(V0(t))return L.resolve(null);let r=Xn(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=jf(t,null,"F"),r=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const c=De(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,jf(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,o){return V0(t)||o.isEqual(ye.min())?L.resolve(null):this.ps.getDocuments(e,r).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,r,o)?L.resolve(null):(Oo()<=Pe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(t)),this.vs(e,c,t,ON(o,Gu)).next((m=>m)))}))}Ds(e,t){let r=new Ze(N1(e));return t.forEach(((o,u)=>{gc(e,u)&&(r=r.add(u))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,r){return Oo()<=Pe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ps.getDocumentsMatchingQuery(e,t,Nn.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LocalStore",OO=3e8;class MO{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ht(Ae),this.xs=new Ar((u=>ba(u)),pc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function _b(s,e,t,r){return new MO(s,e,t,r)}async function vb(s,e){const t=Se(s);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=De();for(const g of o){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function xO(s,e){const t=Se(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let P=L.resolve();return w.forEach((H=>{P=P.next((()=>E.getEntry(p,H))).next((W=>{const Y=g.docVersions.get(H);pe(Y!==null,48541),W.version.compareTo(Y)<0&&(T.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=De();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function Eb(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function PO(s,e){const t=Se(s),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(t.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Ot.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(T,P),(function(W,Y,ne){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=OO?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,P,E)&&m.push(t.Pi.updateTargetData(u,P))}));let p=Cn(),g=De();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(kO(u,c,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!r.isEqual(ye.min())){const E=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return L.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function kO(s,e,t){let r=De(),o=De();return t.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let c=Cn();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ye.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):ee(Ry,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function LO(s,e){const t=Se(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function UO(s,e){const t=Se(s);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((u=>u?(o=u,L.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new hr(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Og(s,e,t){const r=Se(s),o=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!bs(c))throw c;ee(Ry,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function lA(s,e,t){const r=Se(s);let o=ye.min(),u=De();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,E){const T=Se(p),w=T.xs.get(E);return w!==void 0?L.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(r,c,Xn(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:ye.min(),t?u:De()))).next((m=>(zO(r,bV(e),m),{documents:m,Qs:u})))))}function zO(s,e,t){let r=s.Os.get(e)||ye.min();t.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class uA{constructor(){this.activeTargetIds=NV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tb{constructor(){this.Mo=new uA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="ConnectivityMonitor";class hA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(cA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(cA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Mg(){return sf===null?sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="RestConnection",qO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,u){const c=Mg(),m=this.zo(e,t.toUriEncodedString());ee($p,`Sending RPC '${e}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=al(g);return this.Jo(e,m,p,r,E).then((T=>(ee($p,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Hu($p,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,t,r,o,u,c){return this.Go(e,t,r,o,u)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const r=qO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class HO extends jO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,u){const c=Mg();return new Promise(((m,p)=>{const g=new jS;g.setWithCredentials(!0),g.listenOnce(FS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case pf.NO_ERROR:const T=g.getResponseJson();ee(Wt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case pf.TIMEOUT:ee(Wt,`RPC '${e}' ${c} timed out`),p(new ie(Q.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const w=g.getStatus();if(ee(Wt,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P?.error;if(H&&H.status&&H.message){const W=(function(ne){const ae=ne.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ae)>=0?ae:Q.UNKNOWN})(H.status);p(new ie(W,H.message))}else p(new ie(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ie(Q.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ee(Wt,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);ee(Wt,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",E,r,15)}))}T_(e,t,r){const o=Mg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KS(),m=GS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const E=u.join("");ee(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=c.createWebChannel(E,p);this.I_(T);let w=!1,P=!1;const H=new FO({Yo:Y=>{P?ee(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(w||(ee(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ee(Wt,`RPC '${e}' stream ${o} sending:`,Y),T.send(Y))},Zo:()=>T.close()}),W=(Y,ne,ae)=>{Y.listen(ne,(Z=>{try{ae(Z)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return W(T,Iu.EventType.OPEN,(()=>{P||(ee(Wt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),W(T,Iu.EventType.CLOSE,(()=>{P||(P=!0,ee(Wt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(T))})),W(T,Iu.EventType.ERROR,(Y=>{P||(P=!0,Hu(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),H.a_(new ie(Q.UNAVAILABLE,"The operation could not be completed")))})),W(T,Iu.EventType.MESSAGE,(Y=>{if(!P){const ne=Y.data[0];pe(!!ne,16349);const ae=ne,Z=ae?.error||ae[0]?.error;if(Z){ee(Wt,`RPC '${e}' stream ${o} received error:`,Z);const ue=Z.status;let re=(function(b){const D=Nt[b];if(D!==void 0)return j1(D)})(ue),ce=Z.message;re===void 0&&(re=Q.INTERNAL,ce="Unknown error status: "+ue+" with message "+Z.message),P=!0,H.a_(new ie(re,ce)),T.close()}else ee(Wt,`RPC '${e}' stream ${o} received:`,ne),H.u_(ne)}})),W(m,HS.STAT_EVENT,(Y=>{Y.stat===fg.PROXY?ee(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===fg.NOPROXY&&ee(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){return typeof window<"u"?window:null}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(s){return new QV(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="PersistentStream";class Sb{constructor(e,t,r,o,u,c,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ab(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(ln(t.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new ie(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(fA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ee(fA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KO extends Sb{constructor(e,t,r,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$V(this.serializer,e),r=(function(u){if(!("targetChange"in u))return ye.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?ye.min():c.readTime?un(c.readTime):ye.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Rg(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=Bf(p)?{documents:$1(u,p)}:{query:J1(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=G1(u,c.resumeToken);const g=wg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ye.min())>0){m.readTime=il(u,c.snapshotVersion.toTimestamp());const g=wg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=ZV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Rg(this.serializer),t.removeTarget=e,this.q_(t)}}class QO extends Sb{constructor(e,t,r,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=JV(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Rg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Hf(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{}class XO extends YO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Ig(t,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(Q.UNKNOWN,u.toString())}))}Ho(e,t,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Ig(t,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(Q.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ln(t),this.aa=!1):ee("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class JO{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{xa(this)&&(ee(Ca,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await _c(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Id(g)})(this))}))})),this.Ra=new $O(r,o)}}async function Id(s){if(xa(s))for(const e of s.da)await e(!0)}async function _c(s){for(const e of s.da)await e(!1)}function bb(s,e){const t=Se(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Vy(t)?Ny(t):fl(t).O_()&&Dy(t,e))}function Cy(s,e){const t=Se(s),r=fl(t);t.Ia.delete(e),r.O_()&&wb(t,e),t.Ia.size===0&&(r.O_()?r.L_():xa(t)&&t.Ra.set("Unknown"))}function Dy(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(s).Y_(e)}function wb(s,e){s.Va.Ue(e),fl(s).Z_(e)}function Ny(s){s.Va=new FV({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),fl(s).start(),s.Ra.ua()}function Vy(s){return xa(s)&&!fl(s).x_()&&s.Ia.size>0}function xa(s){return Se(s).Ea.size===0}function Ib(s){s.Va=void 0}async function ZO(s){s.Ra.set("Online")}async function WO(s){s.Ia.forEach(((e,t)=>{Dy(s,e)}))}async function eM(s,e){Ib(s),Vy(s)?(s.Ra.ha(e),Ny(s)):s.Ra.set("Unknown")}async function tM(s,e,t){if(s.Ra.set("Online"),e instanceof H1&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){ee(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xf(s,r)}else if(e instanceof Sf?s.Va.Ze(e):e instanceof F1?s.Va.st(e):s.Va.tt(e),!t.isEqual(ye.min()))try{const r=await Eb(s.localStore);t.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ot.EMPTY_BYTE_STRING,E.snapshotVersion)),wb(u,p);const T=new hr(E.target,p,g,E.sequenceNumber);Dy(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,t)}catch(r){ee(Ca,"Failed to raise snapshot:",r),await Xf(s,r)}}async function Xf(s,e,t){if(!bs(e))throw e;s.Ea.add(1),await _c(s),s.Ra.set("Offline"),t||(t=()=>Eb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ee(Ca,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Id(s)}))}function Rb(s,e){return e().catch((t=>Xf(s,t,e)))}async function vc(s){const e=Se(s),t=Ts(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pa;for(;nM(e);)try{const o=await LO(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,iM(e,o)}catch(o){await Xf(e,o)}Cb(e)&&Db(e)}function nM(s){return xa(s)&&s.Ta.length<10}function iM(s,e){s.Ta.push(e);const t=Ts(s);t.O_()&&t.X_&&t.ea(e.mutations)}function Cb(s){return xa(s)&&!Ts(s).x_()&&s.Ta.length>0}function Db(s){Ts(s).start()}async function rM(s){Ts(s).ra()}async function sM(s){const e=Ts(s);for(const t of s.Ta)e.ea(t.mutations)}async function aM(s,e,t){const r=s.Ta.shift(),o=yy.from(r,e,t);await Rb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await vc(s)}async function oM(s,e){e&&Ts(s).X_&&await(async function(r,o){if((function(c){return BV(c)&&c!==Q.ABORTED})(o.code)){const u=r.Ta.shift();Ts(r).B_(),await Rb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vc(r)}})(s,e),Cb(s)&&Db(s)}async function dA(s,e){const t=Se(s);t.asyncQueue.verifyOperationInProgress(),ee(Ca,"RemoteStore received new credentials");const r=xa(t);t.Ea.add(3),await _c(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Id(t)}async function lM(s,e){const t=Se(s);e?(t.Ea.delete(2),await Id(t)):e||(t.Ea.add(2),await _c(t),t.Ra.set("Unknown"))}function fl(s){return s.ma||(s.ma=(function(t,r,o){const u=Se(t);return u.sa(),new KO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:ZO.bind(null,s),t_:WO.bind(null,s),r_:eM.bind(null,s),H_:tM.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Vy(s)?Ny(s):s.Ra.set("Unknown")):(await s.ma.stop(),Ib(s))}))),s.ma}function Ts(s){return s.fa||(s.fa=(function(t,r,o){const u=Se(t);return u.sa(),new QO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:rM.bind(null,s),r_:oM.bind(null,s),ta:sM.bind(null,s),na:aM.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await vc(s)):(await s.fa.stop(),s.Ta.length>0&&(ee(Ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const c=Date.now()+r,m=new Oy(e,t,c,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(s,e){if(ln("AsyncQueue",`${e}: ${s}`),bs(s))return new ie(Q.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||se.comparator(t.key,r.key):(t,r)=>se.comparator(t.key,r.key),this.keyedMap=Ru(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.ga=new ht(se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class rl{constructor(e,t,r,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new rl(e,t,qo.emptySet(t),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cM{constructor(){this.queries=pA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Se(t),u=o.queries;o.queries=pA(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new ie(Q.ABORTED,"Firestore shutting down"))}}function pA(){return new Ar((s=>D1(s)),_d)}async function hM(s,e){const t=Se(s);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new uM,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=My(c,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&xy(t)}async function fM(s,e){const t=Se(s),r=e.query;let o=3;const u=t.queries.get(r);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function dM(s,e){const t=Se(s);let r=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&xy(t)}function mM(s,e,t){const r=Se(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);r.queries.delete(e)}function xy(s){s.Ca.forEach((e=>{e.next()}))}var xg,gA;(gA=xg||(xg={})).Ma="default",gA.Cache="cache";class pM{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class gM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=N1(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new mA,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),P=gc(this.query,T)?T:null,H=!!w&&this.mutatedKeys.has(w.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Y=!1;w&&P?w.data.isEqual(P.data)?H!==W&&(r.track({type:3,doc:P}),Y=!0):this.su(w,P)||(r.track({type:2,doc:P}),Y=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!w&&P?(r.track({type:0,doc:P}),Y=!0):w&&!P&&(r.track({type:1,doc:w}),Y=!0,(p||g)&&(m=!0)),Y&&(P?(c=c.add(P),u=W?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,T)=>(function(P,H){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:Y})}};return W(P)-W(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new rl(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Vb(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Nb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Py="SyncEngine";class yM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _M{constructor(e){this.key=e,this.hu=!1}}class vM{constructor(e,t,r,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ar((m=>D1(m)),_d),this.Iu=new Map,this.Eu=new Set,this.du=new ht(se.comparator),this.Au=new Map,this.Ru=new Sy,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EM(s,e,t=!0){const r=Lb(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ob(r,e,t,!0),o}async function TM(s,e){const t=Lb(s);await Ob(t,e,!0,!1)}async function Ob(s,e,t,r){const o=await UO(s.localStore,Xn(e)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,t);let m;return r&&(m=await AM(s,e,u,c==="current",o.resumeToken)),s.isPrimaryClient&&t&&bb(s.remoteStore,o),m}async function AM(s,e,t,r,o){s.pu=(T,w,P)=>(async function(W,Y,ne,ae){let Z=Y.view.ru(ne);Z.Cs&&(Z=await lA(W.localStore,Y.query,!1).then((({documents:I})=>Y.view.ru(I,Z))));const ue=ae&&ae.targetChanges.get(Y.targetId),re=ae&&ae.targetMismatches.get(Y.targetId)!=null,ce=Y.view.applyChanges(Z,W.isPrimaryClient,ue,re);return _A(W,Y.targetId,ce.au),ce.snapshot})(s,T,w,P);const u=await lA(s.localStore,e,!0),c=new gM(e,u.Qs),m=c.ru(u.documents),p=yc.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",o),g=c.applyChanges(m,s.isPrimaryClient,p);_A(s,t,g.au);const E=new yM(e,t,c);return s.Tu.set(e,E),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),g.snapshot}async function SM(s,e,t){const r=Se(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!_d(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Og(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Cy(r.remoteStore,o.targetId),Pg(r,o.targetId)})).catch(Oa)):(Pg(r,o.targetId),await Og(r.localStore,o.targetId,!0))}async function bM(s,e){const t=Se(s),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Cy(t.remoteStore,r.targetId))}async function wM(s,e,t){const r=Ub(s);try{const o=await(function(c,m){const p=Se(c),g=$e.now(),E=m.reduce(((P,H)=>P.add(H.key)),De());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let H=Cn(),W=De();return p.Ns.getEntries(P,E).next((Y=>{H=Y,H.forEach(((ne,ae)=>{ae.isValidDocument()||(W=W.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,H))).next((Y=>{T=Y;const ne=[];for(const ae of m){const Z=UV(ae,T.get(ae.key).overlayedDocument);Z!=null&&ne.push(new ws(ae.key,Z,E1(Z.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,ne,m)})).next((Y=>{w=Y;const ne=Y.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(P,Y.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:O1(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ht(Ae)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,t),await Ec(r,o.changes),await vc(r.remoteStore)}catch(o){const u=My(o,"Failed to persist write");t.reject(u)}}async function Mb(s,e){const t=Se(s);try{const r=await PO(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(pe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?pe(c.hu,14607):o.removedDocuments.size>0&&(pe(c.hu,42227),c.hu=!1))})),await Ec(t,r,e)}catch(r){await Oa(r)}}function yA(s,e,t){const r=Se(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Se(c);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&xy(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IM(s,e,t){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),u=o&&o.key;if(u){let c=new ht(se.comparator);c=c.insert(u,gt.newNoDocument(u,ye.min()));const m=De().add(u),p=new Td(ye.min(),new Map,new ht(Ae),c,m);await Mb(r,p),r.du=r.du.remove(u),r.Au.delete(e),ky(r)}else await Og(r.localStore,e,!1).then((()=>Pg(r,e,t))).catch(Oa)}async function RM(s,e){const t=Se(s),r=e.batch.batchId;try{const o=await xO(t.localStore,e);Pb(t,r,null),xb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(t,o)}catch(o){await Oa(o)}}async function CM(s,e,t){const r=Se(s);try{const o=await(function(c,m){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(pe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);Pb(r,e,t),xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ec(r,o)}catch(o){await Oa(o)}}function xb(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function Pb(s,e,t){const r=Se(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Pg(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),t&&s.Pu.yu(r,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||kb(s,r)}))}function kb(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(Cy(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),ky(s))}function _A(s,e,t){for(const r of t)r instanceof Nb?(s.Ru.addReference(r.key,e),DM(s,r)):r instanceof Vb?(ee(Py,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||kb(s,r.key)):de(19791,{wu:r})}function DM(s,e){const t=e.key,r=t.path.canonicalString();s.du.get(t)||s.Eu.has(r)||(ee(Py,"New document in limbo: "+t),s.Eu.add(r),ky(s))}function ky(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new se(Ge.fromString(e)),r=s.fu.next();s.Au.set(r,new _M(t)),s.du=s.du.insert(t,r),bb(s.remoteStore,new hr(Xn(dy(t.path)),r,"TargetPurposeLimboResolution",Qn.ce))}}async function Ec(s,e,t){const r=Se(s),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const E=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Iy.As(p.targetId,g);u.push(E)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>L.forEach(g,(w=>L.forEach(w.Es,(P=>E.persistence.referenceDelegate.addReference(T,w.targetId,P))).next((()=>L.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(T,w.targetId,P)))))))))}catch(T){if(!bs(T))throw T;ee(Ry,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const P=E.Ms.get(w),H=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(w,W)}}})(r.localStore,u))}async function NM(s,e){const t=Se(s);if(!t.currentUser.isEqual(e)){ee(Py,"User change. New user:",e.toKey());const r=await vb(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ie(Q.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(t,r.Ls)}}function VM(s,e){const t=Se(s),r=t.Au.get(e);if(r&&r.hu)return De().add(r.key);{let o=De();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Lb(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IM.bind(null,e),e.Pu.H_=dM.bind(null,e.eventManager),e.Pu.yu=mM.bind(null,e.eventManager),e}function Ub(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CM.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _b(this.persistence,new yb,e.initialUser,this.serializer)}Cu(e){return new by(bd.mi,this.serializer)}Du(e){return new Tb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class OM extends rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pe(this.persistence.referenceDelegate instanceof Yf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fb(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new by((r=>Yf.mi(r,t)),this.serializer)}}class MM extends rc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Ub(this.xu.syncEngine),await vc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return _b(this.persistence,new yb,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new fb(r,e.asyncQueue,t)}Mu(e,t){const r=new kN(t,this.persistence);return new PN(e.asyncQueue,r)}Cu(e){const t=NO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new wy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,GO(),wf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Tb}}class $f{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cM})()}createDatastore(e){const t=wd(e.databaseInfo.databaseId),r=(function(u){return new HO(u)})(e.databaseInfo);return(function(u,c,m,p){return new XO(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,u,c,m){return new JO(r,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>yA(this.syncEngine,t,0)),(function(){return hA.v()?new hA:new BO})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,E){const T=new vM(o,u,c,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Se(t);ee(Ca,"RemoteStore shutting down."),r.Ea.add(5),await _c(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$f.provider={build:()=>new $f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class PM{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ee(As,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ee(As,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=My(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jp(s,e){s.asyncQueue.verifyOperationInProgress(),ee(As,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await vb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function vA(s,e){s.asyncQueue.verifyOperationInProgress();const t=await kM(s);ee(As,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((r=>dA(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>dA(e.remoteStore,o))),s._onlineComponents=e}async function kM(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee(As,"Using user provided OfflineComponentProvider");try{await Jp(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Hu("Error using user provided cache. Falling back to memory cache: "+t),await Jp(s,new rc)}}else ee(As,"Using default OfflineComponentProvider"),await Jp(s,new OM(void 0));return s._offlineComponents}async function zb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee(As,"Using user provided OnlineComponentProvider"),await vA(s,s._uninitializedComponentsProvider._online)):(ee(As,"Using default OnlineComponentProvider"),await vA(s,new $f))),s._onlineComponents}function LM(s){return zb(s).then((e=>e.syncEngine))}async function UM(s){const e=await zb(s),t=e.eventManager;return t.onListen=EM.bind(null,e.syncEngine),t.onUnlisten=SM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bM.bind(null,e.syncEngine),t}function zM(s,e,t={}){const r=new dr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const E=new xM({next:w=>{E.Nu(),c.enqueueAndForget((()=>fM(u,T))),w.fromCache&&p.source==="server"?g.reject(new ie(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new pM(m,E,{includeMetadataChanges:!0,qa:!0});return hM(u,T)})(await UM(s),s.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firestore.googleapis.com",TA=!0;class AA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BM,this.ssl=TA}else this.host=e.host,this.ssl=e.ssl??TA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ob;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hb)throw new ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ly{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AN;switch(r.type){case"firstParty":return new wN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=EA.get(t);r&&(ee("ComponentProvider","Removing Datastore"),EA.delete(t),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class Lt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(dc(t,Lt._jsonSchema))return new Lt(e,r||null,new se(Ge.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Vt("string",Lt._jsonSchemaVersion),referencePath:Vt("string")};class ys extends Is{constructor(e,t,r){super(e,t,dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new se(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function qM(s,e,...t){if(s=nn(s),XS("collection","path",e),s instanceof Ly){const r=Ge.fromString(e,...t);return f0(r),new ys(s,null,r)}{if(!(s instanceof Lt||s instanceof ys))throw new ie(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ge.fromString(e,...t));return f0(r),new ys(s.firestore,null,r)}}function jM(s,e,...t){if(s=nn(s),arguments.length===1&&(e=ny.newId()),XS("doc","path",e),s instanceof Ly){const r=Ge.fromString(e,...t);return h0(r),new Lt(s,null,new se(r))}{if(!(s instanceof Lt||s instanceof ys))throw new ie(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ge.fromString(e,...t));return h0(r),new Lt(s.firestore,s instanceof ys?s.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="AsyncQueue";class bA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ab(this,"async_queue_retry"),this._c=()=>{const r=wf();r&&ee(SA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=wf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=wf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bs(e))throw e;ee(SA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ln("INTERNAL UNHANDLED ERROR: ",wA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Oy.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&de(47125,{Pc:wA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wA(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Uy extends Ly{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new bA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bA(e),this._firestoreClient=void 0,await e}}}function FM(s,e,t){t||(t=zf);const r=Kg(s,"firestore");if(r.isInitialized(t)){const o=r.getImmediate({identifier:t}),u=r.getOptions(t);if(_a(u,e))return o;throw new ie(Q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ie(Q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hb)throw new ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&al(e.host)&&JA(e.host),r.initialize({options:e,instanceIdentifier:t})}function qb(s){if(s._terminated)throw new ie(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||HM(s),s._firestoreClient}function HM(s){const e=s._freezeSettings(),t=(function(o,u,c,m){return new hV(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Bb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new PM(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Ot.fromBase64String(e))}catch(t){throw new ie(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Vt("string",Kn._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(dc(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Vt("string",qi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ji(e.vectorValues);throw new ie(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Vt("string",ji._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=/^__.*__$/;class KM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new hl(e,this.data,t,this.fieldTransforms)}}function Fb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:s})}}class By{constructor(e,t,r,o,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new By({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fb(this.Ac)&&GM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wd(e)}Cc(e,t,r,o=!1){return new By({Ac:e,methodName:t,Dc:r,path:ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hb(s){const e=s._freezeSettings(),t=wd(s._databaseId);return new QM(s._databaseId,!!e.ignoreUndefinedProperties,t)}function YM(s,e,t,r,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,e,t,o);Qb("Data must be an object, but it was:",c,r);const m=Gb(r,c);let p,g;if(u.merge)p=new Yn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=$M(e,T,t);if(!c.contains(w))throw new ie(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ZM(E,w)||E.push(w)}p=new Yn(E),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new KM(new yn(m),p,g)}function XM(s,e,t,r=!1){return qy(t,s.Cc(r?4:3,e))}function qy(s,e){if(Kb(s=nn(s)))return Qb("Unsupported field value:",e,s),Gb(s,e);if(s instanceof jb)return(function(r,o){if(!Fb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=qy(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=$e.fromDate(r);return{timestampValue:il(o.serializer,u)}}if(r instanceof $e){const u=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:il(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:G1(o.serializer,r._byteString)};if(r instanceof Lt){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ey(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ji)return(function(c,m){return{mapValue:{fields:{[cy]:{stringValue:hy},[Jo]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return my(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${cd(r)}`)})(s,e)}function Gb(s,e){const t={};return h1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(s,((r,o)=>{const u=qy(o,e.mc(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function Kb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof $e||s instanceof qi||s instanceof Kn||s instanceof Lt||s instanceof jb||s instanceof ji)}function Qb(s,e,t){if(!Kb(t)||!$S(t)){const r=cd(t);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function $M(s,e,t){if((e=nn(e))instanceof zy)return e._internalPath;if(typeof e=="string")return Yb(s,e);throw Jf("Field path arguments must be of type string or ",s,!1,void 0,t)}const JM=new RegExp("[~\\*/\\[\\]]");function Yb(s,e,t){if(e.search(JM)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new zy(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Jf(s,e,t,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new ie(Q.INVALID_ARGUMENT,m+s+p)}function ZM(s,e){return s.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WM extends Xb{data(){return super.data()}}function Rd(s,e){return typeof e=="string"?Yb(s,e):e instanceof zy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ie(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class Fy extends jy{}function tx(s,e,...t){let r=[];e instanceof jy&&r.push(e),r=r.concat(t),(function(u){const c=u.filter((p=>p instanceof Hy)).length,m=u.filter((p=>p instanceof Cd)).length;if(c>1||c>0&&m>0)throw new ie(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Cd extends Fy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cd(e,t,r)}_apply(e){const t=this._parse(e);return $b(e._query,t),new Is(e.firestore,e.converter,bg(e._query,t))}_parse(e){const t=Hb(e.firestore);return(function(u,c,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ie(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){RA(T,E);const H=[];for(const W of T)H.push(IA(p,u,W));w={arrayValue:{values:H}}}else w=IA(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||RA(T,E),w=XM(m,c,T,E==="in"||E==="not-in");return ke.create(g,E,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tP(s,e,t){const r=e,o=Rd("where",s);return Cd._create(o,r,t)}class Hy extends jy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Je.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)$b(c,p),c=bg(c,p)})(e._query,t),new Is(e.firestore,e.converter,bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gy extends Fy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gy(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new ie(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(u,c)})(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new cl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function nx(s,e="asc"){const t=e,r=Rd("orderBy",s);return Gy._create(r,t)}class Ky extends Fy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ky(e,t,r)}_apply(e){return new Is(e.firestore,e.converter,jf(e._query,this._limit,this._limitType))}}function ix(s){return Ky._create("limit",s,"F")}function IA(s,e,t){if(typeof(t=nn(t))=="string"){if(t==="")throw new ie(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&t.indexOf("/")!==-1)throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ge.fromString(t));if(!se.isDocumentKey(r))throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wu(s,new se(r))}if(t instanceof Lt)return Wu(s,t._key);throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(t)}.`)}function RA(s,e){if(!Array.isArray(s)||s.length===0)throw new ie(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $b(s,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rx{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ma(e,((o,u)=>{r[o]=this.convertValue(u,t)})),r}convertVectorValue(e){const t=e.fields?.[Jo].arrayValue?.values?.map((r=>ct(r.doubleValue)));return new ji(t)}convertGeoPoint(e){return new qi(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const t=yr(e);return new $e(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ge.fromString(e);pe(tb(r),9688,{name:e});const o=new Sa(r.get(1),r.get(3)),u=new se(r.popFirst(5));return o.isEqual(t)||ln(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(s,e,t){let r;return r=s?s.toFirestore(e):e,r}class af{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jo extends Xb{constructor(e,t,r,o,u,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=jo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",jo._jsonSchema={type:Vt("string",jo._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class If extends jo{data(e={}){return super.data(e)}}class Fo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new af(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new If(this._firestore,this._userDataWriter,r.key,r,new af(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new If(o._firestore,o._userDataWriter,m.doc.key,m.doc,new af(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new If(o._firestore,o._userDataWriter,m.doc.key,m.doc,new af(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),E=c.indexOf(m.doc.key)),{type:ax(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ax(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:s})}}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:Vt("string",Fo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class ox extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function lx(s){s=xf(s,Is);const e=xf(s.firestore,Uy),t=qb(e),r=new ox(e);return ex(s._query),zM(t,s._query).then((o=>new Fo(e,r,s,o)))}function ux(s,e,t){s=xf(s,Lt);const r=xf(s.firestore,Uy),o=sx(s.converter,e);return cx(r,[YM(Hb(r),"setDoc",s._key,o,s.converter!==null,t).toMutation(s._key,Dn.none())])}function cx(s,e){return(function(r,o){const u=new dr;return r.asyncQueue.enqueueAndForget((async()=>wM(await LM(r),o,u))),u.promise})(qb(s),e)}class hx{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=mx(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function fx(s){return new hx(s)}class dx{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$f.provider,this._offlineComponentProvider={build:t=>new MM(t,e?.cacheSizeBytes,this.forceOwnership)}}}function mx(s){return new dx(s?.forceOwnership)}(function(e,t=!0){(function(o){ul=o})(ol),Ho(new va("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Uy(new SN(r.getProvider("auth-internal")),new IN(c,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ie(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(g.options.projectId,E)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ms(o0,l0,e),ms(o0,l0,"esm2020")})();const px={apiKey:"AIzaSyAAYW1uIaayt4Dw4JwOygNPpQeUrn-F3f8",authDomain:"weigth-4bc4f.firebaseapp.com",projectId:"weigth-4bc4f",storageBucket:"weigth-4bc4f.firebasestorage.app",messagingSenderId:"970793021929",appId:"1:970793021929:web:2ebeafb3867b1d688edb78"},gx=rS(px),Jb=FM(gx,{localCache:fx()}),kg=vN();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_x=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),CA=s=>{const e=_x(s);return e.charAt(0).toUpperCase()+e.slice(1)},Zb=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),vx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ex={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=dt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},p)=>dt.createElement("svg",{ref:p,...Ex,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:Zb("lucide",o),...!u&&!vx(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,E])=>dt.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=(s,e)=>{const t=dt.forwardRef(({className:r,...o},u)=>dt.createElement(Tx,{ref:u,iconNode:e,className:Zb(`lucide-${yx(CA(s))}`,`lucide-${s}`,r),...o}));return t.displayName=CA(s),t};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],DA=$n("bed-double",Ax);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M12.409 13.017A5 5 0 0 1 22 15c0 3.866-4 7-9 7-4.077 0-8.153-.82-10.371-2.462-.426-.316-.631-.832-.62-1.362C2.118 12.723 2.627 2 10 2a3 3 0 0 1 3 3 2 2 0 0 1-2 2c-1.105 0-1.64-.444-2-1",key:"1pmlyh"}],["path",{d:"M15 14a5 5 0 0 0-7.584 2",key:"5rb254"}],["path",{d:"M9.964 6.825C8.019 7.977 9.5 13 8 15",key:"kbvsx9"}]],bx=$n("biceps-flexed",Sx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Ix=$n("bike",wx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],of=$n("briefcase-business",Rx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"m16 22-1-4",key:"1ow2iv"}],["path",{d:"M19 13.99a1 1 0 0 0 1-1V12a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v.99a1 1 0 0 0 1 1",key:"iw8jdu"}],["path",{d:"M5 14h14l1.973 6.767A1 1 0 0 1 20 22H4a1 1 0 0 1-.973-1.233z",key:"1soew8"}],["path",{d:"m8 22 1-4",key:"s3unb"}]],Dx=$n("brush-cleaning",Cx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"u0tga0"}],["path",{d:"m4 8 16-4",key:"16g0ng"}],["path",{d:"m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8",key:"12cejc"}]],Vx=$n("cooking-pot",Nx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Mx=$n("footprints",Ox);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M12 16H4a2 2 0 1 1 0-4h16a2 2 0 1 1 0 4h-4.25",key:"5dloqd"}],["path",{d:"M5 12a2 2 0 0 1-2-2 9 7 0 0 1 18 0 2 2 0 0 1-2 2",key:"1vl3my"}],["path",{d:"M5 16a2 2 0 0 0-2 2 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 2 2 0 0 0-2-2q0 0 0 0",key:"1us75o"}],["path",{d:"m6.67 12 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"qqzweh"}]],Px=$n("hamburger",xx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Zp=$n("heart-handshake",kx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],Ux=$n("plug-zap",Lx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Bx=$n("smile",zx);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],jx=$n("utensils",qx),sa="stroke-white",Wb=[{icon:Ne.jsx(Px,{className:sa}),title:"  ",price:-1500,id:1,discount:2/3,display:!0},{icon:Ne.jsx(jx,{className:sa}),title:"  ",price:-4e3,id:2,discount:.75,display:!0},{icon:Ne.jsx(Ux,{className:sa}),title:" ",price:-2e5,id:3,discount:.7,display:!0},{icon:Ne.jsx(of,{className:sa}),title:"  ",price:-1e6,id:4,discount:.85,display:!0},{icon:Ne.jsx(of,{className:sa}),title:"  20 ",price:-2500,id:5,discount:.5,display:!0},{icon:Ne.jsx(of,{className:sa}),title:"   7 ",price:-1500,id:6,discount:2/3,display:!0},{icon:Ne.jsx(of,{className:sa}),title:" ",price:-2500,id:7,discount:4/5,display:!0}],ui="stroke-white",ew=[{icon:Ne.jsx(DA,{className:ui}),title:"   10 ",price:50,id:1,discount:2,display:!1},{icon:Ne.jsx(Vx,{className:ui}),title:" ",price:100,id:2,discount:1.5,display:!0},{icon:Ne.jsx(Mx,{className:ui}),title:" 20   ",price:100,id:3,discount:2.5,display:!0},{icon:Ne.jsx(Bx,{className:ui}),title:"  2   ",price:100,id:4,discount:1.2,display:!0},{icon:Ne.jsx(bx,{className:ui}),title:"  ",price:100,id:5,discount:1.2,display:!0},{icon:Ne.jsx(Dx,{className:ui}),title:" 15 ",price:100,id:6,discount:1.5,display:!0},{icon:Ne.jsx(Ix,{className:ui}),title:"10   ",price:150,id:7,discount:2,display:!0},{icon:Ne.jsx(Zp,{className:ui}),title:"   10 ",price:250,id:8,discount:1.2,display:!0},{icon:Ne.jsx(Zp,{className:ui}),title:"    ",price:1e3,id:9,discount:1.1,display:!0},{icon:Ne.jsx(Zp,{className:ui}),title:"    ",price:1500,id:10,discount:1.25,display:!0},{icon:Ne.jsx(DA,{className:ui}),title:"   11 ",price:50,id:11,discount:2,display:!0}];function Zf(s,e){const t=[];let r=0;for(;r<e;){const o=Math.floor(Math.random()*s.length);!t.includes(o)&&s[o].display&&(t.push(o),r++)}return t.map(o=>s[o].id)}const Fx={startWeight:null,startWeightDate:null,targetWeight:null,maxCallories:null,currentWeight:null,currentWeightDate:null,currentCalloriesDate:null,currentCallories:0,balance:0,completedTasks:[],completedAwards:[],tasksDay:Zf(ew,2),awardsDay:Zf(Wb,1),lastDateOfLoad:sd(),timestamp:Date.now()},Hx={currentCallories:0,completedAwards:[],completedTasks:[],tasksDay:Zf(ew,2),awardsDay:Zf(Wb,1),lastDateOfLoad:sd(),timestamp:Date.now()},Gx=async()=>{let s=null;if(kg.currentUser){const e=[],t=tx(qM(Jb,kg.currentUser.uid),nx("timestamp","desc"),ix(1));(await lx(t)).forEach(o=>{e.push(o.data())}),s=e[0],s&&s?.lastDateOfLoad!==sd()&&(s={...s,...Hx})}return s};function $t(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var Kx=typeof Symbol=="function"&&Symbol.observable||"@@observable",NA=Kx,Wp=()=>Math.random().toString(36).substring(7).split("").join("."),Qx={INIT:`@@redux/INIT${Wp()}`,REPLACE:`@@redux/REPLACE${Wp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wp()}`},Wf=Qx;function Qy(s){if(typeof s!="object"||s===null)return!1;let e=s;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(s)===e||Object.getPrototypeOf(s)===null}function tw(s,e,t){if(typeof s!="function")throw new Error($t(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error($t(1));return t(tw)(s,e)}let r=s,o=e,u=new Map,c=u,m=0,p=!1;function g(){c===u&&(c=new Map,u.forEach((Y,ne)=>{c.set(ne,Y)}))}function E(){if(p)throw new Error($t(3));return o}function T(Y){if(typeof Y!="function")throw new Error($t(4));if(p)throw new Error($t(5));let ne=!0;g();const ae=m++;return c.set(ae,Y),function(){if(ne){if(p)throw new Error($t(6));ne=!1,g(),c.delete(ae),u=null}}}function w(Y){if(!Qy(Y))throw new Error($t(7));if(typeof Y.type>"u")throw new Error($t(8));if(typeof Y.type!="string")throw new Error($t(17));if(p)throw new Error($t(9));try{p=!0,o=r(o,Y)}finally{p=!1}return(u=c).forEach(ae=>{ae()}),Y}function P(Y){if(typeof Y!="function")throw new Error($t(10));r=Y,w({type:Wf.REPLACE})}function H(){const Y=T;return{subscribe(ne){if(typeof ne!="object"||ne===null)throw new Error($t(11));function ae(){const ue=ne;ue.next&&ue.next(E())}return ae(),{unsubscribe:Y(ae)}},[NA](){return this}}}return w({type:Wf.INIT}),{dispatch:w,subscribe:T,getState:E,replaceReducer:P,[NA]:H}}function Yx(s){Object.keys(s).forEach(e=>{const t=s[e];if(typeof t(void 0,{type:Wf.INIT})>"u")throw new Error($t(12));if(typeof t(void 0,{type:Wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function Xx(s){const e=Object.keys(s),t={};for(let u=0;u<e.length;u++){const c=e[u];typeof s[c]=="function"&&(t[c]=s[c])}const r=Object.keys(t);let o;try{Yx(t)}catch(u){o=u}return function(c={},m){if(o)throw o;let p=!1;const g={};for(let E=0;E<r.length;E++){const T=r[E],w=t[T],P=c[T],H=w(P,m);if(typeof H>"u")throw m&&m.type,new Error($t(14));g[T]=H,p=p||H!==P}return p=p||r.length!==Object.keys(c).length,p?g:c}}function ed(...s){return s.length===0?e=>e:s.length===1?s[0]:s.reduce((e,t)=>(...r)=>e(t(...r)))}function $x(...s){return e=>(t,r)=>{const o=e(t,r);let u=()=>{throw new Error($t(15))};const c={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=s.map(p=>p(c));return u=ed(...m)(o.dispatch),{...o,dispatch:u}}}function Jx(s){return Qy(s)&&"type"in s&&typeof s.type=="string"}var nw=Symbol.for("immer-nothing"),VA=Symbol.for("immer-draftable"),Vn=Symbol.for("immer-state");function hi(s,...e){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var sl=Object.getPrototypeOf;function Da(s){return!!s&&!!s[Vn]}function vr(s){return s?iw(s)||Array.isArray(s)||!!s[VA]||!!s.constructor?.[VA]||Tc(s)||Nd(s):!1}var Zx=Object.prototype.constructor.toString();function iw(s){if(!s||typeof s!="object")return!1;const e=sl(s);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Zx}function td(s,e){Dd(s)===0?Reflect.ownKeys(s).forEach(t=>{e(t,s[t],s)}):s.forEach((t,r)=>e(r,t,s))}function Dd(s){const e=s[Vn];return e?e.type_:Array.isArray(s)?1:Tc(s)?2:Nd(s)?3:0}function Lg(s,e){return Dd(s)===2?s.has(e):Object.prototype.hasOwnProperty.call(s,e)}function rw(s,e,t){const r=Dd(s);r===2?s.set(e,t):r===3?s.add(t):s[e]=t}function Wx(s,e){return s===e?s!==0||1/s===1/e:s!==s&&e!==e}function Tc(s){return s instanceof Map}function Nd(s){return s instanceof Set}function ua(s){return s.copy_||s.base_}function Ug(s,e){if(Tc(s))return new Map(s);if(Nd(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const t=iw(s);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(s);delete r[Vn];let o=Reflect.ownKeys(r);for(let u=0;u<o.length;u++){const c=o[u],m=r[c];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(r[c]={configurable:!0,writable:!0,enumerable:m.enumerable,value:s[c]})}return Object.create(sl(s),r)}else{const r=sl(s);if(r!==null&&t)return{...s};const o=Object.create(r);return Object.assign(o,s)}}function Yy(s,e=!1){return Vd(s)||Da(s)||!vr(s)||(Dd(s)>1&&Object.defineProperties(s,{set:{value:lf},add:{value:lf},clear:{value:lf},delete:{value:lf}}),Object.freeze(s),e&&Object.values(s).forEach(t=>Yy(t,!0))),s}function lf(){hi(2)}function Vd(s){return Object.isFrozen(s)}var e4={};function Na(s){const e=e4[s];return e||hi(0,s),e}var sc;function sw(){return sc}function t4(s,e){return{drafts_:[],parent_:s,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OA(s,e){e&&(Na("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=e)}function zg(s){Bg(s),s.drafts_.forEach(n4),s.drafts_=null}function Bg(s){s===sc&&(sc=s.parent_)}function MA(s){return sc=t4(sc,s)}function n4(s){const e=s[Vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xA(s,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return s!==void 0&&s!==t?(t[Vn].modified_&&(zg(e),hi(4)),vr(s)&&(s=nd(e,s),e.parent_||id(e,s)),e.patches_&&Na("Patches").generateReplacementPatches_(t[Vn].base_,s,e.patches_,e.inversePatches_)):s=nd(e,t,[]),zg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),s!==nw?s:void 0}function nd(s,e,t){if(Vd(e))return e;const r=e[Vn];if(!r)return td(e,(o,u)=>PA(s,r,e,o,u,t)),e;if(r.scope_!==s)return e;if(!r.modified_)return id(s,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let u=o,c=!1;r.type_===3&&(u=new Set(o),o.clear(),c=!0),td(u,(m,p)=>PA(s,r,o,m,p,t,c)),id(s,o,!1),t&&s.patches_&&Na("Patches").generatePatches_(r,t,s.patches_,s.inversePatches_)}return r.copy_}function PA(s,e,t,r,o,u,c){if(Da(o)){const m=u&&e&&e.type_!==3&&!Lg(e.assigned_,r)?u.concat(r):void 0,p=nd(s,o,m);if(rw(t,r,p),Da(p))s.canAutoFreeze_=!1;else return}else c&&t.add(o);if(vr(o)&&!Vd(o)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;nd(s,o),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Tc(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&id(s,o)}}function id(s,e,t=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&Yy(e,t)}function i4(s,e){const t=Array.isArray(s),r={type_:t?1:0,scope_:e?e.scope_:sw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,u=Xy;t&&(o=[r],u=ac);const{revoke:c,proxy:m}=Proxy.revocable(o,u);return r.draft_=m,r.revoke_=c,m}var Xy={get(s,e){if(e===Vn)return s;const t=ua(s);if(!Lg(t,e))return r4(s,t,e);const r=t[e];return s.finalized_||!vr(r)?r:r===eg(s.base_,e)?(tg(s),s.copy_[e]=jg(r,s)):r},has(s,e){return e in ua(s)},ownKeys(s){return Reflect.ownKeys(ua(s))},set(s,e,t){const r=aw(ua(s),e);if(r?.set)return r.set.call(s.draft_,t),!0;if(!s.modified_){const o=eg(ua(s),e),u=o?.[Vn];if(u&&u.base_===t)return s.copy_[e]=t,s.assigned_[e]=!1,!0;if(Wx(t,o)&&(t!==void 0||Lg(s.base_,e)))return!0;tg(s),qg(s)}return s.copy_[e]===t&&(t!==void 0||e in s.copy_)||Number.isNaN(t)&&Number.isNaN(s.copy_[e])||(s.copy_[e]=t,s.assigned_[e]=!0),!0},deleteProperty(s,e){return eg(s.base_,e)!==void 0||e in s.base_?(s.assigned_[e]=!1,tg(s),qg(s)):delete s.assigned_[e],s.copy_&&delete s.copy_[e],!0},getOwnPropertyDescriptor(s,e){const t=ua(s),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:s.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){hi(11)},getPrototypeOf(s){return sl(s.base_)},setPrototypeOf(){hi(12)}},ac={};td(Xy,(s,e)=>{ac[s]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ac.deleteProperty=function(s,e){return ac.set.call(this,s,e,void 0)};ac.set=function(s,e,t){return Xy.set.call(this,s[0],e,t,s[0])};function eg(s,e){const t=s[Vn];return(t?ua(t):s)[e]}function r4(s,e,t){const r=aw(e,t);return r?"value"in r?r.value:r.get?.call(s.draft_):void 0}function aw(s,e){if(!(e in s))return;let t=sl(s);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=sl(t)}}function qg(s){s.modified_||(s.modified_=!0,s.parent_&&qg(s.parent_))}function tg(s){s.copy_||(s.copy_=Ug(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var s4=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const c=this;return function(p=u,...g){return c.produce(p,E=>t.call(this,E,...g))}}typeof t!="function"&&hi(6),r!==void 0&&typeof r!="function"&&hi(7);let o;if(vr(e)){const u=MA(this),c=jg(e,void 0);let m=!0;try{o=t(c),m=!1}finally{m?zg(u):Bg(u)}return OA(u,r),xA(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===nw&&(o=void 0),this.autoFreeze_&&Yy(o,!0),r){const u=[],c=[];Na("Patches").generateReplacementPatches_(e,o,u,c),r(u,c)}return o}else hi(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...m)=>this.produceWithPatches(c,p=>e(p,...m));let r,o;return[this.produce(e,t,(c,m)=>{r=c,o=m}),r,o]},typeof s?.autoFreeze=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof s?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){vr(s)||hi(8),Da(s)&&(s=a4(s));const e=MA(this),t=jg(s,void 0);return t[Vn].isManual_=!0,Bg(e),t}finishDraft(s,e){const t=s&&s[Vn];(!t||!t.isManual_)&&hi(9);const{scope_:r}=t;return OA(r,e),xA(void 0,r)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){s=o.value;break}}t>-1&&(e=e.slice(t+1));const r=Na("Patches").applyPatches_;return Da(s)?r(s,e):this.produce(s,o=>r(o,e))}};function jg(s,e){const t=Tc(s)?Na("MapSet").proxyMap_(s,e):Nd(s)?Na("MapSet").proxySet_(s,e):i4(s,e);return(e?e.scope_:sw()).drafts_.push(t),t}function a4(s){return Da(s)||hi(10,s),ow(s)}function ow(s){if(!vr(s)||Vd(s))return s;const e=s[Vn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ug(s,e.scope_.immer_.useStrictShallowCopy_)}else t=Ug(s,!0);return td(t,(r,o)=>{rw(t,r,ow(o))}),e&&(e.finalized_=!1),t}var o4=new s4,lw=o4.produce;function uw(s){return({dispatch:t,getState:r})=>o=>u=>typeof u=="function"?u(t,r,s):o(u)}var l4=uw(),u4=uw,c4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ed:ed.apply(null,arguments)},h4=s=>s&&typeof s.match=="function";function qu(s,e){function t(...r){if(e){let o=e(...r);if(!o)throw new Error(mr(0));return{type:s,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:s,payload:r[0]}}return t.toString=()=>`${s}`,t.type=s,t.match=r=>Jx(r)&&r.type===s,t}var cw=class Nu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nu.prototype)}static get[Symbol.species](){return Nu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nu(...e[0].concat(this)):new Nu(...e.concat(this))}};function kA(s){return vr(s)?lw(s,()=>{}):s}function uf(s,e,t){return s.has(e)?s.get(e):s.set(e,t(e)).get(e)}function f4(s){return typeof s=="boolean"}var d4=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let c=new cw;return t&&(f4(t)?c.push(l4):c.push(u4(t.extraArgument))),c},m4="RTK_autoBatch",LA=s=>e=>{setTimeout(e,s)},p4=(s={type:"raf"})=>e=>(...t)=>{const r=e(...t);let o=!0,u=!1,c=!1;const m=new Set,p=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LA(10):s.type==="callback"?s.queueNotification:LA(s.timeout),g=()=>{c=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},r,{subscribe(E){const T=()=>o&&E(),w=r.subscribe(T);return m.add(E),()=>{w(),m.delete(E)}},dispatch(E){try{return o=!E?.meta?.[m4],u=!o,u&&(c||(c=!0,p(g))),r.dispatch(E)}finally{o=!0}}})},g4=s=>function(t){const{autoBatch:r=!0}=t??{};let o=new cw(s);return r&&o.push(p4(typeof r=="object"?r:void 0)),o};function y4(s){const e=d4(),{reducer:t=void 0,middleware:r,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=s||{};let m;if(typeof t=="function")m=t;else if(Qy(t))m=Xx(t);else throw new Error(mr(1));let p;typeof r=="function"?p=r(e):p=e();let g=ed;o&&(g=c4({trace:!1,...typeof o=="object"&&o}));const E=$x(...p),T=g4(E);let w=typeof c=="function"?c(T):T();const P=g(...w);return tw(m,u,P)}function hw(s){const e={},t=[];let r;const o={addCase(u,c){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(mr(28));if(m in e)throw new Error(mr(29));return e[m]=c,o},addAsyncThunk(u,c){return c.pending&&(e[u.pending.type]=c.pending),c.rejected&&(e[u.rejected.type]=c.rejected),c.fulfilled&&(e[u.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:u.settled,reducer:c.settled}),o},addMatcher(u,c){return t.push({matcher:u,reducer:c}),o},addDefaultCase(u){return r=u,o}};return s(o),[e,t,r]}function _4(s){return typeof s=="function"}function v4(s,e){let[t,r,o]=hw(e),u;if(_4(s))u=()=>kA(s());else{const m=kA(s);u=()=>m}function c(m=u(),p){let g=[t[p.type],...r.filter(({matcher:E})=>E(p)).map(({reducer:E})=>E)];return g.filter(E=>!!E).length===0&&(g=[o]),g.reduce((E,T)=>{if(T)if(Da(E)){const P=T(E,p);return P===void 0?E:P}else{if(vr(E))return lw(E,w=>T(w,p));{const w=T(E,p);if(w===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return E},m)}return c.getInitialState=u,c}var E4=(s,e)=>h4(s)?s.match(e):s(e);function T4(...s){return e=>s.some(t=>E4(t,e))}var A4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",S4=(s=21)=>{let e="",t=s;for(;t--;)e+=A4[Math.random()*64|0];return e},b4=["name","message","stack","code"],ng=class{constructor(s,e){this.payload=s,this.meta=e}_type},UA=class{constructor(s,e){this.payload=s,this.meta=e}_type},w4=s=>{if(typeof s=="object"&&s!==null){const e={};for(const t of b4)typeof s[t]=="string"&&(e[t]=s[t]);return e}return{message:String(s)}},zA="External signal was aborted",I4=(()=>{function s(e,t,r){const o=qu(e+"/fulfilled",(p,g,E,T)=>({payload:p,meta:{...T||{},arg:E,requestId:g,requestStatus:"fulfilled"}})),u=qu(e+"/pending",(p,g,E)=>({payload:void 0,meta:{...E||{},arg:g,requestId:p,requestStatus:"pending"}})),c=qu(e+"/rejected",(p,g,E,T,w)=>({payload:T,error:(r&&r.serializeError||w4)(p||"Rejected"),meta:{...w||{},arg:E,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(E,T,w)=>{const P=r?.idGenerator?r.idGenerator(p):S4(),H=new AbortController;let W,Y;function ne(Z){Y=Z,H.abort()}g&&(g.aborted?ne(zA):g.addEventListener("abort",()=>ne(zA),{once:!0}));const ae=(async function(){let Z;try{let re=r?.condition?.(p,{getState:T,extra:w});if(C4(re)&&(re=await re),re===!1||H.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ce=new Promise((I,b)=>{W=()=>{b({name:"AbortError",message:Y||"Aborted"})},H.signal.addEventListener("abort",W)});E(u(P,p,r?.getPendingMeta?.({requestId:P,arg:p},{getState:T,extra:w}))),Z=await Promise.race([ce,Promise.resolve(t(p,{dispatch:E,getState:T,extra:w,requestId:P,signal:H.signal,abort:ne,rejectWithValue:(I,b)=>new ng(I,b),fulfillWithValue:(I,b)=>new UA(I,b)})).then(I=>{if(I instanceof ng)throw I;return I instanceof UA?o(I.payload,P,p,I.meta):o(I,P,p)})])}catch(re){Z=re instanceof ng?c(null,P,p,re.payload,re.meta):c(re,P,p)}finally{W&&H.signal.removeEventListener("abort",W)}return r&&!r.dispatchConditionRejection&&c.match(Z)&&Z.meta.condition||E(Z),Z})();return Object.assign(ae,{abort:ne,requestId:P,arg:p,unwrap(){return ae.then(R4)}})}}return Object.assign(m,{pending:u,rejected:c,fulfilled:o,settled:T4(c,o),typePrefix:e})}return s.withTypes=()=>s,s})();function R4(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function C4(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var D4=Symbol.for("rtk-slice-createasyncthunk");function N4(s,e){return`${s}/${e}`}function V4({creators:s}={}){const e=s?.asyncThunk?.[D4];return function(r){const{name:o,reducerPath:u=o}=r;if(!o)throw new Error(mr(11));const c=(typeof r.reducers=="function"?r.reducers(x4()):r.reducers)||{},m=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(Z,ue){const re=typeof Z=="string"?Z:Z.type;if(!re)throw new Error(mr(12));if(re in p.sliceCaseReducersByType)throw new Error(mr(13));return p.sliceCaseReducersByType[re]=ue,g},addMatcher(Z,ue){return p.sliceMatchers.push({matcher:Z,reducer:ue}),g},exposeAction(Z,ue){return p.actionCreators[Z]=ue,g},exposeCaseReducer(Z,ue){return p.sliceCaseReducersByName[Z]=ue,g}};m.forEach(Z=>{const ue=c[Z],re={reducerName:Z,type:N4(o,Z),createNotation:typeof r.reducers=="function"};k4(ue)?U4(re,ue,g,e):P4(re,ue,g)});function E(){const[Z={},ue=[],re=void 0]=typeof r.extraReducers=="function"?hw(r.extraReducers):[r.extraReducers],ce={...Z,...p.sliceCaseReducersByType};return v4(r.initialState,I=>{for(let b in ce)I.addCase(b,ce[b]);for(let b of p.sliceMatchers)I.addMatcher(b.matcher,b.reducer);for(let b of ue)I.addMatcher(b.matcher,b.reducer);re&&I.addDefaultCase(re)})}const T=Z=>Z,w=new Map,P=new WeakMap;let H;function W(Z,ue){return H||(H=E()),H(Z,ue)}function Y(){return H||(H=E()),H.getInitialState()}function ne(Z,ue=!1){function re(I){let b=I[Z];return typeof b>"u"&&ue&&(b=uf(P,re,Y)),b}function ce(I=T){const b=uf(w,ue,()=>new WeakMap);return uf(b,I,()=>{const D={};for(const[M,V]of Object.entries(r.selectors??{}))D[M]=O4(V,I,()=>uf(P,I,Y),ue);return D})}return{reducerPath:Z,getSelectors:ce,get selectors(){return ce(re)},selectSlice:re}}const ae={name:o,reducer:W,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:Y,...ne(u),injectInto(Z,{reducerPath:ue,...re}={}){const ce=ue??u;return Z.inject({reducerPath:ce,reducer:W},re),{...ae,...ne(ce,!0)}}};return ae}}function O4(s,e,t,r){function o(u,...c){let m=e(u);return typeof m>"u"&&r&&(m=t()),s(m,...c)}return o.unwrapped=s,o}var M4=V4();function x4(){function s(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return s.withTypes=()=>s,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:s}}function P4({type:s,reducerName:e,createNotation:t},r,o){let u,c;if("reducer"in r){if(t&&!L4(r))throw new Error(mr(17));u=r.reducer,c=r.prepare}else u=r;o.addCase(s,u).exposeCaseReducer(e,u).exposeAction(e,c?qu(s,c):qu(s))}function k4(s){return s._reducerDefinitionType==="asyncThunk"}function L4(s){return s._reducerDefinitionType==="reducerWithPrepare"}function U4({type:s,reducerName:e},t,r,o){if(!o)throw new Error(mr(18));const{payloadCreator:u,fulfilled:c,pending:m,rejected:p,settled:g,options:E}=t,T=o(s,u,E);r.exposeAction(e,T),c&&r.addCase(T.fulfilled,c),m&&r.addCase(T.pending,m),p&&r.addCase(T.rejected,p),g&&r.addMatcher(T.settled,g),r.exposeCaseReducer(e,{fulfilled:c||cf,pending:m||cf,rejected:p||cf,settled:g||cf})}function cf(){}function mr(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}const z4=async s=>{await ux(jM(Jb,kg.currentUser?.uid,sd()),s)},B4=I4("storage/initialState",async()=>await Gx()),fw=M4({name:"storage",initialState:Fx,reducers:{handleSave:(s,e)=>{const t={...s,...e.payload};return z4(t),t}},extraReducers(s){s.addCase(B4.fulfilled,(e,t)=>t.payload)}}),{handleSave:nP}=fw.actions,q4=y4({reducer:{storage:fw.reducer}}),j4=dt.lazy(()=>KI(()=>import("./App-DwaGDq9N.js").then(s=>s.A),[]));rR.createRoot(document.getElementById("root")).render(Ne.jsx(dt.StrictMode,{children:Ne.jsx(AR,{store:q4,children:Ne.jsx(dt.Suspense,{fallback:Ne.jsx(sR,{}),children:Ne.jsx(j4,{})})})}));export{J4 as A,K4 as B,bx as C,W4 as D,G4 as E,sR as H,JI as R,KI as _,tR as a,Y4 as b,$n as c,H4 as d,X4 as e,Gx as f,QI as g,nP as h,kg as i,Ne as j,B4 as k,nx as l,qM as m,Jb as n,Z4 as o,lx as p,tx as q,dt as r,$4 as s,vN as t,Q4 as u,ew as v,tP as w,Wb as x,F4 as y,sd as z};
