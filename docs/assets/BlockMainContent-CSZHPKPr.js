import{r as p,j as e}from"./index-ClrLQSZE.js";import{B as x}from"./button-KM2B4vHL.js";import{D as V,f as E,a as A,b as R,c as S,e as _,d as k,g as h,h as B}from"./dialog-BF0vbof9.js";import{I as j}from"./input-W3LLUZWf.js";import F from"./calendar-days-C8GHvsiK.js";import{P}from"./index-H8DnZlhh.js";import{a as L}from"./utils-BHoiX9Iq.js";import{u as T}from"./index-Cz4sw_6r.js";import"./index-1PvZuP6t.js";import"./x-DPX21h8e.js";import"./createLucideIcon-Jlfy7AOM.js";import"./App-CMlEbArH.js";function O({variant:a,dialogTriggerText:r,dialogHeader:i,defaultValue:n,onSave:t}){const[c,u]=p.useState();return e.jsxs(V,{children:[e.jsx(E,{asChild:!0,children:e.jsx(x,{variant:"rose",className:"block text-base leading-4 mb-4 mx-auto w-9/10",children:r})}),e.jsxs(A,{onOpenAutoFocus:s=>s.preventDefault(),showCloseButton:!1,className:"w-auto px-5 py-4",onCloseAutoFocus:()=>u(n),children:[e.jsxs(R,{children:[e.jsx(S,{className:"m-auto mb-2 text-2xl",children:i}),e.jsxs(_,{className:"text-sm flex items-center mb-3",children:[e.jsx(F,{className:"inline-block mx-2 size-4.5"}),e.jsx("span",{children:`Сегодня - 
                    ${new Date().toLocaleString("ru",{year:"numeric",month:"long",day:"numeric"})}`})]})]}),a==="weight"&&e.jsx(j,{className:"mb-3",type:"text",inputMode:"decimal",lang:"en",step:"any",pattern:"[0-9]*",enterKeyHint:"done",onPaste:s=>s.preventDefault(),value:c,onInput:s=>{let l=s.target.value.replace(/[^0-9.,]/g,"");l=l.replace(",",".");const m=l.split(".");m.length>2&&(l=m[0]+"."+m.slice(1).join("")),Number(l)%1&&(l=(Math.floor(Number(l)*10)/10).toString()),u(l)}}),a==="callories"&&e.jsx(j,{className:"mb-3",type:"number",value:c,onPaste:s=>s.preventDefault(),onInput:s=>{const l=s.target.value.replace(/[^0-9]/g,"");u(l)}}),e.jsxs(k,{children:[e.jsx(h,{asChild:!0,children:e.jsx(x,{variant:"green",onClick:()=>{c&&t(Number(c))},children:"Сохранить"})}),e.jsx(h,{asChild:!0,children:e.jsx(x,{variant:"rose",children:"Отмена"})})]})]})]})}var f="Progress",g=100,[G]=B(f),[H,X]=G(f),D=p.forwardRef((a,r)=>{const{__scopeProgress:i,value:n=null,max:t,getValueLabel:c=z,...u}=a;(t||t===0)&&!b(t)&&console.error(K(`${t}`,"Progress"));const s=b(t)?t:g;n!==null&&!N(n,s)&&console.error(Q(`${n}`,"Progress"));const o=N(n,s)?n:null,l=d(o)?c(o,s):void 0;return e.jsx(H,{scope:i,value:o,max:s,children:e.jsx(P.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":d(o)?o:void 0,"aria-valuetext":l,role:"progressbar","data-state":$(o,s),"data-value":o??void 0,"data-max":s,...u,ref:r})})});D.displayName=f;var y="ProgressIndicator",w=p.forwardRef((a,r)=>{const{__scopeProgress:i,...n}=a,t=X(y,i);return e.jsx(P.div,{"data-state":$(t.value,t.max),"data-value":t.value??void 0,"data-max":t.max,...n,ref:r})});w.displayName=y;function z(a,r){return`${Math.round(a/r*100)}%`}function $(a,r){return a==null?"indeterminate":a===r?"complete":"loading"}function d(a){return typeof a=="number"}function b(a){return d(a)&&!isNaN(a)&&a>0}function N(a,r){return d(a)&&!isNaN(a)&&a<=r&&a>=0}function K(a,r){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${g}\`.`}function Q(a,r){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${g} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var U=D,q=w;function J({className:a,value:r,...i}){return e.jsx(U,{"data-slot":"progress",className:L("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...i,children:e.jsx(q,{"data-slot":"progress-indicator",className:"h-full w-full flex-1 transition-all bg-gray-300",style:{transform:`translateX(+${r}%)`}})})}function ce({variant:a,icon:r,title1:i,title2:n,dialogTriggerText:t,dialogHeader:c,titleNumber:u,isButtonVisible:s,defaultDialogValue:o,progressValue:l,progressText:m,indicatorStyle:C,footerText:I,onSave:M}){const v=!T("(min-width: 400.5px)");return e.jsxs(e.Fragment,{children:[!v&&e.jsxs("div",{className:"flex flex-row justify-around items-center mb-3",children:[r,e.jsx("div",{className:"grow flex flex-row justify-center items-end",children:e.jsxs("p",{children:[e.jsx("b",{className:"text-xl mb-2",children:i+" -"}),e.jsx("b",{className:"text-4xl mb-2",children:` ${u} `}),e.jsx("b",{className:"text-2xl mb-2",children:n})]})})]}),v&&e.jsxs("div",{className:"flex flex-row justify-around items-center mb-3",children:[r,e.jsxs("div",{className:"grow",children:[e.jsx("p",{className:"text-xl text-center",children:e.jsx("b",{children:i})}),e.jsxs("p",{className:"text-xl mb-1 text-center",children:[e.jsx("b",{className:"text-4xl",children:` ${u} `}),e.jsx("b",{className:"text-2xl",children:n})]})]})]}),s&&e.jsx(O,{variant:a,dialogTriggerText:t,dialogHeader:c,defaultValue:o,onSave:M}),e.jsx(J,{value:l,className:`mb-2 ${C}`}),e.jsx("p",{className:"text-center",children:m}),e.jsx("p",{className:"text-center mt-2",children:`Не забывай записывать ${I}!`}),e.jsx("p",{className:"text-center",children:"Каждый день за это ты получаешь звёздочки!"})]})}export{ce as default};
