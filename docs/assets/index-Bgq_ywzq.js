function eR(s,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();const nR="modulepreload",iR=function(s){return"/weigth/"+s},TE={},Qb=function(t,e,i){let o=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(T=>Promise.resolve(T).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(e.map(g=>{if(g=iR(g),g in TE)return;TE[g]=!0;const T=g.endsWith(".css"),v=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const A=document.createElement("link");if(A.rel=T?"stylesheet":nR,T||(A.as="script"),A.crossOrigin="",A.href=g,m&&A.setAttribute("nonce",m),document.head.appendChild(A),T)return new Promise((M,F)=>{A.addEventListener("load",M),A.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};var CP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Op={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function rR(){if(bE)return xu;bE=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:c,ref:o!==void 0?o:null,props:u}}return xu.Fragment=t,xu.jsx=e,xu.jsxs=e,xu}var SE;function sR(){return SE||(SE=1,Op.exports=rR()),Op.exports}var Ht=sR(),Vp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function aR(){if(AE)return Ct;AE=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),A=Symbol.iterator;function M(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function et(x,X,tt){this.props=x,this.context=X,this.refs=K,this.updater=tt||F}et.prototype.isReactComponent={},et.prototype.setState=function(x,X){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,X,"setState")},et.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function lt(){}lt.prototype=et.prototype;function J(x,X,tt){this.props=x,this.context=X,this.refs=K,this.updater=tt||F}var ft=J.prototype=new lt;ft.constructor=J,Z(ft,et.prototype),ft.isPureReactComponent=!0;var at=Array.isArray;function ct(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(x,X,tt){var rt=tt.ref;return{$$typeof:s,type:x,key:X,ref:rt!==void 0?rt:null,props:tt}}function V(x,X){return C(x.type,X,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function k(x){var X={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(tt){return X[tt]})}var R=/\/+/g;function Zt(x,X){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):X.toString(36)}function he(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ct,ct):(x.status="pending",x.then(function(X){x.status==="pending"&&(x.status="fulfilled",x.value=X)},function(X){x.status==="pending"&&(x.status="rejected",x.reason=X)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function q(x,X,tt,rt,dt){var Et=typeof x;(Et==="undefined"||Et==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(Et){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case s:case t:Vt=!0;break;case T:return Vt=x._init,q(Vt(x._payload),X,tt,rt,dt)}}if(Vt)return dt=dt(x),Vt=rt===""?"."+Zt(x,0):rt,at(dt)?(tt="",Vt!=null&&(tt=Vt.replace(R,"$&/")+"/"),q(dt,X,tt,"",function(Jn){return Jn})):dt!=null&&(N(dt)&&(dt=V(dt,tt+(dt.key==null||x&&x.key===dt.key?"":(""+dt.key).replace(R,"$&/")+"/")+Vt)),X.push(dt)),1;Vt=0;var Rt=rt===""?".":rt+":";if(at(x))for(var Qt=0;Qt<x.length;Qt++)rt=x[Qt],Et=Rt+Zt(rt,Qt),Vt+=q(rt,X,tt,Et,dt);else if(Qt=M(x),typeof Qt=="function")for(x=Qt.call(x),Qt=0;!(rt=x.next()).done;)rt=rt.value,Et=Rt+Zt(rt,Qt++),Vt+=q(rt,X,tt,Et,dt);else if(Et==="object"){if(typeof x.then=="function")return q(he(x),X,tt,rt,dt);throw X=String(x),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(x,X,tt){if(x==null)return x;var rt=[],dt=0;return q(x,rt,"","",function(Et){return X.call(tt,Et,dt++)}),rt}function gt(x){if(x._status===-1){var X=x._result;X=X(),X.then(function(tt){(x._status===0||x._status===-1)&&(x._status=1,x._result=tt)},function(tt){(x._status===0||x._status===-1)&&(x._status=2,x._result=tt)}),x._status===-1&&(x._status=0,x._result=X)}if(x._status===1)return x._result.default;throw x._result}var xt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ot={map:nt,forEach:function(x,X,tt){nt(x,function(){X.apply(this,arguments)},tt)},count:function(x){var X=0;return nt(x,function(){X++}),X},toArray:function(x){return nt(x,function(X){return X})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ct.Activity=v,Ct.Children=Ot,Ct.Component=et,Ct.Fragment=e,Ct.Profiler=o,Ct.PureComponent=J,Ct.StrictMode=i,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Ct.cache=function(x){return function(){return x.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(x,X,tt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=Z({},x.props),dt=x.key;if(X!=null)for(Et in X.key!==void 0&&(dt=""+X.key),X)!w.call(X,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&X.ref===void 0||(rt[Et]=X[Et]);var Et=arguments.length-2;if(Et===1)rt.children=tt;else if(1<Et){for(var Vt=Array(Et),Rt=0;Rt<Et;Rt++)Vt[Rt]=arguments[Rt+2];rt.children=Vt}return C(x.type,dt,rt)},Ct.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ct.createElement=function(x,X,tt){var rt,dt={},Et=null;if(X!=null)for(rt in X.key!==void 0&&(Et=""+X.key),X)w.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=X[rt]);var Vt=arguments.length-2;if(Vt===1)dt.children=tt;else if(1<Vt){for(var Rt=Array(Vt),Qt=0;Qt<Vt;Qt++)Rt[Qt]=arguments[Qt+2];dt.children=Rt}if(x&&x.defaultProps)for(rt in Vt=x.defaultProps,Vt)dt[rt]===void 0&&(dt[rt]=Vt[rt]);return C(x,Et,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(x){return{$$typeof:m,render:x}},Ct.isValidElement=N,Ct.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:gt}},Ct.memo=function(x,X){return{$$typeof:g,type:x,compare:X===void 0?null:X}},Ct.startTransition=function(x){var X=I.T,tt={};I.T=tt;try{var rt=x(),dt=I.S;dt!==null&&dt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ct,xt)}catch(Et){xt(Et)}finally{X!==null&&tt.types!==null&&(X.types=tt.types),I.T=X}},Ct.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ct.use=function(x){return I.H.use(x)},Ct.useActionState=function(x,X,tt){return I.H.useActionState(x,X,tt)},Ct.useCallback=function(x,X){return I.H.useCallback(x,X)},Ct.useContext=function(x){return I.H.useContext(x)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(x,X){return I.H.useDeferredValue(x,X)},Ct.useEffect=function(x,X){return I.H.useEffect(x,X)},Ct.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Ct.useId=function(){return I.H.useId()},Ct.useImperativeHandle=function(x,X,tt){return I.H.useImperativeHandle(x,X,tt)},Ct.useInsertionEffect=function(x,X){return I.H.useInsertionEffect(x,X)},Ct.useLayoutEffect=function(x,X){return I.H.useLayoutEffect(x,X)},Ct.useMemo=function(x,X){return I.H.useMemo(x,X)},Ct.useOptimistic=function(x,X){return I.H.useOptimistic(x,X)},Ct.useReducer=function(x,X,tt){return I.H.useReducer(x,X,tt)},Ct.useRef=function(x){return I.H.useRef(x)},Ct.useState=function(x){return I.H.useState(x)},Ct.useSyncExternalStore=function(x,X,tt){return I.H.useSyncExternalStore(x,X,tt)},Ct.useTransition=function(){return I.H.useTransition()},Ct.version="19.2.0",Ct}var wE;function dd(){return wE||(wE=1,Vp.exports=aR()),Vp.exports}var be=dd();const ot=Yb(be),DP=eR({__proto__:null,default:ot},[be]);var Mp={exports:{}},Ou={},Pp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function oR(){return IE||(IE=1,(function(s){function t(q,nt){var gt=q.length;q.push(nt);t:for(;0<gt;){var xt=gt-1>>>1,Ot=q[xt];if(0<o(Ot,nt))q[xt]=nt,q[gt]=Ot,gt=xt;else break t}}function e(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var nt=q[0],gt=q.pop();if(gt!==nt){q[0]=gt;t:for(var xt=0,Ot=q.length,x=Ot>>>1;xt<x;){var X=2*(xt+1)-1,tt=q[X],rt=X+1,dt=q[rt];if(0>o(tt,gt))rt<Ot&&0>o(dt,tt)?(q[xt]=dt,q[rt]=gt,xt=rt):(q[xt]=tt,q[X]=gt,xt=X);else if(rt<Ot&&0>o(dt,gt))q[xt]=dt,q[rt]=gt,xt=rt;else break t}}return nt}function o(q,nt){var gt=q.sortIndex-nt.sortIndex;return gt!==0?gt:q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var p=[],g=[],T=1,v=null,A=3,M=!1,F=!1,Z=!1,K=!1,et=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ft(q){for(var nt=e(g);nt!==null;){if(nt.callback===null)i(g);else if(nt.startTime<=q)i(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=e(g)}}function at(q){if(Z=!1,ft(q),!F)if(e(p)!==null)F=!0,ct||(ct=!0,k());else{var nt=e(g);nt!==null&&he(at,nt.startTime-q)}}var ct=!1,I=-1,w=5,C=-1;function V(){return K?!0:!(s.unstable_now()-C<w)}function N(){if(K=!1,ct){var q=s.unstable_now();C=q;var nt=!0;try{t:{F=!1,Z&&(Z=!1,lt(I),I=-1),M=!0;var gt=A;try{e:{for(ft(q),v=e(p);v!==null&&!(v.expirationTime>q&&V());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,A=v.priorityLevel;var Ot=xt(v.expirationTime<=q);if(q=s.unstable_now(),typeof Ot=="function"){v.callback=Ot,ft(q),nt=!0;break e}v===e(p)&&i(p),ft(q)}else i(p);v=e(p)}if(v!==null)nt=!0;else{var x=e(g);x!==null&&he(at,x.startTime-q),nt=!1}}break t}finally{v=null,A=gt,M=!1}nt=void 0}}finally{nt?k():ct=!1}}}var k;if(typeof J=="function")k=function(){J(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Zt=R.port2;R.port1.onmessage=N,k=function(){Zt.postMessage(null)}}else k=function(){et(N,0)};function he(q,nt){I=et(function(){q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(q){switch(A){case 1:case 2:case 3:var nt=3;break;default:nt=A}var gt=A;A=nt;try{return q()}finally{A=gt}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var gt=A;A=q;try{return nt()}finally{A=gt}},s.unstable_scheduleCallback=function(q,nt,gt){var xt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?xt+gt:xt):gt=xt,q){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=gt+Ot,q={id:T++,callback:nt,priorityLevel:q,startTime:gt,expirationTime:Ot,sortIndex:-1},gt>xt?(q.sortIndex=gt,t(g,q),e(p)===null&&q===e(g)&&(Z?(lt(I),I=-1):Z=!0,he(at,gt-xt))):(q.sortIndex=Ot,t(p,q),F||M||(F=!0,ct||(ct=!0,k()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var nt=A;return function(){var gt=A;A=nt;try{return q.apply(this,arguments)}finally{A=gt}}}})(kp)),kp}var RE;function lR(){return RE||(RE=1,Pp.exports=oR()),Pp.exports}var Lp={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function uR(){if(CE)return hn;CE=1;var s=dd();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:T}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},hn.flushSync=function(p){var g=c.T,T=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=T,i.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,v=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:A,fetchPriority:M}):T==="script"&&i.d.X(p,{crossOrigin:v,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,v=m(T,g.crossOrigin);i.d.L(p,T,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},hn.requestFormReset=function(p){i.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,T){return c.H.useFormState(p,g,T)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var DE;function Xb(){if(DE)return Lp.exports;DE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Lp.exports=uR(),Lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function cR(){if(NE)return Ou;NE=1;var s=lR(),t=dd(),e=Xb();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(i(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(i(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),r;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:r}function T(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=T(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function Zt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case et:return"Profiler";case K:return"StrictMode";case at:return"Suspense";case ct:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case F:return"Portal";case J:return n.displayName||"Context";case lt:return(n._context.displayName||"Context")+".Consumer";case ft:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:Zt(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return Zt(n(r))}catch{}}return null}var he=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},xt=[],Ot=-1;function x(n){return{current:n}}function X(n){0>Ot||(n.current=xt[Ot],xt[Ot]=null,Ot--)}function tt(n,r){Ot++,xt[Ot]=n.current,n.current=r}var rt=x(null),dt=x(null),Et=x(null),Vt=x(null);function Rt(n,r){switch(tt(Et,r),tt(dt,n),tt(rt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=H0(r),n=G0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(rt),tt(rt,n)}function Qt(){X(rt),X(dt),X(Et)}function Jn(n){n.memoizedState!==null&&tt(Vt,n);var r=rt.current,a=G0(r,n.type);r!==a&&(tt(dt,n),tt(rt,a))}function _i(n){dt.current===n&&(X(rt),X(dt)),Vt.current===n&&(X(Vt),Ru._currentValue=gt)}var Vn,Xr;function Sn(n){if(Vn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Vn=r&&r[1]||"",Xr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+n+Xr}var ta=!1;function Ui(n,r){if(!n||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var j=G}Reflect.construct(n,[],W)}else{try{W.call()}catch(G){j=G}n.call(W.prototype)}}else{try{throw Error()}catch(G){j=G}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),B=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Q=`
`+D[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=f);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Sn(a):""}function vi(n,r){switch(n.tag){case 26:case 27:case 5:return Sn(n.type);case 16:return Sn("Lazy");case 13:return n.child!==r&&r!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Ui(n.type,!1);case 11:return Ui(n.type.render,!1);case 1:return Ui(n.type,!0);case 31:return Sn("Activity");default:return""}}function $r(n){try{var r="",a=null;do r+=vi(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Jt=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,zi=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Ei=s.unstable_requestPaint,We=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,Bi=s.unstable_ImmediatePriority,ea=s.unstable_UserBlockingPriority,Ti=s.unstable_NormalPriority,na=s.unstable_LowPriority,bi=s.unstable_IdlePriority,ia=s.log,Si=s.unstable_setDisableYieldValue,Mn=null,je=null;function pn(n){if(typeof ia=="function"&&Si(n),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Mn,n)}catch{}}var pe=Math.clz32?Math.clz32:Pn,ro=Math.log,ji=Math.LN2;function Pn(n){return n>>>=0,n===0?32:31-(ro(n)/ji|0)|0}var Wn=256,gr=262144,Ee=4194304;function kn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bt(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=kn(l):(_&=b,_!==0?f=kn(_):a||(a=b&~n,a!==0&&(f=kn(a))))):(b=l&~d,b!==0?f=kn(b):_!==0?f=kn(_):a||(a=l&~n,a!==0&&(f=kn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Wt(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ne(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var n=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),n}function gn(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function fe(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cn(n,r,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,D=n.expirationTimes,B=n.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-pe(a),W=1<<Q;b[Q]=0,D[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var G=j[Q];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&Zn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function Zn(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-pe(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Ze(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-pe(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function tn(n,r){var a=r&-r;return a=(a&42)!==0?1:qi(a),(a&(n.suspendedLanes|r))!==0?0:a}function qi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function en(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vl(){var n=nt.p;return n!==0?n:(n=window.event,n===void 0?32:mE(n.type))}function Ai(n,r){var a=nt.p;try{return nt.p=n,r()}finally{nt.p=a}}var wi=Math.random().toString(36).slice(2),xe="__reactFiber$"+wi,Qe="__reactProps$"+wi,Fi="__reactContainer$"+wi,so="__reactEvents$"+wi,Ud="__reactListeners$"+wi,Uc="__reactHandles$"+wi,zc="__reactResources$"+wi,Hi="__reactMarker$"+wi;function ao(n){delete n[xe],delete n[Qe],delete n[so],delete n[Ud],delete n[Uc]}function Gi(n){var r=n[xe];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Fi]||a[xe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=W0(n);n!==null;){if(a=n[xe])return a;n=W0(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[xe]||n[Fi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ln(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Ki(n){var r=n[zc];return r||(r=n[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Oe(n){n[Hi]=!0}var Ml=new Set,Pl={};function Qi(n,r){Yi(n,r),Yi(n+"Capture",r)}function Yi(n,r){for(Pl[n]=r,n=0;n<r.length;n++)Ml.add(r[n])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Ul={};function Bc(n){return Jt.call(Ul,n)?!0:Jt.call(Ll,n)?!1:kl.test(n)?Ul[n]=!0:(Ll[n]=!0,!1)}function oo(n,r,a){if(Bc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Un(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ve(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Ye(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function te(n){if(!n._valueTracker){var r=Jr(n)?"checked":"value";n._valueTracker=zl(n,r,""+n[r])}}function ra(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Jr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Xi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sa=/[\n"\\]/g;function An(n){return n.replace(sa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function lo(n,r,a,l,f,d,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ye(r)):n.value!==""+Ye(r)&&(n.value=""+Ye(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Bl(n,_,Ye(r)):a!=null?Bl(n,_,Ye(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Ye(b):n.removeAttribute("name")}function jc(n,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){te(n);return}a=a!=null?""+Ye(a):"",r=r!=null?""+Ye(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),te(n)}function Bl(n,r,a){r==="number"&&Xi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Wr(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Ye(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function qc(n,r,a){if(r!=null&&(r=""+Ye(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Ye(a):""}function Zr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(he(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ye(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),te(n)}function wn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Fc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Fc.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ql(n,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&jl(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&jl(n,d,r[d])}function uo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(n){return ts.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ii(){}var Fl=null;function ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var es=null,$i=null;function aa(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[Qe]||null;t:switch(n=r.stateNode,r.type){case"input":if(lo(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Qe]||null;if(!f)throw Error(i(90));lo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ra(l)}break t;case"textarea":qc(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Wr(n,!!a.multiple,r,!1)}}}var ho=!1;function ns(n,r,a){if(ho)return n(r,a);ho=!0;try{var l=n(r);return l}finally{if(ho=!1,(es!==null||$i!==null)&&(Lh(),es&&(r=es,n=$i,$i=es=null,aa(r),n)))for(r=0;r<n.length;r++)aa(n[r])}}function Ri(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Qe]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(ni)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){oa=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{oa=!1}var Ji=null,Hl=null,la=null;function Gl(){if(la)return la;var n,r=Hl,a=r.length,l,f="value"in Ji?Ji.value:Ji.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return la=f.slice(n,1<l?1-l:void 0)}function ua(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function yr(){return!0}function Ci(){return!1}function nn(n){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yr:Ci,this.isPropagationStopped=Ci,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),r}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=nn(_r),is=v({},_r,{view:0,detail:0}),Kl=nn(is),rs,fo,Zi,mo=v({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zi&&(Zi&&n.type==="mousemove"?(rs=n.screenX-Zi.screenX,fo=n.screenY-Zi.screenY):fo=rs=0,Zi=n),rs)},movementY:function(n){return"movementY"in n?n.movementY:fo}}),Ql=nn(mo),ca=v({},mo,{dataTransfer:0}),Gc=nn(ca),Kc=v({},is,{relatedTarget:0}),ha=nn(Kc),Yl=v({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=nn(Yl),po=v({},_r,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Yc=nn(po),Xc=v({},_r,{data:0}),tr=nn(Xc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Wc[n])?!!r[n]:!1}function ss(){return Zc}var yn=v({},is,{key:function(n){if(n.key){var r=$c[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ua(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(n){return n.type==="keypress"?ua(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ua(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),th=nn(yn),eh=v({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=nn(eh),h=v({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),y=nn(h),E=v({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=nn(E),U=v({},mo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),H=nn(U),st=v({},_r,{newState:0,oldState:0}),Dt=nn(st),Re=[9,13,27,32],Yt=ni&&"CompositionEvent"in window,ge=null;ni&&"documentMode"in document&&(ge=document.documentMode);var ii=ni&&"TextEvent"in window&&!ge,er=ni&&(!Yt||ge&&8<ge&&11>=ge),Di=" ",Ni=!1;function fa(n,r){switch(n){case"keyup":return Re.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yo=!1;function ww(n,r){switch(n){case"compositionend":return go(r);case"keypress":return r.which!==32?null:(Ni=!0,Di);case"textInput":return n=r.data,n===Di&&Ni?null:n;default:return null}}function Iw(n,r){if(yo)return n==="compositionend"||!Yt&&fa(n,r)?(n=Gl(),la=Hl=Ji=null,yo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return er&&r.locale!=="ko"?null:r.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Rw[n.type]:r==="textarea"}function n_(n,r,a,l){es?$i?$i.push(l):$i=[l]:es=l,r=Hh(r,"onChange"),0<r.length&&(a=new Wi("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Xl=null,$l=null;function Cw(n){U0(n,0)}function nh(n){var r=Ln(n);if(ra(r))return n}function i_(n,r){if(n==="change")return r}var r_=!1;if(ni){var zd;if(ni){var Bd="oninput"in document;if(!Bd){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Bd=typeof s_.oninput=="function"}zd=Bd}else zd=!1;r_=zd&&(!document.documentMode||9<document.documentMode)}function a_(){Xl&&(Xl.detachEvent("onpropertychange",o_),$l=Xl=null)}function o_(n){if(n.propertyName==="value"&&nh($l)){var r=[];n_(r,$l,n,ei(n)),ns(Cw,r)}}function Dw(n,r,a){n==="focusin"?(a_(),Xl=r,$l=a,Xl.attachEvent("onpropertychange",o_)):n==="focusout"&&a_()}function Nw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nh($l)}function xw(n,r){if(n==="click")return nh(r)}function Ow(n,r){if(n==="input"||n==="change")return nh(r)}function Vw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var zn=typeof Object.is=="function"?Object.is:Vw;function Jl(n,r){if(zn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Jt.call(r,f)||!zn(n[f],r[f]))return!1}return!0}function l_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u_(n,r){var a=l_(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=l_(a)}}function c_(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?c_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function h_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Xi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Xi(n.document)}return r}function jd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Mw=ni&&"documentMode"in document&&11>=document.documentMode,_o=null,qd=null,Wl=null,Fd=!1;function f_(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||_o==null||_o!==Xi(l)||(l=_o,"selectionStart"in l&&jd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wl&&Jl(Wl,l)||(Wl=l,l=Hh(qd,"onSelect"),0<l.length&&(r=new Wi("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=_o)))}function da(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var vo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Hd={},d_={};ni&&(d_=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ma(n){if(Hd[n])return Hd[n];if(!vo[n])return n;var r=vo[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in d_)return Hd[n]=r[a];return n}var m_=ma("animationend"),p_=ma("animationiteration"),g_=ma("animationstart"),Pw=ma("transitionrun"),kw=ma("transitionstart"),Lw=ma("transitioncancel"),y_=ma("transitionend"),__=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function xi(n,r){__.set(n,r),Qi(r,[n])}var ih=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ri=[],Eo=0,Kd=0;function rh(){for(var n=Eo,r=Kd=Eo=0;r<n;){var a=ri[r];ri[r++]=null;var l=ri[r];ri[r++]=null;var f=ri[r];ri[r++]=null;var d=ri[r];if(ri[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&v_(a,f,d)}}function sh(n,r,a,l){ri[Eo++]=n,ri[Eo++]=r,ri[Eo++]=a,ri[Eo++]=l,Kd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Qd(n,r,a,l){return sh(n,r,a,l),ah(n)}function pa(n,r){return sh(n,null,null,r),ah(n)}function v_(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-pe(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ah(n){if(50<Eu)throw Eu=0,np=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var To={};function Uw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,r,a,l){return new Uw(n,r,a,l)}function Yd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Er(n,r){var a=n.alternate;return a===null?(a=Bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function E_(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function oh(n,r,a,l,f,d){var _=0;if(l=n,typeof n=="function")Yd(n)&&(_=1);else if(typeof n=="string")_=FI(n,a,rt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=Bn(31,a,r,f),n.elementType=C,n.lanes=d,n;case Z:return ga(a.children,f,d,r);case K:_=8,f|=24;break;case et:return n=Bn(12,a,r,f|2),n.elementType=et,n.lanes=d,n;case at:return n=Bn(13,a,r,f),n.elementType=at,n.lanes=d,n;case ct:return n=Bn(19,a,r,f),n.elementType=ct,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:_=10;break t;case lt:_=9;break t;case ft:_=11;break t;case I:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return r=Bn(_,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function ga(n,r,a,l){return n=Bn(7,n,l,r),n.lanes=a,n}function Xd(n,r,a){return n=Bn(6,n,null,r),n.lanes=a,n}function T_(n){var r=Bn(18,null,null,0);return r.stateNode=n,r}function $d(n,r,a){return r=Bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var b_=new WeakMap;function si(n,r){if(typeof n=="object"&&n!==null){var a=b_.get(n);return a!==void 0?a:(r={value:n,source:r,stack:$r(r)},b_.set(n,r),r)}return{value:n,source:r,stack:$r(r)}}var bo=[],So=0,lh=null,Zl=0,ai=[],oi=0,as=null,nr=1,ir="";function Tr(n,r){bo[So++]=Zl,bo[So++]=lh,lh=n,Zl=r}function S_(n,r,a){ai[oi++]=nr,ai[oi++]=ir,ai[oi++]=as,as=n;var l=nr;n=ir;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,nr=1<<32-pe(r)+f|a<<f|l,ir=d+n}else nr=1<<d|a<<f|l,ir=n}function Jd(n){n.return!==null&&(Tr(n,1),S_(n,1,0))}function Wd(n){for(;n===lh;)lh=bo[--So],bo[So]=null,Zl=bo[--So],bo[So]=null;for(;n===as;)as=ai[--oi],ai[oi]=null,ir=ai[--oi],ai[oi]=null,nr=ai[--oi],ai[oi]=null}function A_(n,r){ai[oi++]=nr,ai[oi++]=ir,ai[oi++]=as,nr=r.id,ir=r.overflow,as=n}var rn=null,de=null,qt=!1,os=null,li=!1,Zd=Error(i(519));function ls(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(si(r,n)),Zd}function w_(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[xe]=n,r[Qe]=l,a){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(a=0;a<bu.length;a++)Lt(bu[a],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Lt("invalid",r),jc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",r);break;case"textarea":Lt("invalid",r),Zr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||q0(r.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",r),Lt("toggle",r)),l.onScroll!=null&&Lt("scroll",r),l.onScrollEnd!=null&&Lt("scrollend",r),l.onClick!=null&&(r.onclick=Ii),r=!0):r=!1,r||ls(n,!0)}function I_(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function Ao(n){if(n!==rn)return!1;if(!qt)return I_(n),qt=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||yp(n.type,n.memoizedProps)),a=!a),a&&de&&ls(n),I_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));de=J0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));de=J0(n)}else r===27?(r=de,bs(n.type)?(n=bp,bp=null,de=n):de=r):de=rn?ci(n.stateNode.nextSibling):null;return!0}function ya(){de=rn=null,qt=!1}function tm(){var n=os;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),os=null),n}function tu(n){os===null?os=[n]:os.push(n)}var em=x(null),_a=null,br=null;function us(n,r,a){tt(em,r._currentValue),r._currentValue=a}function Sr(n){n._currentValue=em.current,X(em)}function nm(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function im(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),nm(d.return,a,n),l||(_=null);break t}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),nm(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function wo(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var b=f.type;zn(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===Vt.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ru):n=[Ru])}f=f.return}n!==null&&im(r,n,a,l),r.flags|=262144}function uh(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function va(n){_a=n,br=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return R_(_a,n)}function ch(n,r){return _a===null&&va(n),R_(n,r)}function R_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},br===null){if(n===null)throw Error(i(308));br=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else br=br.next=r;return a}var zw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Bw=s.unstable_scheduleCallback,jw=s.unstable_NormalPriority,Me={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new zw,data:new Map,refCount:0}}function eu(n){n.refCount--,n.refCount===0&&Bw(jw,function(){n.controller.abort()})}var nu=null,sm=0,Io=0,Ro=null;function qw(n,r){if(nu===null){var a=nu=[];sm=0,Io=lp(),Ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sm++,r.then(C_,C_),r}function C_(){if(--sm===0&&nu!==null){Ro!==null&&(Ro.status="fulfilled");var n=nu;nu=null,Io=0,Ro=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Fw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var D_=q.S;q.S=function(n,r){f0=We(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qw(n,r),D_!==null&&D_(n,r)};var Ea=x(null);function am(){var n=Ea.current;return n!==null?n:ce.pooledCache}function hh(n,r){r===null?tt(Ea,Ea.current):tt(Ea,r.pool)}function N_(){var n=am();return n===null?null:{parent:Me._currentValue,pool:n}}var Co=Error(i(460)),om=Error(i(474)),fh=Error(i(542)),dh={then:function(){}};function x_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function O_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ii,Ii),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,M_(n),n;default:if(typeof r.status=="string")r.then(Ii,Ii);else{if(n=ce,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,M_(n),n}throw ba=r,Co}}function Ta(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ba=a,Co):a}}var ba=null;function V_(){if(ba===null)throw Error(i(459));var n=ba;return ba=null,n}function M_(n){if(n===Co||n===fh)throw Error(i(483))}var Do=null,iu=0;function mh(n){var r=iu;return iu+=1,Do===null&&(Do=[]),O_(Do,n,r)}function ru(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ph(n,r){throw r.$$typeof===A?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function P_(n){function r(P,O){if(n){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!n)return null;for(;O!==null;)r(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=Er(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,n?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,O,z,$){return O===null||O.tag!==6?(O=Xd(z,P.mode,$),O.return=P,O):(O=f(O,z),O.return=P,O)}function D(P,O,z,$){var vt=z.type;return vt===Z?Q(P,O,z.props.children,$,z.key):O!==null&&(O.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&Ta(vt)===O.type)?(O=f(O,z.props),ru(O,z),O.return=P,O):(O=oh(z.type,z.key,z.props,null,P.mode,$),ru(O,z),O.return=P,O)}function B(P,O,z,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=$d(z,P.mode,$),O.return=P,O):(O=f(O,z.children||[]),O.return=P,O)}function Q(P,O,z,$,vt){return O===null||O.tag!==7?(O=ga(z,P.mode,$,vt),O.return=P,O):(O=f(O,z),O.return=P,O)}function W(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xd(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return z=oh(O.type,O.key,O.props,null,P.mode,z),ru(z,O),z.return=P,z;case F:return O=$d(O,P.mode,z),O.return=P,O;case w:return O=Ta(O),W(P,O,z)}if(he(O)||k(O))return O=ga(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return W(P,mh(O),z);if(O.$$typeof===J)return W(P,ch(P,O),z);ph(P,O)}return null}function j(P,O,z,$){var vt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return vt!==null?null:b(P,O,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===vt?D(P,O,z,$):null;case F:return z.key===vt?B(P,O,z,$):null;case w:return z=Ta(z),j(P,O,z,$)}if(he(z)||k(z))return vt!==null?null:Q(P,O,z,$,null);if(typeof z.then=="function")return j(P,O,mh(z),$);if(z.$$typeof===J)return j(P,O,ch(P,z),$);ph(P,z)}return null}function G(P,O,z,$,vt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,b(O,P,""+$,vt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return P=P.get($.key===null?z:$.key)||null,D(O,P,$,vt);case F:return P=P.get($.key===null?z:$.key)||null,B(O,P,$,vt);case w:return $=Ta($),G(P,O,z,$,vt)}if(he($)||k($))return P=P.get(z)||null,Q(O,P,$,vt,null);if(typeof $.then=="function")return G(P,O,z,mh($),vt);if($.$$typeof===J)return G(P,O,z,ch(O,$),vt);ph(O,$)}return null}function mt(P,O,z,$){for(var vt=null,Gt=null,yt=O,Mt=O=0,zt=null;yt!==null&&Mt<z.length;Mt++){yt.index>Mt?(zt=yt,yt=null):zt=yt.sibling;var Kt=j(P,yt,z[Mt],$);if(Kt===null){yt===null&&(yt=zt);break}n&&yt&&Kt.alternate===null&&r(P,yt),O=d(Kt,O,Mt),Gt===null?vt=Kt:Gt.sibling=Kt,Gt=Kt,yt=zt}if(Mt===z.length)return a(P,yt),qt&&Tr(P,Mt),vt;if(yt===null){for(;Mt<z.length;Mt++)yt=W(P,z[Mt],$),yt!==null&&(O=d(yt,O,Mt),Gt===null?vt=yt:Gt.sibling=yt,Gt=yt);return qt&&Tr(P,Mt),vt}for(yt=l(yt);Mt<z.length;Mt++)zt=G(yt,P,Mt,z[Mt],$),zt!==null&&(n&&zt.alternate!==null&&yt.delete(zt.key===null?Mt:zt.key),O=d(zt,O,Mt),Gt===null?vt=zt:Gt.sibling=zt,Gt=zt);return n&&yt.forEach(function(Rs){return r(P,Rs)}),qt&&Tr(P,Mt),vt}function St(P,O,z,$){if(z==null)throw Error(i(151));for(var vt=null,Gt=null,yt=O,Mt=O=0,zt=null,Kt=z.next();yt!==null&&!Kt.done;Mt++,Kt=z.next()){yt.index>Mt?(zt=yt,yt=null):zt=yt.sibling;var Rs=j(P,yt,Kt.value,$);if(Rs===null){yt===null&&(yt=zt);break}n&&yt&&Rs.alternate===null&&r(P,yt),O=d(Rs,O,Mt),Gt===null?vt=Rs:Gt.sibling=Rs,Gt=Rs,yt=zt}if(Kt.done)return a(P,yt),qt&&Tr(P,Mt),vt;if(yt===null){for(;!Kt.done;Mt++,Kt=z.next())Kt=W(P,Kt.value,$),Kt!==null&&(O=d(Kt,O,Mt),Gt===null?vt=Kt:Gt.sibling=Kt,Gt=Kt);return qt&&Tr(P,Mt),vt}for(yt=l(yt);!Kt.done;Mt++,Kt=z.next())Kt=G(yt,P,Mt,Kt.value,$),Kt!==null&&(n&&Kt.alternate!==null&&yt.delete(Kt.key===null?Mt:Kt.key),O=d(Kt,O,Mt),Gt===null?vt=Kt:Gt.sibling=Kt,Gt=Kt);return n&&yt.forEach(function(tR){return r(P,tR)}),qt&&Tr(P,Mt),vt}function ue(P,O,z,$){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:t:{for(var vt=z.key;O!==null;){if(O.key===vt){if(vt=z.type,vt===Z){if(O.tag===7){a(P,O.sibling),$=f(O,z.props.children),$.return=P,P=$;break t}}else if(O.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&Ta(vt)===O.type){a(P,O.sibling),$=f(O,z.props),ru($,z),$.return=P,P=$;break t}a(P,O);break}else r(P,O);O=O.sibling}z.type===Z?($=ga(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=oh(z.type,z.key,z.props,null,P.mode,$),ru($,z),$.return=P,P=$)}return _(P);case F:t:{for(vt=z.key;O!==null;){if(O.key===vt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),$=f(O,z.children||[]),$.return=P,P=$;break t}else{a(P,O);break}else r(P,O);O=O.sibling}$=$d(z,P.mode,$),$.return=P,P=$}return _(P);case w:return z=Ta(z),ue(P,O,z,$)}if(he(z))return mt(P,O,z,$);if(k(z)){if(vt=k(z),typeof vt!="function")throw Error(i(150));return z=vt.call(z),St(P,O,z,$)}if(typeof z.then=="function")return ue(P,O,mh(z),$);if(z.$$typeof===J)return ue(P,O,ch(P,z),$);ph(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),$=f(O,z),$.return=P,P=$):(a(P,O),$=Xd(z,P.mode,$),$.return=P,P=$),_(P)):a(P,O)}return function(P,O,z,$){try{iu=0;var vt=ue(P,O,z,$);return Do=null,vt}catch(yt){if(yt===Co||yt===fh)throw yt;var Gt=Bn(29,yt,null,P.mode);return Gt.lanes=$,Gt.return=P,Gt}finally{}}}var Sa=P_(!0),k_=P_(!1),cs=!1;function lm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function hs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function fs(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ah(n),v_(n,null,a),r}return sh(n,l,r,a),ah(n)}function su(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ze(n,a)}}function cm(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var hm=!1;function au(){if(hm){var n=Ro;if(n!==null)throw n}}function ou(n,r,a,l){hm=!1;var f=n.updateQueue;cs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==_&&(b===null?Q.firstBaseUpdate=B:b.next=B,Q.lastBaseUpdate=D))}if(d!==null){var W=f.baseState;_=0,Q=B=D=null,b=d;do{var j=b.lane&-536870913,G=j!==b.lane;if(G?(Ut&j)===j:(l&j)===j){j!==0&&j===Io&&(hm=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var mt=n,St=b;j=r;var ue=a;switch(St.tag){case 1:if(mt=St.payload,typeof mt=="function"){W=mt.call(ue,W,j);break t}W=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=St.payload,j=typeof mt=="function"?mt.call(ue,W,j):mt,j==null)break t;W=v({},W,j);break t;case 2:cs=!0}}j=b.callback,j!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[j]:G.push(j))}else G={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(B=Q=G,D=W):Q=Q.next=G,_|=j;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(D=W),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),ys|=_,n.lanes=_,n.memoizedState=W}}function L_(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function U_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)L_(a[n],r)}var No=x(null),gh=x(0);function z_(n,r){n=Or,tt(gh,n),tt(No,r),Or=n|r.baseLanes}function fm(){tt(gh,Or),tt(No,No.current)}function dm(){Or=gh.current,X(No),X(gh)}var jn=x(null),ui=null;function ds(n){var r=n.alternate;tt(Ce,Ce.current&1),tt(jn,n),ui===null&&(r===null||No.current!==null||r.memoizedState!==null)&&(ui=n)}function mm(n){tt(Ce,Ce.current),tt(jn,n),ui===null&&(ui=n)}function B_(n){n.tag===22?(tt(Ce,Ce.current),tt(jn,n),ui===null&&(ui=n)):ms()}function ms(){tt(Ce,Ce.current),tt(jn,jn.current)}function qn(n){X(jn),ui===n&&(ui=null),X(Ce)}var Ce=x(0);function yh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ep(a)||Tp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ar=0,Nt=null,oe=null,Pe=null,_h=!1,xo=!1,Aa=!1,vh=0,lu=0,Oo=null,Hw=0;function Se(){throw Error(i(321))}function pm(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!zn(n[a],r[a]))return!1;return!0}function gm(n,r,a,l,f,d){return Ar=d,Nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=n===null||n.memoizedState===null?Sv:xm,Aa=!1,d=a(l,f),Aa=!1,xo&&(d=q_(r,a,l,f)),j_(n),d}function j_(n){q.H=hu;var r=oe!==null&&oe.next!==null;if(Ar=0,Pe=oe=Nt=null,_h=!1,lu=0,Oo=null,r)throw Error(i(300));n===null||ke||(n=n.dependencies,n!==null&&uh(n)&&(ke=!0))}function q_(n,r,a,l){Nt=n;var f=0;do{if(xo&&(Oo=null),lu=0,xo=!1,25<=f)throw Error(i(301));if(f+=1,Pe=oe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Av,d=r(a,l)}while(xo);return d}function Gw(){var n=q.H,r=n.useState()[0];return r=typeof r.then=="function"?uu(r):r,n=n.useState()[0],(oe!==null?oe.memoizedState:null)!==n&&(Nt.flags|=1024),r}function ym(){var n=vh!==0;return vh=0,n}function _m(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function vm(n){if(_h){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}_h=!1}Ar=0,Pe=oe=Nt=null,xo=!1,lu=vh=0,Oo=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Nt.memoizedState=Pe=n:Pe=Pe.next=n,Pe}function De(){if(oe===null){var n=Nt.alternate;n=n!==null?n.memoizedState:null}else n=oe.next;var r=Pe===null?Nt.memoizedState:Pe.next;if(r!==null)Pe=r,oe=n;else{if(n===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));oe=n,n={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Pe===null?Nt.memoizedState=Pe=n:Pe=Pe.next=n}return Pe}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(n){var r=lu;return lu+=1,Oo===null&&(Oo=[]),n=O_(Oo,n,r),r=Nt,(Pe===null?r.memoizedState:Pe.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Sv:xm),n}function Th(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return uu(n);if(n.$$typeof===J)return sn(n)}throw Error(i(438,String(n)))}function Em(n){var r=null,a=Nt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Eh(),Nt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=V;return r.index++,a}function wr(n,r){return typeof r=="function"?r(n):r}function bh(n){var r=De();return Tm(r,oe,n)}function Tm(n,r,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=_=null,D=null,B=r,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ut&W)===W:(Ar&W)===W){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Io&&(Q=!0);else if((Ar&j)===j){B=B.next,j===Io&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=W,_=d):D=D.next=W,Nt.lanes|=j,ys|=j;W=B.action,Aa&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else j={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=j,_=d):D=D.next=j,Nt.lanes|=W,ys|=W;B=B.next}while(B!==null&&B!==r);if(D===null?_=d:D.next=b,!zn(d,n.memoizedState)&&(ke=!0,Q&&(a=Ro,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function bm(n){var r=De(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);zn(d,r.memoizedState)||(ke=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function F_(n,r,a){var l=Nt,f=De(),d=qt;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=r();var _=!zn((oe||f).memoizedState,a);if(_&&(f.memoizedState=a,ke=!0),f=f.queue,wm(K_.bind(null,l,f,n),[n]),f.getSnapshot!==r||_||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,Vo(9,{destroy:void 0},G_.bind(null,l,f,a,r),null),ce===null)throw Error(i(349));d||(Ar&127)!==0||H_(l,r,a)}return a}function H_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Nt.updateQueue,r===null?(r=Eh(),Nt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function G_(n,r,a,l){r.value=a,r.getSnapshot=l,Q_(r)&&Y_(n)}function K_(n,r,a){return a(function(){Q_(r)&&Y_(n)})}function Q_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!zn(n,a)}catch{return!0}}function Y_(n){var r=pa(n,2);r!==null&&Nn(r,n,2)}function Sm(n){var r=_n();if(typeof n=="function"){var a=n;if(n=a(),Aa){pn(!0);try{a()}finally{pn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:n},r}function X_(n,r,a,l){return n.baseState=a,Tm(n,oe,typeof l=="function"?l:wr)}function Kw(n,r,a,l,f){if(wh(n))throw Error(i(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,$_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function $_(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=q.T,_={};q.T=_;try{var b=a(f,l),D=q.S;D!==null&&D(_,b),J_(n,r,b)}catch(B){Am(n,r,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),q.T=d}}else try{d=a(f,l),J_(n,r,d)}catch(B){Am(n,r,B)}}function J_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){W_(n,r,l)},function(l){return Am(n,r,l)}):W_(n,r,a)}function W_(n,r,a){r.status="fulfilled",r.value=a,Z_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,$_(n,a)))}function Am(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Z_(r),r=r.next;while(r!==l)}n.action=null}function Z_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function tv(n,r){return r}function ev(n,r){if(qt){var a=ce.formState;if(a!==null){t:{var l=Nt;if(qt){if(de){e:{for(var f=de,d=li;f.nodeType!==8;){if(!d){f=null;break e}if(f=ci(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){de=ci(f.nextSibling),l=f.data==="F!";break t}}ls(l)}l=!1}l&&(r=a[0])}}return a=_n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tv,lastRenderedState:r},a.queue=l,a=Ev.bind(null,Nt,l),l.dispatch=a,l=Sm(!1),d=Nm.bind(null,Nt,!1,l.queue),l=_n(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=Kw.bind(null,Nt,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function nv(n){var r=De();return iv(r,oe,n)}function iv(n,r,a){if(r=Tm(n,r,tv)[0],n=bh(wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=uu(r)}catch(_){throw _===Co?fh:_}else l=r;r=De();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Nt.flags|=2048,Vo(9,{destroy:void 0},Qw.bind(null,f,a),null)),[l,d,n]}function Qw(n,r){n.action=r}function rv(n){var r=De(),a=oe;if(a!==null)return iv(r,a,n);De(),r=r.memoizedState,a=De();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Vo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Nt.updateQueue,r===null&&(r=Eh(),Nt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function sv(){return De().memoizedState}function Sh(n,r,a,l){var f=_n();Nt.flags|=n,f.memoizedState=Vo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ah(n,r,a,l){var f=De();l=l===void 0?null:l;var d=f.memoizedState.inst;oe!==null&&l!==null&&pm(l,oe.memoizedState.deps)?f.memoizedState=Vo(r,d,a,l):(Nt.flags|=n,f.memoizedState=Vo(1|r,d,a,l))}function av(n,r){Sh(8390656,8,n,r)}function wm(n,r){Ah(2048,8,n,r)}function Yw(n){Nt.flags|=4;var r=Nt.updateQueue;if(r===null)r=Eh(),Nt.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function ov(n){var r=De().memoizedState;return Yw({ref:r,nextImpl:n}),function(){if((Xt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function lv(n,r){return Ah(4,2,n,r)}function uv(n,r){return Ah(4,4,n,r)}function cv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function hv(n,r,a){a=a!=null?a.concat([n]):null,Ah(4,4,cv.bind(null,r,n),a)}function Im(){}function fv(n,r){var a=De();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&pm(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function dv(n,r){var a=De();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&pm(r,l[1]))return l[0];if(l=n(),Aa){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[l,r],l}function Rm(n,r,a){return a===void 0||(Ar&1073741824)!==0&&(Ut&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=m0(),Nt.lanes|=n,ys|=n,a)}function mv(n,r,a,l){return zn(a,r)?a:No.current!==null?(n=Rm(n,a,l),zn(n,r)||(ke=!0),n):(Ar&42)===0||(Ar&1073741824)!==0&&(Ut&261930)===0?(ke=!0,n.memoizedState=a):(n=m0(),Nt.lanes|=n,ys|=n,r)}function pv(n,r,a,l,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=q.T,b={};q.T=b,Nm(n,!1,r,a);try{var D=f(),B=q.S;if(B!==null&&B(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=Fw(D,l);cu(n,r,Q,Gn(n))}else cu(n,r,l,Gn(n))}catch(W){cu(n,r,{then:function(){},status:"rejected",reason:W},Gn())}finally{nt.p=d,_!==null&&b.types!==null&&(_.types=b.types),q.T=_}}function Xw(){}function Cm(n,r,a,l){if(n.tag!==5)throw Error(i(476));var f=gv(n).queue;pv(n,f,r,gt,a===null?Xw:function(){return yv(n),a(l)})}function gv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:gt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function yv(n){var r=gv(n);r.next===null&&(r=n.alternate.memoizedState),cu(n,r.next.queue,{},Gn())}function Dm(){return sn(Ru)}function _v(){return De().memoizedState}function vv(){return De().memoizedState}function $w(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Gn();n=hs(a);var l=fs(r,n,a);l!==null&&(Nn(l,r,a),su(l,r,a)),r={cache:rm()},n.payload=r;return}r=r.return}}function Jw(n,r,a){var l=Gn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wh(n)?Tv(r,a):(a=Qd(n,r,a,l),a!==null&&(Nn(a,n,l),bv(a,r,l)))}function Ev(n,r,a){var l=Gn();cu(n,r,a,l)}function cu(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wh(n))Tv(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,zn(b,_))return sh(n,r,f,0),ce===null&&rh(),!1}catch{}finally{}if(a=Qd(n,r,f,l),a!==null)return Nn(a,n,l),bv(a,r,l),!0}return!1}function Nm(n,r,a,l){if(l={lane:2,revertLane:lp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wh(n)){if(r)throw Error(i(479))}else r=Qd(n,a,l,2),r!==null&&Nn(r,n,2)}function wh(n){var r=n.alternate;return n===Nt||r!==null&&r===Nt}function Tv(n,r){xo=_h=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function bv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ze(n,a)}}var hu={readContext:sn,use:Th,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};hu.useEffectEvent=Se;var Sv={readContext:sn,use:Th,useCallback:function(n,r){return _n().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:av,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Sh(4194308,4,cv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Sh(4194308,4,n,r)},useInsertionEffect:function(n,r){Sh(4,2,n,r)},useMemo:function(n,r){var a=_n();r=r===void 0?null:r;var l=n();if(Aa){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=_n();if(a!==void 0){var f=a(r);if(Aa){pn(!0);try{a(r)}finally{pn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Jw.bind(null,Nt,n),[l.memoizedState,n]},useRef:function(n){var r=_n();return n={current:n},r.memoizedState=n},useState:function(n){n=Sm(n);var r=n.queue,a=Ev.bind(null,Nt,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Im,useDeferredValue:function(n,r){var a=_n();return Rm(a,n,r)},useTransition:function(){var n=Sm(!1);return n=pv.bind(null,Nt,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Nt,f=_n();if(qt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),ce===null)throw Error(i(349));(Ut&127)!==0||H_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,av(K_.bind(null,l,d,n),[n]),l.flags|=2048,Vo(9,{destroy:void 0},G_.bind(null,l,d,a,r),null),a},useId:function(){var n=_n(),r=ce.identifierPrefix;if(qt){var a=ir,l=nr;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=vh++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Hw++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Dm,useFormState:ev,useActionState:ev,useOptimistic:function(n){var r=_n();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Nm.bind(null,Nt,!0,a),a.dispatch=r,[n,r]},useMemoCache:Em,useCacheRefresh:function(){return _n().memoizedState=$w.bind(null,Nt)},useEffectEvent:function(n){var r=_n(),a={impl:n};return r.memoizedState=a,function(){if((Xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},xm={readContext:sn,use:Th,useCallback:fv,useContext:sn,useEffect:wm,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:bh,useRef:sv,useState:function(){return bh(wr)},useDebugValue:Im,useDeferredValue:function(n,r){var a=De();return mv(a,oe.memoizedState,n,r)},useTransition:function(){var n=bh(wr)[0],r=De().memoizedState;return[typeof n=="boolean"?n:uu(n),r]},useSyncExternalStore:F_,useId:_v,useHostTransitionStatus:Dm,useFormState:nv,useActionState:nv,useOptimistic:function(n,r){var a=De();return X_(a,oe,n,r)},useMemoCache:Em,useCacheRefresh:vv};xm.useEffectEvent=ov;var Av={readContext:sn,use:Th,useCallback:fv,useContext:sn,useEffect:wm,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:bm,useRef:sv,useState:function(){return bm(wr)},useDebugValue:Im,useDeferredValue:function(n,r){var a=De();return oe===null?Rm(a,n,r):mv(a,oe.memoizedState,n,r)},useTransition:function(){var n=bm(wr)[0],r=De().memoizedState;return[typeof n=="boolean"?n:uu(n),r]},useSyncExternalStore:F_,useId:_v,useHostTransitionStatus:Dm,useFormState:rv,useActionState:rv,useOptimistic:function(n,r){var a=De();return oe!==null?X_(a,oe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Em,useCacheRefresh:vv};Av.useEffectEvent=ov;function Om(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Vm={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Gn(),f=hs(l);f.payload=r,a!=null&&(f.callback=a),r=fs(n,f,l),r!==null&&(Nn(r,n,l),su(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Gn(),f=hs(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=fs(n,f,l),r!==null&&(Nn(r,n,l),su(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Gn(),l=hs(a);l.tag=2,r!=null&&(l.callback=r),r=fs(n,l,a),r!==null&&(Nn(r,n,a),su(r,n,a))}};function wv(n,r,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Jl(a,l)||!Jl(f,d):!0}function Iv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Vm.enqueueReplaceState(r,r.state,null)}function wa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Rv(n){ih(n)}function Cv(n){console.error(n)}function Dv(n){ih(n)}function Ih(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Nv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mm(n,r,a){return a=hs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ih(n,r)},a}function xv(n){return n=hs(n),n.tag=3,n}function Ov(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Nv(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Nv(r,a,l),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Ww(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&wo(r,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?Uh():a.alternate===null&&Ae===0&&(Ae=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===dh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),sp(n,l,f)),!1;case 22:return a.flags|=65536,l===dh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),sp(n,l,f)),!1}throw Error(i(435,a.tag))}return sp(n,l,f),Uh(),!1}if(qt)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Zd&&(n=Error(i(422),{cause:l}),tu(si(n,a)))):(l!==Zd&&(r=Error(i(423),{cause:l}),tu(si(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=si(l,a),f=Mm(n.stateNode,l,f),cm(n,f),Ae!==4&&(Ae=2)),!1;var d=Error(i(520),{cause:l});if(d=si(d,a),vu===null?vu=[d]:vu.push(d),Ae!==4&&(Ae=2),r===null)return!0;l=si(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Mm(a.stateNode,l,n),cm(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_s===null||!_s.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=xv(f),Ov(f,n,a,l),cm(a,f),!1}a=a.return}while(a!==null);return!1}var Pm=Error(i(461)),ke=!1;function an(n,r,a,l){r.child=n===null?k_(r,null,a,l):Sa(r,n.child,a,l)}function Vv(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return va(r),l=gm(n,r,a,_,d,f),b=ym(),n!==null&&!ke?(_m(n,r,f),Ir(n,r,f)):(qt&&b&&Jd(r),r.flags|=1,an(n,r,l,f),r.child)}function Mv(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Yd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Pv(n,r,d,l,f)):(n=oh(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Fm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jl,a(_,l)&&n.ref===r.ref)return Ir(n,r,f)}return r.flags|=1,n=Er(d,l),n.ref=r.ref,n.return=r,r.child=n}function Pv(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Jl(d,l)&&n.ref===r.ref)if(ke=!1,r.pendingProps=l=d,Fm(n,f))(n.flags&131072)!==0&&(ke=!0);else return r.lanes=n.lanes,Ir(n,r,f)}return km(n,r,a,l,f)}function kv(n,r,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Lv(n,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&hh(r,d!==null?d.cachePool:null),d!==null?z_(r,d):fm(),B_(r);else return l=r.lanes=536870912,Lv(n,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hh(r,d.cachePool),z_(r,d),ms(),r.memoizedState=null):(n!==null&&hh(r,null),fm(),ms());return an(n,r,f,a),r.child}function fu(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Lv(n,r,a,l,f){var d=am();return d=d===null?null:{parent:Me._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&hh(r,null),fm(),B_(r),n!==null&&wo(n,r,l,!0),r.childLanes=f,null}function Rh(n,r){return r=Dh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Uv(n,r,a){return Sa(r,n.child,null,a),n=Rh(r,r.pendingProps),n.flags|=2,qn(r),r.memoizedState=null,n}function Zw(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(qt){if(l.mode==="hidden")return n=Rh(r,l),r.lanes=536870912,fu(null,n);if(mm(r),(n=de)?(n=$0(n,li),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:as!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=T_(n),a.return=r,r.child=a,rn=r,de=null)):n=null,n===null)throw ls(r);return r.lanes=536870912,null}return Rh(r,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(mm(r),f)if(r.flags&256)r.flags&=-257,r=Uv(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(ke||wo(n,r,a,!1),f=(a&n.childLanes)!==0,ke||f){if(l=ce,l!==null&&(_=tn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,pa(n,_),Nn(l,n,_),Pm;Uh(),r=Uv(n,r,a)}else n=d.treeContext,de=ci(_.nextSibling),rn=r,qt=!0,os=null,li=!1,n!==null&&A_(r,n),r=Rh(r,l),r.flags|=4096;return r}return n=Er(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ch(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function km(n,r,a,l,f){return va(r),a=gm(n,r,a,l,void 0,f),l=ym(),n!==null&&!ke?(_m(n,r,f),Ir(n,r,f)):(qt&&l&&Jd(r),r.flags|=1,an(n,r,a,f),r.child)}function zv(n,r,a,l,f,d){return va(r),r.updateQueue=null,a=q_(r,l,a,f),j_(n),l=ym(),n!==null&&!ke?(_m(n,r,d),Ir(n,r,d)):(qt&&l&&Jd(r),r.flags|=1,an(n,r,a,d),r.child)}function Bv(n,r,a,l,f){if(va(r),r.stateNode===null){var d=To,_=a.contextType;typeof _=="object"&&_!==null&&(d=sn(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},lm(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?sn(_):To,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Om(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Vm.enqueueReplaceState(d,d.state,null),ou(r,l,d,f),au(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,D=wa(a,b);d.props=D;var B=d.context,Q=a.contextType;_=To,typeof Q=="object"&&Q!==null&&(_=sn(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==_)&&Iv(r,d,l,_),cs=!1;var j=r.memoizedState;d.state=j,ou(r,l,d,f),au(),B=r.memoizedState,b||j!==B||cs?(typeof W=="function"&&(Om(r,a,W,l),B=r.memoizedState),(D=cs||wv(r,a,D,l,j,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,um(n,r),_=r.memoizedProps,Q=wa(a,_),d.props=Q,W=r.pendingProps,j=d.context,B=a.contextType,D=To,typeof B=="object"&&B!==null&&(D=sn(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||j!==D)&&Iv(r,d,l,D),cs=!1,j=r.memoizedState,d.state=j,ou(r,l,d,f),au();var G=r.memoizedState;_!==W||j!==G||cs||n!==null&&n.dependencies!==null&&uh(n.dependencies)?(typeof b=="function"&&(Om(r,a,b,l),G=r.memoizedState),(Q=cs||wv(r,a,Q,l,j,G,D)||n!==null&&n.dependencies!==null&&uh(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=D,l=Q):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ch(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Sa(r,n.child,null,f),r.child=Sa(r,null,a,f)):an(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Ir(n,r,f),n}function jv(n,r,a,l){return ya(),r.flags|=256,an(n,r,a,l),r.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(n){return{baseLanes:n,cachePool:N_()}}function zm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Hn),n}function qv(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Ce.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(qt){if(f?ds(r):ms(),(n=de)?(n=$0(n,li),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:as!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=T_(n),a.return=r,r.child=a,rn=r,de=null)):n=null,n===null)throw ls(r);return Tp(n)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(ms(),f=r.mode,b=Dh({mode:"hidden",children:b},f),l=ga(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Um(a),l.childLanes=zm(n,_,a),r.memoizedState=Lm,fu(null,l)):(ds(r),Bm(r,b))}var D=n.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(ds(r),r.flags&=-257,r=jm(n,r,a)):r.memoizedState!==null?(ms(),r.child=n.child,r.flags|=128,r=null):(ms(),b=l.fallback,f=r.mode,l=Dh({mode:"visible",children:l.children},f),b=ga(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Sa(r,n.child,null,a),l=r.child,l.memoizedState=Um(a),l.childLanes=zm(n,_,a),r.memoizedState=Lm,r=fu(null,l));else if(ds(r),Tp(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(i(419)),l.stack="",l.digest=_,tu({value:l,source:null,stack:null}),r=jm(n,r,a)}else if(ke||wo(n,r,a,!1),_=(a&n.childLanes)!==0,ke||_){if(_=ce,_!==null&&(l=tn(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,pa(n,l),Nn(_,n,l),Pm;Ep(b)||Uh(),r=jm(n,r,a)}else Ep(b)?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,de=ci(b.nextSibling),rn=r,qt=!0,os=null,li=!1,n!==null&&A_(r,n),r=Bm(r,l.children),r.flags|=4096);return r}return f?(ms(),b=l.fallback,f=r.mode,D=n.child,B=D.sibling,l=Er(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?b=Er(B,b):(b=ga(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,fu(null,l),l=r.child,b=n.child.memoizedState,b===null?b=Um(a):(f=b.cachePool,f!==null?(D=Me._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=N_(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=zm(n,_,a),r.memoizedState=Lm,fu(n.child,l)):(ds(r),a=n.child,n=a.sibling,a=Er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Bm(n,r){return r=Dh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Dh(n,r){return n=Bn(22,n,null,r),n.lanes=0,n}function jm(n,r,a){return Sa(r,n.child,null,a),n=Bm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Fv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),nm(n.return,r,a)}function qm(n,r,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Hv(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ce.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,tt(Ce,_),an(n,r,l,a),l=qt?Zl:0,!b&&n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fv(n,a,r);else if(n.tag===19)Fv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&yh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),qm(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&yh(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}qm(r,!0,a,null,d,l);break;case"together":qm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ir(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ys|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(wo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,a=Er(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Er(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Fm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&uh(n)))}function tI(n,r,a){switch(r.tag){case 3:Rt(r,r.stateNode.containerInfo),us(r,Me,n.memoizedState.cache),ya();break;case 27:case 5:Jn(r);break;case 4:Rt(r,r.stateNode.containerInfo);break;case 10:us(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mm(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ds(r),r.flags|=128,null):(a&r.child.childLanes)!==0?qv(n,r,a):(ds(r),n=Ir(n,r,a),n!==null?n.sibling:null);ds(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(wo(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Hv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(Ce,Ce.current),l)break;return null;case 22:return r.lanes=0,kv(n,r,a,r.pendingProps);case 24:us(r,Me,n.memoizedState.cache)}return Ir(n,r,a)}function Gv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)ke=!0;else{if(!Fm(n,a)&&(r.flags&128)===0)return ke=!1,tI(n,r,a);ke=(n.flags&131072)!==0}else ke=!1,qt&&(r.flags&1048576)!==0&&S_(r,Zl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(n=Ta(r.elementType),r.type=n,typeof n=="function")Yd(n)?(l=wa(n,l),r.tag=1,r=Bv(null,r,n,l,a)):(r.tag=0,r=km(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ft){r.tag=11,r=Vv(null,r,n,l,a);break t}else if(f===I){r.tag=14,r=Mv(null,r,n,l,a);break t}}throw r=Zt(n)||n,Error(i(306,r,""))}}return r;case 0:return km(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=wa(l,r.pendingProps),Bv(n,r,l,f,a);case 3:t:{if(Rt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,um(n,r),ou(r,l,null,a);var _=r.memoizedState;if(l=_.cache,us(r,Me,l),l!==d.cache&&im(r,[Me],a,!0),au(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=jv(n,r,l,a);break t}else if(l!==f){f=si(Error(i(424)),r),tu(f),r=jv(n,r,l,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(de=ci(n.firstChild),rn=r,qt=!0,os=null,li=!0,a=k_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ya(),l===f){r=Ir(n,r,a);break t}an(n,r,l,a)}r=r.child}return r;case 26:return Ch(n,r),n===null?(a=nE(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,n=r.pendingProps,l=Gh(Et.current).createElement(a),l[xe]=r,l[Qe]=n,on(l,a,n),Oe(l),r.stateNode=l):r.memoizedState=nE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Jn(r),n===null&&qt&&(l=r.stateNode=Z0(r.type,r.pendingProps,Et.current),rn=r,li=!0,f=de,bs(r.type)?(bp=f,de=ci(l.firstChild)):de=f),an(n,r,r.pendingProps.children,a),Ch(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qt&&((f=l=de)&&(l=NI(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,rn=r,de=ci(l.firstChild),li=!1,f=!0):f=!1),f||ls(r)),Jn(r),f=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,yp(f,d)?l=null:_!==null&&yp(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=gm(n,r,Gw,null,null,a),Ru._currentValue=f),Ch(n,r),an(n,r,l,a),r.child;case 6:return n===null&&qt&&((n=a=de)&&(a=xI(a,r.pendingProps,li),a!==null?(r.stateNode=a,rn=r,de=null,n=!0):n=!1),n||ls(r)),null;case 13:return qv(n,r,a);case 4:return Rt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Sa(r,null,l,a):an(n,r,l,a),r.child;case 11:return Vv(n,r,r.type,r.pendingProps,a);case 7:return an(n,r,r.pendingProps,a),r.child;case 8:return an(n,r,r.pendingProps.children,a),r.child;case 12:return an(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,us(r,r.type,l.value),an(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,va(r),f=sn(f),l=l(f),r.flags|=1,an(n,r,l,a),r.child;case 14:return Mv(n,r,r.type,r.pendingProps,a);case 15:return Pv(n,r,r.type,r.pendingProps,a);case 19:return Hv(n,r,a);case 31:return Zw(n,r,a);case 22:return kv(n,r,a,r.pendingProps);case 24:return va(r),l=sn(Me),n===null?(f=am(),f===null&&(f=ce,d=rm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},lm(r),us(r,Me,f)):((n.lanes&a)!==0&&(um(n,r),ou(r,null,null,a),au()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),us(r,Me,l)):(l=d.cache,us(r,Me,l),l!==f.cache&&im(r,[Me],a,!0))),an(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Rr(n){n.flags|=4}function Hm(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_0())n.flags|=8192;else throw ba=dh,om}else n.flags&=-16777217}function Kv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oE(r))if(_0())n.flags|=8192;else throw ba=dh,om}function Nh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ke():536870912,n.lanes|=r,Lo|=r)}function du(n,r){if(!qt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function me(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function eI(n,r,a){var l=r.pendingProps;switch(Wd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(r),null;case 1:return me(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Sr(Me),Qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ao(r)?Rr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tm())),me(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(Rr(r),d!==null?(me(r),Kv(r,d)):(me(r),Hm(r,f,null,l,a))):d?d!==n.memoizedState?(Rr(r),me(r),Kv(r,d)):(me(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&Rr(r),me(r),Hm(r,f,n,l,a)),null;case 27:if(_i(r),a=Et.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Rr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return me(r),null}n=rt.current,Ao(r)?w_(r):(n=Z0(f,l,a),r.stateNode=n,Rr(r))}return me(r),null;case 5:if(_i(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Rr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return me(r),null}if(d=rt.current,Ao(r))w_(r);else{var _=Gh(Et.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[xe]=r,d[Qe]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(on(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Rr(r)}}return me(r),Hm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(n=Et.current,Ao(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[xe]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q0(n.nodeValue,a)),n||ls(r,!0)}else n=Gh(n).createTextNode(l),n[xe]=r,r.stateNode=n}return me(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=Ao(r),a!==null){if(n===null){if(!l)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[xe]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;me(r),n=!1}else a=tm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(qn(r),r):(qn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return me(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ao(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[xe]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;me(r),f=!1}else f=tm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(qn(r),r):(qn(r),null)}return qn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Nh(r,r.updateQueue),me(r),null);case 4:return Qt(),n===null&&fp(r.stateNode.containerInfo),me(r),null;case 10:return Sr(r.type),me(r),null;case 19:if(X(Ce),l=r.memoizedState,l===null)return me(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)du(l,!1);else{if(Ae!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=yh(n),d!==null){for(r.flags|=128,du(l,!1),n=d.updateQueue,r.updateQueue=n,Nh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)E_(a,n),a=a.sibling;return tt(Ce,Ce.current&1|2),qt&&Tr(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&We()>Ph&&(r.flags|=128,f=!0,du(l,!1),r.lanes=4194304)}else{if(!f)if(n=yh(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Nh(r,n),du(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return me(r),null}else 2*We()-l.renderingStartTime>Ph&&a!==536870912&&(r.flags|=128,f=!0,du(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(n=l.last,n!==null?n.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=We(),n.sibling=null,a=Ce.current,tt(Ce,f?a&1|2:a&1),qt&&Tr(r,l.treeForkCount),n):(me(r),null);case 22:case 23:return qn(r),dm(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(me(r),r.subtreeFlags&6&&(r.flags|=8192)):me(r),a=r.updateQueue,a!==null&&Nh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&X(Ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Sr(Me),me(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function nI(n,r){switch(Wd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Sr(Me),Qt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return _i(r),null;case 31:if(r.memoizedState!==null){if(qn(r),r.alternate===null)throw Error(i(340));ya()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(qn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ya()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return X(Ce),null;case 4:return Qt(),null;case 10:return Sr(r.type),null;case 22:case 23:return qn(r),dm(),n!==null&&X(Ea),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Sr(Me),null;case 25:return null;default:return null}}function Qv(n,r){switch(Wd(r),r.tag){case 3:Sr(Me),Qt();break;case 26:case 27:case 5:_i(r);break;case 4:Qt();break;case 31:r.memoizedState!==null&&qn(r);break;case 13:qn(r);break;case 19:X(Ce);break;case 10:Sr(r.type);break;case 22:case 23:qn(r),dm(),n!==null&&X(Ea);break;case 24:Sr(Me)}}function mu(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){ne(r,r.return,b)}}function ps(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var D=a,B=b;try{B()}catch(Q){ne(f,D,Q)}}}l=l.next}while(l!==d)}}catch(Q){ne(r,r.return,Q)}}function Yv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{U_(r,a)}catch(l){ne(n,n.return,l)}}}function Xv(n,r,a){a.props=wa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ne(n,r,l)}}function pu(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ne(n,r,f)}}function rr(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ne(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ne(n,r,f)}else a.current=null}function $v(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ne(n,n.return,f)}}function Gm(n,r,a){try{var l=n.stateNode;AI(l,n.type,a,r),l[Qe]=r}catch(f){ne(n,n.return,f)}}function Jv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&bs(n.type)||n.tag===4}function Km(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Jv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&bs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ii));else if(l!==4&&(l===27&&bs(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Qm(n,r,a),n=n.sibling;n!==null;)Qm(n,r,a),n=n.sibling}function xh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&bs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(xh(n,r,a),n=n.sibling;n!==null;)xh(n,r,a),n=n.sibling}function Wv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);on(r,l,a),r[xe]=n,r[Qe]=a}catch(d){ne(n,n.return,d)}}var Cr=!1,Le=!1,Ym=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function iI(n,r){if(n=n.containerInfo,pp=Wh,n=h_(n),jd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,D=-1,B=0,Q=0,W=n,j=null;e:for(;;){for(var G;W!==a||f!==0&&W.nodeType!==3||(b=_+f),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)j=W,W=G;for(;;){if(W===n)break e;if(j===a&&++B===f&&(b=_),j===d&&++Q===l&&(D=_),(G=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=G}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(gp={focusedElem:n,selectionRange:a},Wh=!1,Xe=r;Xe!==null;)if(r=Xe,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Xe=n;else for(;Xe!==null;){switch(r=Xe,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=wa(a.type,f);n=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(St){ne(a,a.return,St)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)vp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Xe=n;break}Xe=r.return}}function t0(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(n,a),l&4&&mu(5,a);break;case 1:if(Nr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){ne(a,a.return,_)}else{var f=wa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){ne(a,a.return,_)}}l&64&&Yv(a),l&512&&pu(a,a.return);break;case 3:if(Nr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{U_(n,r)}catch(_){ne(a,a.return,_)}}break;case 27:r===null&&l&4&&Wv(a);case 26:case 5:Nr(n,a),r===null&&l&4&&$v(a),l&512&&pu(a,a.return);break;case 12:Nr(n,a);break;case 31:Nr(n,a),l&4&&i0(n,a);break;case 13:Nr(n,a),l&4&&r0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=fI.bind(null,a),OI(n,a))));break;case 22:if(l=a.memoizedState!==null||Cr,!l){r=r!==null&&r.memoizedState!==null||Le,f=Cr;var d=Le;Cr=l,(Le=r)&&!d?xr(n,a,(a.subtreeFlags&8772)!==0):Nr(n,a),Cr=f,Le=d}break;case 30:break;default:Nr(n,a)}}function e0(n){var r=n.alternate;r!==null&&(n.alternate=null,e0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ao(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ye=null,In=!1;function Dr(n,r,a){for(a=a.child;a!==null;)n0(n,r,a),a=a.sibling}function n0(n,r,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:Le||rr(a,r),Dr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Le||rr(a,r);var l=ye,f=In;bs(a.type)&&(ye=a.stateNode,In=!1),Dr(n,r,a),Au(a.stateNode),ye=l,In=f;break;case 5:Le||rr(a,r);case 6:if(l=ye,f=In,ye=null,Dr(n,r,a),ye=l,In=f,ye!==null)if(In)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){ne(a,r,d)}else try{ye.removeChild(a.stateNode)}catch(d){ne(a,r,d)}break;case 18:ye!==null&&(In?(n=ye,Y0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Go(n)):Y0(ye,a.stateNode));break;case 4:l=ye,f=In,ye=a.stateNode.containerInfo,In=!0,Dr(n,r,a),ye=l,In=f;break;case 0:case 11:case 14:case 15:ps(2,a,r),Le||ps(4,a,r),Dr(n,r,a);break;case 1:Le||(rr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xv(a,r,l)),Dr(n,r,a);break;case 21:Dr(n,r,a);break;case 22:Le=(l=Le)||a.memoizedState!==null,Dr(n,r,a),Le=l;break;default:Dr(n,r,a)}}function i0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Go(n)}catch(a){ne(r,r.return,a)}}}function r0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Go(n)}catch(a){ne(r,r.return,a)}}function rI(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Zv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Zv),r;default:throw Error(i(435,n.tag))}}function Oh(n,r){var a=rI(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=dI.bind(null,n,l);l.then(f,f)}})}function Rn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=r,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(bs(b.type)){ye=b.stateNode,In=!1;break t}break;case 5:ye=b.stateNode,In=!1;break t;case 3:case 4:ye=b.stateNode.containerInfo,In=!0;break t}b=b.return}if(ye===null)throw Error(i(160));n0(d,_,f),ye=null,In=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)s0(r,n),r=r.sibling}var Oi=null;function s0(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(r,n),Cn(n),l&4&&(ps(3,n,n.return),mu(3,n),ps(5,n,n.return));break;case 1:Rn(r,n),Cn(n),l&512&&(Le||a===null||rr(a,a.return)),l&64&&Cr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Oi;if(Rn(r,n),Cn(n),l&512&&(Le||a===null||rr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Hi]||d[xe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),on(d,l,a),d[xe]=n,Oe(d),l=d;break t;case"link":var _=sE("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=f.createElement(l),on(d,l,a),f.head.appendChild(d);break;case"meta":if(_=sE("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=f.createElement(l),on(d,l,a),f.head.appendChild(d);break;default:throw Error(i(468,l))}d[xe]=n,Oe(d),l=d}n.stateNode=l}else aE(f,n.type,n.stateNode);else n.stateNode=rE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?aE(f,n.type,n.stateNode):rE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Gm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,n),Cn(n),l&512&&(Le||a===null||rr(a,a.return)),a!==null&&l&4&&Gm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,n),Cn(n),l&512&&(Le||a===null||rr(a,a.return)),n.flags&32){f=n.stateNode;try{wn(f,"")}catch(mt){ne(n,n.return,mt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Gm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Ym=!0);break;case 6:if(Rn(r,n),Cn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(mt){ne(n,n.return,mt)}}break;case 3:if(Yh=null,f=Oi,Oi=Kh(r.containerInfo),Rn(r,n),Oi=f,Cn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Go(r.containerInfo)}catch(mt){ne(n,n.return,mt)}Ym&&(Ym=!1,a0(n));break;case 4:l=Oi,Oi=Kh(n.stateNode.containerInfo),Rn(r,n),Cn(n),Oi=l;break;case 12:Rn(r,n),Cn(n);break;case 31:Rn(r,n),Cn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Oh(n,l)));break;case 13:Rn(r,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mh=We()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Oh(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Cr,Q=Le;if(Cr=B||f,Le=Q||D,Rn(r,n),Le=Q,Cr=B,Cn(n),l&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||Cr||Le||Ia(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var W=D.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(mt){ne(D,D.return,mt)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(mt){ne(D,D.return,mt)}}}else if(r.tag===18){if(a===null){D=r;try{var G=D.stateNode;f?X0(G,!0):X0(D.stateNode,!1)}catch(mt){ne(D,D.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oh(n,a))));break;case 19:Rn(r,n),Cn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Oh(n,l)));break;case 30:break;case 21:break;default:Rn(r,n),Cn(n)}}function Cn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Jv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,d=Km(n);xh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(wn(_,""),a.flags&=-33);var b=Km(n);xh(n,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Km(n);Qm(n,B,D);break;default:throw Error(i(161))}}catch(Q){ne(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function a0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;a0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Nr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)t0(n,r.alternate,r),r=r.sibling}function Ia(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ps(4,r,r.return),Ia(r);break;case 1:rr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Xv(r,r.return,a),Ia(r);break;case 27:Au(r.stateNode);case 26:case 5:rr(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}n=n.sibling}}function xr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:xr(f,d,a),mu(4,d);break;case 1:if(xr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){ne(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)L_(D[f],b)}catch(B){ne(l,l.return,B)}}a&&_&64&&Yv(d),pu(d,d.return);break;case 27:Wv(d);case 26:case 5:xr(f,d,a),a&&l===null&&_&4&&$v(d),pu(d,d.return);break;case 12:xr(f,d,a);break;case 31:xr(f,d,a),a&&_&4&&i0(f,d);break;case 13:xr(f,d,a),a&&_&4&&r0(f,d);break;case 22:d.memoizedState===null&&xr(f,d,a),pu(d,d.return);break;case 30:break;default:xr(f,d,a)}r=r.sibling}}function Xm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&eu(a))}function $m(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&eu(n))}function Vi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o0(n,r,a,l),r=r.sibling}function o0(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Vi(n,r,a,l),f&2048&&mu(9,r);break;case 1:Vi(n,r,a,l);break;case 3:Vi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&eu(n)));break;case 12:if(f&2048){Vi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ne(r,r.return,D)}}else Vi(n,r,a,l);break;case 31:Vi(n,r,a,l);break;case 13:Vi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Vi(n,r,a,l):gu(n,r):d._visibility&2?Vi(n,r,a,l):(d._visibility|=2,Mo(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Xm(_,r);break;case 24:Vi(n,r,a,l),f&2048&&$m(r.alternate,r);break;default:Vi(n,r,a,l)}}function Mo(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,_=r,b=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Mo(d,_,b,D,f),mu(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Mo(d,_,b,D,f):gu(d,_):(Q._visibility|=2,Mo(d,_,b,D,f)),f&&B&2048&&Xm(_.alternate,_);break;case 24:Mo(d,_,b,D,f),f&&B&2048&&$m(_.alternate,_);break;default:Mo(d,_,b,D,f)}r=r.sibling}}function gu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:gu(a,l),f&2048&&Xm(l.alternate,l);break;case 24:gu(a,l),f&2048&&$m(l.alternate,l);break;default:gu(a,l)}r=r.sibling}}var yu=8192;function Po(n,r,a){if(n.subtreeFlags&yu)for(n=n.child;n!==null;)l0(n,r,a),n=n.sibling}function l0(n,r,a){switch(n.tag){case 26:Po(n,r,a),n.flags&yu&&n.memoizedState!==null&&HI(a,Oi,n.memoizedState,n.memoizedProps);break;case 5:Po(n,r,a);break;case 3:case 4:var l=Oi;Oi=Kh(n.stateNode.containerInfo),Po(n,r,a),Oi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=yu,yu=16777216,Po(n,r,a),yu=l):Po(n,r,a));break;default:Po(n,r,a)}}function u0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function _u(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xe=l,h0(l,n)}u0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c0(n),n=n.sibling}function c0(n){switch(n.tag){case 0:case 11:case 15:_u(n),n.flags&2048&&ps(9,n,n.return);break;case 3:_u(n);break;case 12:_u(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Vh(n)):_u(n);break;default:_u(n)}}function Vh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xe=l,h0(l,n)}u0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ps(8,r,r.return),Vh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vh(r));break;default:Vh(r)}n=n.sibling}}function h0(n,r){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:ps(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:eu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else t:for(a=n;Xe!==null;){l=Xe;var f=l.sibling,d=l.return;if(e0(l),l===a){Xe=null;break t}if(f!==null){f.return=d,Xe=f;break t}Xe=d}}}var sI={getCacheForType:function(n){var r=sn(Me),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return sn(Me).controller.signal}},aI=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ce=null,kt=null,Ut=0,ee=0,Fn=null,gs=!1,ko=!1,Jm=!1,Or=0,Ae=0,ys=0,Ra=0,Wm=0,Hn=0,Lo=0,vu=null,Dn=null,Zm=!1,Mh=0,f0=0,Ph=1/0,kh=null,_s=null,qe=0,vs=null,Uo=null,Vr=0,tp=0,ep=null,d0=null,Eu=0,np=null;function Gn(){return(Xt&2)!==0&&Ut!==0?Ut&-Ut:q.T!==null?lp():Vl()}function m0(){if(Hn===0)if((Ut&536870912)===0||qt){var n=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Hn=n}else Hn=536870912;return n=jn.current,n!==null&&(n.flags|=32),Hn}function Nn(n,r,a){(n===ce&&(ee===2||ee===9)||n.cancelPendingCommit!==null)&&(zo(n,0),Es(n,Ut,Hn,!1)),fe(n,a),((Xt&2)===0||n!==ce)&&(n===ce&&((Xt&2)===0&&(Ra|=a),Ae===4&&Es(n,Ut,Hn,!1)),sr(n))}function p0(n,r,a){if((Xt&6)!==0)throw Error(i(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Wt(n,r),f=l?uI(n,r):rp(n,r,!0),d=l;do{if(f===0){ko&&!l&&Es(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!oI(a)){f=rp(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var b=n;f=vu;var D=b.current.memoizedState.isDehydrated;if(D&&(zo(b,_).flags|=256),_=rp(b,_,!1),_!==2){if(Jm&&!D){b.errorRecoveryDisabledLanes|=d,Ra|=d,f=4;break t}d=Dn,Dn=f,d!==null&&(Dn===null?Dn=d:Dn.push.apply(Dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){zo(n,0),Es(n,r,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Es(l,r,Hn,!gs);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Mh+300-We(),10<f)){if(Es(l,r,Hn,!gs),bt(l,0,!0)!==0)break t;Vr=r,l.timeoutHandle=K0(g0.bind(null,l,a,Dn,kh,Zm,r,Hn,Ra,Lo,gs,d,"Throttled",-0,0),f);break t}g0(l,a,Dn,kh,Zm,r,Hn,Ra,Lo,gs,d,null,-0,0)}}break}while(!0);sr(n)}function g0(n,r,a,l,f,d,_,b,D,B,Q,W,j,G){if(n.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},l0(r,d,W);var mt=(d&62914560)===d?Mh-We():(d&4194048)===d?f0-We():0;if(mt=GI(W,mt),mt!==null){Vr=d,n.cancelPendingCommit=mt(A0.bind(null,n,r,d,a,l,f,_,b,D,Q,W,null,j,G)),Es(n,d,_,!B);return}}A0(n,r,d,a,l,f,_,b,D)}function oI(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!zn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Es(n,r,a,l){r&=~Wm,r&=~Ra,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-pe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Zn(n,a,r)}function Lh(){return(Xt&6)===0?(Tu(0),!1):!0}function ip(){if(kt!==null){if(ee===0)var n=kt.return;else n=kt,br=_a=null,vm(n),Do=null,iu=0,n=kt;for(;n!==null;)Qv(n.alternate,n),n=n.return;kt=null}}function zo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,RI(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Vr=0,ip(),ce=n,kt=a=Er(n.current,null),Ut=r,ee=0,Fn=null,gs=!1,ko=Wt(n,r),Jm=!1,Lo=Hn=Wm=Ra=ys=Ae=0,Dn=vu=null,Zm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-pe(l),d=1<<f;r|=n[f],l&=~d}return Or=r,rh(),a}function y0(n,r){Nt=null,q.H=hu,r===Co||r===fh?(r=V_(),ee=3):r===om?(r=V_(),ee=4):ee=r===Pm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,kt===null&&(Ae=1,Ih(n,si(r,n.current)))}function _0(){var n=jn.current;return n===null?!0:(Ut&4194048)===Ut?ui===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?n===ui:!1}function v0(){var n=q.H;return q.H=hu,n===null?hu:n}function E0(){var n=q.A;return q.A=sI,n}function Uh(){Ae=4,gs||(Ut&4194048)!==Ut&&jn.current!==null||(ko=!0),(ys&134217727)===0&&(Ra&134217727)===0||ce===null||Es(ce,Ut,Hn,!1)}function rp(n,r,a){var l=Xt;Xt|=2;var f=v0(),d=E0();(ce!==n||Ut!==r)&&(kh=null,zo(n,r)),r=!1;var _=Ae;t:do try{if(ee!==0&&kt!==null){var b=kt,D=Fn;switch(ee){case 8:ip(),_=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var B=ee;if(ee=0,Fn=null,Bo(n,b,D,B),a&&ko){_=0;break t}break;default:B=ee,ee=0,Fn=null,Bo(n,b,D,B)}}lI(),_=Ae;break}catch(Q){y0(n,Q)}while(!0);return r&&n.shellSuspendCounter++,br=_a=null,Xt=l,q.H=f,q.A=d,kt===null&&(ce=null,Ut=0,rh()),_}function lI(){for(;kt!==null;)T0(kt)}function uI(n,r){var a=Xt;Xt|=2;var l=v0(),f=E0();ce!==n||Ut!==r?(kh=null,Ph=We()+500,zo(n,r)):ko=Wt(n,r);t:do try{if(ee!==0&&kt!==null){r=kt;var d=Fn;e:switch(ee){case 1:ee=0,Fn=null,Bo(n,r,d,1);break;case 2:case 9:if(x_(d)){ee=0,Fn=null,b0(r);break}r=function(){ee!==2&&ee!==9||ce!==n||(ee=7),sr(n)},d.then(r,r);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:x_(d)?(ee=0,Fn=null,b0(r)):(ee=0,Fn=null,Bo(n,r,d,7));break;case 5:var _=null;switch(kt.tag){case 26:_=kt.memoizedState;case 5:case 27:var b=kt;if(_?oE(_):b.stateNode.complete){ee=0,Fn=null;var D=b.sibling;if(D!==null)kt=D;else{var B=b.return;B!==null?(kt=B,zh(B)):kt=null}break e}}ee=0,Fn=null,Bo(n,r,d,5);break;case 6:ee=0,Fn=null,Bo(n,r,d,6);break;case 8:ip(),Ae=6;break t;default:throw Error(i(462))}}cI();break}catch(Q){y0(n,Q)}while(!0);return br=_a=null,q.H=l,q.A=f,Xt=a,kt!==null?0:(ce=null,Ut=0,rh(),Ae)}function cI(){for(;kt!==null&&!Je();)T0(kt)}function T0(n){var r=Gv(n.alternate,n,Or);n.memoizedProps=n.pendingProps,r===null?zh(n):kt=r}function b0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=zv(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=zv(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:vm(r);default:Qv(a,r),r=kt=E_(r,Or),r=Gv(a,r,Or)}n.memoizedProps=n.pendingProps,r===null?zh(n):kt=r}function Bo(n,r,a,l){br=_a=null,vm(r),Do=null,iu=0;var f=r.return;try{if(Ww(n,f,r,a,Ut)){Ae=1,Ih(n,si(a,n.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;Ae=1,Ih(n,si(a,n.current)),kt=null;return}r.flags&32768?(qt||l===1?n=!0:ko||(Ut&536870912)!==0?n=!1:(gs=n=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),S0(r,n)):zh(r)}function zh(n){var r=n;do{if((r.flags&32768)!==0){S0(r,gs);return}n=r.return;var a=eI(r.alternate,r,Or);if(a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=n}while(r!==null);Ae===0&&(Ae=5)}function S0(n,r){do{var a=nI(n.alternate,n);if(a!==null){a.flags&=32767,kt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){kt=n;return}kt=n=a}while(n!==null);Ae=6,kt=null}function A0(n,r,a,l,f,d,_,b,D){n.cancelPendingCommit=null;do Bh();while(qe!==0);if((Xt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(d=r.lanes|r.childLanes,d|=Kd,cn(n,a,d,_,b,D),n===ce&&(kt=ce=null,Ut=0),Uo=r,vs=n,Vr=a,tp=d,ep=f,d0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,mI(Ti,function(){return D0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=nt.p,nt.p=2,_=Xt,Xt|=4;try{iI(n,r,a)}finally{Xt=_,nt.p=f,q.T=l}}qe=1,w0(),I0(),R0()}}function w0(){if(qe===1){qe=0;var n=vs,r=Uo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=nt.p;nt.p=2;var f=Xt;Xt|=4;try{s0(r,n);var d=gp,_=h_(n.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&c_(b.ownerDocument.documentElement,b)){if(D!==null&&jd(b)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var G=j.getSelection(),mt=b.textContent.length,St=Math.min(D.start,mt),ue=D.end===void 0?St:Math.min(D.end,mt);!G.extend&&St>ue&&(_=ue,ue=St,St=_);var P=u_(b,St),O=u_(b,ue);if(P&&O&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var z=W.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),St>ue?(G.addRange(z),G.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),G.addRange(z))}}}}for(W=[],G=b;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var $=W[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Wh=!!pp,gp=pp=null}finally{Xt=f,nt.p=l,q.T=a}}n.current=r,qe=2}}function I0(){if(qe===2){qe=0;var n=vs,r=Uo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=nt.p;nt.p=2;var f=Xt;Xt|=4;try{t0(n,r.alternate,r)}finally{Xt=f,nt.p=l,q.T=a}}qe=3}}function R0(){if(qe===4||qe===3){qe=0,Ei();var n=vs,r=Uo,a=Vr,l=d0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,Uo=vs=null,C0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(_s=null),en(a),r=r.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Mn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=q.T,f=nt.p,nt.p=2,q.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{q.T=r,nt.p=f}}(Vr&3)!==0&&Bh(),sr(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===np?Eu++:(Eu=0,np=n):Eu=0,Tu(0)}}function C0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,eu(r)))}function Bh(){return w0(),I0(),R0(),D0()}function D0(){if(qe!==5)return!1;var n=vs,r=tp;tp=0;var a=en(Vr),l=q.T,f=nt.p;try{nt.p=32>a?32:a,q.T=null,a=ep,ep=null;var d=vs,_=Vr;if(qe=0,Uo=vs=null,Vr=0,(Xt&6)!==0)throw Error(i(331));var b=Xt;if(Xt|=4,c0(d.current),o0(d,d.current,_,a),Xt=b,Tu(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Mn,d)}catch{}return!0}finally{nt.p=f,q.T=l,C0(n,r)}}function N0(n,r,a){r=si(a,r),r=Mm(n.stateNode,r,2),n=fs(n,r,2),n!==null&&(fe(n,2),sr(n))}function ne(n,r,a){if(n.tag===3)N0(n,n,a);else for(;r!==null;){if(r.tag===3){N0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_s===null||!_s.has(l))){n=si(a,n),a=xv(2),l=fs(r,a,2),l!==null&&(Ov(a,l,r,n),fe(l,2),sr(l));break}}r=r.return}}function sp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new aI;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Jm=!0,f.add(a),n=hI.bind(null,n,r,a),r.then(n,n))}function hI(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ce===n&&(Ut&a)===a&&(Ae===4||Ae===3&&(Ut&62914560)===Ut&&300>We()-Mh?(Xt&2)===0&&zo(n,0):Wm|=a,Lo===Ut&&(Lo=0)),sr(n)}function x0(n,r){r===0&&(r=Ke()),n=pa(n,r),n!==null&&(fe(n,r),sr(n))}function fI(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),x0(n,a)}function dI(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),x0(n,a)}function mI(n,r){return Ie(n,r)}var jh=null,jo=null,ap=!1,qh=!1,op=!1,Ts=0;function sr(n){n!==jo&&n.next===null&&(jo===null?jh=jo=n:jo=jo.next=n),qh=!0,ap||(ap=!0,gI())}function Tu(n,r){if(!op&&qh){op=!0;do for(var a=!1,l=jh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-pe(42|n)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,P0(l,d))}else d=Ut,d=bt(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wt(l,d)||(a=!0,P0(l,d));l=l.next}while(a);op=!1}}function pI(){O0()}function O0(){qh=ap=!1;var n=0;Ts!==0&&II()&&(n=Ts);for(var r=We(),a=null,l=jh;l!==null;){var f=l.next,d=V0(l,r);d===0?(l.next=null,a===null?jh=f:a.next=f,f===null&&(jo=a)):(a=l,(n!==0||(d&3)!==0)&&(qh=!0)),l=f}qe!==0&&qe!==5||Tu(n),Ts!==0&&(Ts=0)}function V0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-pe(d),b=1<<_,D=f[_];D===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Ne(b,r)):D<=r&&(n.expiredLanes|=b),d&=~b}if(r=ce,a=Ut,a=bt(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(ee===2||ee===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&zi(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Wt(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&zi(l),en(a)){case 2:case 8:a=ea;break;case 32:a=Ti;break;case 268435456:a=bi;break;default:a=Ti}return l=M0.bind(null,n),a=Ie(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&zi(l),n.callbackPriority=2,n.callbackNode=null,2}function M0(n,r){if(qe!==0&&qe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Bh()&&n.callbackNode!==a)return null;var l=Ut;return l=bt(n,n===ce?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(p0(n,l,r),V0(n,We()),n.callbackNode!=null&&n.callbackNode===a?M0.bind(null,n):null)}function P0(n,r){if(Bh())return null;p0(n,r,!0)}function gI(){CI(function(){(Xt&6)!==0?Ie(Bi,pI):O0()})}function lp(){if(Ts===0){var n=Io;n===0&&(n=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ts=n}return Ts}function k0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:co(""+n)}function L0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function yI(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=k0((f[Qe]||null).action),_=l.submitter;_&&(r=(r=_[Qe]||null)?k0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Wi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ts!==0){var D=_?L0(f,_):new FormData(f);Cm(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?L0(f,_):new FormData(f),Cm(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var up=0;up<Gd.length;up++){var cp=Gd[up],_I=cp.toLowerCase(),vI=cp[0].toUpperCase()+cp.slice(1);xi(_I,"on"+vI)}xi(m_,"onAnimationEnd"),xi(p_,"onAnimationIteration"),xi(g_,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Pw,"onTransitionRun"),xi(kw,"onTransitionStart"),xi(Lw,"onTransitionCancel"),xi(y_,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function U0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,B=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=B;try{d(f)}catch(Q){ih(Q)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,B=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=B;try{d(f)}catch(Q){ih(Q)}f.currentTarget=null,d=D}}}}function Lt(n,r){var a=r[so];a===void 0&&(a=r[so]=new Set);var l=n+"__bubble";a.has(l)||(z0(r,n,2,!1),a.add(l))}function hp(n,r,a){var l=0;r&&(l|=4),z0(a,n,l,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function fp(n){if(!n[Fh]){n[Fh]=!0,Ml.forEach(function(a){a!=="selectionchange"&&(EI.has(a)||hp(a,!1,n),hp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,hp("selectionchange",!1,r))}}function z0(n,r,a,l){switch(mE(r)){case 2:var f=YI;break;case 8:f=XI;break;default:f=Rp}a=f.bind(null,r,a,n),f=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function dp(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Gi(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}b=b.parentNode}}l=l.return}ns(function(){var B=d,Q=ei(a),W=[];t:{var j=__.get(n);if(j!==void 0){var G=Wi,mt=n;switch(n){case"keypress":if(ua(a)===0)break t;case"keydown":case"keyup":G=th;break;case"focusin":mt="focus",G=ha;break;case"focusout":mt="blur",G=ha;break;case"beforeblur":case"afterblur":G=ha;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case m_:case p_:case g_:G=Qc;break;case y_:G=S;break;case"scroll":case"scrollend":G=Kl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=vr;break;case"toggle":case"beforetoggle":G=Dt}var St=(r&4)!==0,ue=!St&&(n==="scroll"||n==="scrollend"),P=St?j!==null?j+"Capture":null:j;St=[];for(var O=B,z;O!==null;){var $=O;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=Ri(O,P),$!=null&&St.push(Su(O,$,z))),ue)break;O=O.return}0<St.length&&(j=new G(j,mt,null,a,Q),W.push({event:j,listeners:St}))}}if((r&7)===0){t:{if(j=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",j&&a!==Fl&&(mt=a.relatedTarget||a.fromElement)&&(Gi(mt)||mt[Fi]))break t;if((G||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,G?(mt=a.relatedTarget||a.toElement,G=B,mt=mt?Gi(mt):null,mt!==null&&(ue=u(mt),St=mt.tag,mt!==ue||St!==5&&St!==27&&St!==6)&&(mt=null)):(G=null,mt=B),G!==mt)){if(St=Ql,$="onMouseLeave",P="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(St=vr,$="onPointerLeave",P="onPointerEnter",O="pointer"),ue=G==null?j:Ln(G),z=mt==null?j:Ln(mt),j=new St($,O+"leave",G,a,Q),j.target=ue,j.relatedTarget=z,$=null,Gi(Q)===B&&(St=new St(P,O+"enter",mt,a,Q),St.target=z,St.relatedTarget=ue,$=St),ue=$,G&&mt)e:{for(St=TI,P=G,O=mt,z=0,$=P;$;$=St($))z++;$=0;for(var vt=O;vt;vt=St(vt))$++;for(;0<z-$;)P=St(P),z--;for(;0<$-z;)O=St(O),$--;for(;z--;){if(P===O||O!==null&&P===O.alternate){St=P;break e}P=St(P),O=St(O)}St=null}else St=null;G!==null&&B0(W,j,G,St,!1),mt!==null&&ue!==null&&B0(W,ue,mt,St,!0)}}t:{if(j=B?Ln(B):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var Gt=i_;else if(e_(j))if(r_)Gt=Ow;else{Gt=Nw;var yt=Dw}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&uo(B.elementType)&&(Gt=i_):Gt=xw;if(Gt&&(Gt=Gt(n,B))){n_(W,Gt,a,Q);break t}yt&&yt(n,j,B),n==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Bl(j,"number",j.value)}switch(yt=B?Ln(B):window,n){case"focusin":(e_(yt)||yt.contentEditable==="true")&&(_o=yt,qd=B,Wl=null);break;case"focusout":Wl=qd=_o=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,f_(W,a,Q);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":f_(W,a,Q)}var Mt;if(Yt)t:{switch(n){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else yo?fa(n,a)&&(zt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(er&&a.locale!=="ko"&&(yo||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&yo&&(Mt=Gl()):(Ji=Q,Hl="value"in Ji?Ji.value:Ji.textContent,yo=!0)),yt=Hh(B,zt),0<yt.length&&(zt=new tr(zt,n,null,a,Q),W.push({event:zt,listeners:yt}),Mt?zt.data=Mt:(Mt=go(a),Mt!==null&&(zt.data=Mt)))),(Mt=ii?ww(n,a):Iw(n,a))&&(zt=Hh(B,"onBeforeInput"),0<zt.length&&(yt=new tr("onBeforeInput","beforeinput",null,a,Q),W.push({event:yt,listeners:zt}),yt.data=Mt)),yI(W,n,B,a,Q)}U0(W,r)})}function Su(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Hh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ri(n,a),f!=null&&l.unshift(Su(n,f,d)),f=Ri(n,r),f!=null&&l.push(Su(n,f,d))),n.tag===3)return l;n=n.return}return[]}function TI(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B0(n,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,B=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||B===null||(D=B,f?(B=Ri(a,d),B!=null&&_.unshift(Su(a,B,D))):f||(B=Ri(a,d),B!=null&&_.push(Su(a,B,D)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var bI=/\r\n?/g,SI=/\u0000|\uFFFD/g;function j0(n){return(typeof n=="string"?n:""+n).replace(bI,`
`).replace(SI,"")}function q0(n,r){return r=j0(r),j0(n)===r}function le(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(n,""+l);break;case"className":Un(n,"class",l);break;case"tabIndex":Un(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(n,a,l);break;case"style":ql(n,l,d);break;case"data":if(r!=="object"){Un(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=co(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&le(n,r,"name",f.name,f,null),le(n,r,"formEncType",f.formEncType,f,null),le(n,r,"formMethod",f.formMethod,f,null),le(n,r,"formTarget",f.formTarget,f,null)):(le(n,r,"encType",f.encType,f,null),le(n,r,"method",f.method,f,null),le(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=co(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Ii);break;case"onScroll":l!=null&&Lt("scroll",n);break;case"onScrollEnd":l!=null&&Lt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=co(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Lt("beforetoggle",n),Lt("toggle",n),oo(n,"popover",l);break;case"xlinkActuate":Ve(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ve(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ve(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ve(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ve(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ve(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ve(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ve(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ve(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hc.get(a)||a,oo(n,a,l))}}function mp(n,r,a,l,f,d){switch(a){case"style":ql(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?wn(n,l):(typeof l=="number"||typeof l=="bigint")&&wn(n,""+l);break;case"onScroll":l!=null&&Lt("scroll",n);break;case"onScrollEnd":l!=null&&Lt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Qe]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):oo(n,a,l)}}}function on(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",n),Lt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:le(n,r,d,_,a,null)}}f&&le(n,r,"srcSet",a.srcSet,a,null),l&&le(n,r,"src",a.src,a,null);return;case"input":Lt("invalid",n);var b=d=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:le(n,r,l,Q,a,null)}}jc(n,d,b,D,B,_,f,!1);return;case"select":Lt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:le(n,r,f,b,a,null)}r=d,a=_,n.multiple=!!l,r!=null?Wr(n,!!l,r,!1):a!=null&&Wr(n,!!l,a,!0);return;case"textarea":Lt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:le(n,r,_,b,a,null)}Zr(n,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(n,r,D,l,a,null)}return;case"dialog":Lt("beforetoggle",n),Lt("toggle",n),Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":Lt("load",n);break;case"video":case"audio":for(l=0;l<bu.length;l++)Lt(bu[l],n);break;case"image":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"embed":case"source":case"link":Lt("error",n),Lt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:le(n,r,B,l,a,null)}return;default:if(uo(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&mp(n,r,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&le(n,r,b,l,a,null))}function AI(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,B=null,Q=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(G)||le(n,r,G,null,l,W)}}for(var j in l){var G=l[j];if(W=a[j],l.hasOwnProperty(j)&&(G!=null||W!=null))switch(j){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:G!==W&&le(n,r,j,G,l,W)}}lo(n,_,b,D,B,Q,d,f);return;case"select":G=_=b=j=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||le(n,r,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":j=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&le(n,r,f,d,l,D)}r=b,a=_,l=G,j!=null?Wr(n,!!a,j,!1):!!l!=!!a&&(r!=null?Wr(n,!!a,r,!0):Wr(n,!!a,a?[]:"",!1));return;case"textarea":G=j=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:le(n,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":j=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&le(n,r,_,f,l,d)}qc(n,j,G);return;case"option":for(var mt in a)if(j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:le(n,r,mt,null,l,j)}for(D in l)if(j=l[D],G=a[D],l.hasOwnProperty(D)&&j!==G&&(j!=null||G!=null))switch(D){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:le(n,r,D,j,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)j=a[St],a.hasOwnProperty(St)&&j!=null&&!l.hasOwnProperty(St)&&le(n,r,St,null,l,j);for(B in l)if(j=l[B],G=a[B],l.hasOwnProperty(B)&&j!==G&&(j!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,r));break;default:le(n,r,B,j,l,G)}return;default:if(uo(r)){for(var ue in a)j=a[ue],a.hasOwnProperty(ue)&&j!==void 0&&!l.hasOwnProperty(ue)&&mp(n,r,ue,void 0,l,j);for(Q in l)j=l[Q],G=a[Q],!l.hasOwnProperty(Q)||j===G||j===void 0&&G===void 0||mp(n,r,Q,j,l,G);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&le(n,r,P,null,l,j);for(W in l)j=l[W],G=a[W],!l.hasOwnProperty(W)||j===G||j==null&&G==null||le(n,r,W,j,l,G)}function F0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wI(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&F0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>b)break;var Q=D.transferSize,W=D.initiatorType;Q&&F0(W)&&(D=D.responseEnd,_+=Q*(D<b?1:(b-B)/(D-B)))}if(--l,r+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var pp=null,gp=null;function Gh(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function yp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _p=null;function II(){var n=window.event;return n&&n.type==="popstate"?n===_p?!1:(_p=n,!0):(_p=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(n){return Q0.resolve(null).then(n).catch(DI)}:K0;function DI(n){setTimeout(function(){throw n})}function bs(n){return n==="head"}function Y0(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Go(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Au(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Au(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Hi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Au(n.ownerDocument.body);a=f}while(a);Go(r)}function X0(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function vp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vp(a),ao(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function NI(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ci(n.nextSibling),n===null)break}return null}function xI(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ci(n.nextSibling),n===null))return null;return n}function $0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ci(n.nextSibling),n===null))return null;return n}function Ep(n){return n.data==="$?"||n.data==="$~"}function Tp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function OI(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ci(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var bp=null;function J0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return ci(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function W0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function Z0(n,r,a){switch(r=Gh(a),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Au(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ao(n)}var hi=new Map,tE=new Set;function Kh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mr=nt.d;nt.d={f:VI,r:MI,D:PI,C:kI,L:LI,m:UI,X:BI,S:zI,M:jI};function VI(){var n=Mr.f(),r=Lh();return n||r}function MI(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?yv(r):Mr.r(n)}var qo=typeof document>"u"?null:document;function eE(n,r,a){var l=qo;if(l&&typeof r=="string"&&r){var f=An(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),tE.has(f)||(tE.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),on(r,"link",n),Oe(r),l.head.appendChild(r)))}}function PI(n){Mr.D(n),eE("dns-prefetch",n,null)}function kI(n,r){Mr.C(n,r),eE("preconnect",n,r)}function LI(n,r,a){Mr.L(n,r,a);var l=qo;if(l&&n&&r){var f='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+An(a.imageSizes)+'"]')):f+='[href="'+An(n)+'"]';var d=f;switch(r){case"style":d=Fo(n);break;case"script":d=Ho(n)}hi.has(d)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),hi.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(wu(d))||r==="script"&&l.querySelector(Iu(d))||(r=l.createElement("link"),on(r,"link",n),Oe(r),l.head.appendChild(r)))}}function UI(n,r){Mr.m(n,r);var a=qo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ho(n)}if(!hi.has(d)&&(n=v({rel:"modulepreload",href:n},r),hi.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Iu(d)))return}l=a.createElement("link"),on(l,"link",n),Oe(l),a.head.appendChild(l)}}}function zI(n,r,a){Mr.S(n,r,a);var l=qo;if(l&&n){var f=Ki(l).hoistableStyles,d=Fo(n);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(wu(d)))b.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=hi.get(d))&&Sp(n,a);var D=_=l.createElement("link");Oe(D),on(D,"link",n),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function BI(n,r){Mr.X(n,r);var a=qo;if(a&&n){var l=Ki(a).hoistableScripts,f=Ho(n),d=l.get(f);d||(d=a.querySelector(Iu(f)),d||(n=v({src:n,async:!0},r),(r=hi.get(f))&&Ap(n,r),d=a.createElement("script"),Oe(d),on(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function jI(n,r){Mr.M(n,r);var a=qo;if(a&&n){var l=Ki(a).hoistableScripts,f=Ho(n),d=l.get(f);d||(d=a.querySelector(Iu(f)),d||(n=v({src:n,async:!0,type:"module"},r),(r=hi.get(f))&&Ap(n,r),d=a.createElement("script"),Oe(d),on(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function nE(n,r,a,l){var f=(f=Et.current)?Kh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Fo(a.href),a=Ki(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Fo(a.href);var d=Ki(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(wu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),hi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(n,a),d||qI(f,n,a,_.state))),r&&l===null)throw Error(i(528,""));return _}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ho(a),a=Ki(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Fo(n){return'href="'+An(n)+'"'}function wu(n){return'link[rel="stylesheet"]['+n+"]"}function iE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function qI(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),on(r,"link",a),Oe(r),n.head.appendChild(r))}function Ho(n){return'[src="'+An(n)+'"]'}function Iu(n){return"script[async]"+n}function rE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return r.instance=l,Oe(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Oe(l),on(l,"style",f),Qh(l,a.precedence,n),r.instance=l;case"stylesheet":f=Fo(a.href);var d=n.querySelector(wu(f));if(d)return r.state.loading|=4,r.instance=d,Oe(d),d;l=iE(a),(f=hi.get(f))&&Sp(l,f),d=(n.ownerDocument||n).createElement("link"),Oe(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),on(d,"link",l),r.state.loading|=4,Qh(d,a.precedence,n),r.instance=d;case"script":return d=Ho(a.src),(f=n.querySelector(Iu(d)))?(r.instance=f,Oe(f),f):(l=a,(f=hi.get(d))&&(l=v({},a),Ap(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Oe(f),on(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Qh(l,a.precedence,n));return r.instance}function Qh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Sp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Ap(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Yh=null;function sE(n,r,a){if(Yh===null){var l=new Map,f=Yh=new Map;f.set(a,l)}else f=Yh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Hi]||d[xe]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function aE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function FI(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function oE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function HI(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Fo(l.href),d=r.querySelector(wu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Xh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,Oe(d);return}d=r.ownerDocument||r,l=iE(l),(f=hi.get(f))&&Sp(l,f),d=d.createElement("link"),Oe(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),on(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Xh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var wp=0;function GI(n,r){return n.stylesheets&&n.count===0&&Jh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Jh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&wp===0&&(wp=62500*wI());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Jh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>wp?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $h=null;function Jh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$h=new Map,r.forEach(KI,n),$h=null,Xh.call(n))}function KI(n,r){if(!(r.state.loading&4)){var a=$h.get(n);if(a)var l=a.get(null);else{a=new Map,$h.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Xh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ru={$$typeof:J,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function QI(n,r,a,l,f,d,_,b,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.hiddenUpdates=gn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function lE(n,r,a,l,f,d,_,b,D,B,Q,W){return n=new QI(n,r,a,_,D,B,Q,W,b),r=1,d===!0&&(r|=24),d=Bn(3,null,null,r),n.current=d,d.stateNode=n,r=rm(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},lm(d),n}function uE(n){return n?(n=To,n):To}function cE(n,r,a,l,f,d){f=uE(f),l.context===null?l.context=f:l.pendingContext=f,l=hs(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=fs(n,l,r),a!==null&&(Nn(a,n,r),su(a,n,r))}function hE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Ip(n,r){hE(n,r),(n=n.alternate)&&hE(n,r)}function fE(n){if(n.tag===13||n.tag===31){var r=pa(n,67108864);r!==null&&Nn(r,n,67108864),Ip(n,67108864)}}function dE(n){if(n.tag===13||n.tag===31){var r=Gn();r=qi(r);var a=pa(n,r);a!==null&&Nn(a,n,r),Ip(n,r)}}var Wh=!0;function YI(n,r,a,l){var f=q.T;q.T=null;var d=nt.p;try{nt.p=2,Rp(n,r,a,l)}finally{nt.p=d,q.T=f}}function XI(n,r,a,l){var f=q.T;q.T=null;var d=nt.p;try{nt.p=8,Rp(n,r,a,l)}finally{nt.p=d,q.T=f}}function Rp(n,r,a,l){if(Wh){var f=Cp(l);if(f===null)dp(n,r,l,Zh,a),pE(n,l);else if(JI(f,n,r,a,l))l.stopPropagation();else if(pE(n,l),r&4&&-1<$I.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=kn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-pe(_);b.entanglements[1]|=D,_&=~D}sr(d),(Xt&6)===0&&(Ph=We()+500,Tu(0))}}break;case 31:case 13:b=pa(d,2),b!==null&&Nn(b,d,2),Lh(),Ip(d,2)}if(d=Cp(l),d===null&&dp(n,r,l,Zh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else dp(n,r,l,null,a)}}function Cp(n){return n=ei(n),Dp(n)}var Zh=null;function Dp(n){if(Zh=null,n=Gi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Zh=n,null}function mE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case Bi:return 2;case ea:return 8;case Ti:case na:return 32;case bi:return 268435456;default:return 32}default:return 32}}var Np=!1,Ss=null,As=null,ws=null,Cu=new Map,Du=new Map,Is=[],$I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pE(n,r){switch(n){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Cu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(r.pointerId)}}function Nu(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&fE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function JI(n,r,a,l,f){switch(r){case"focusin":return Ss=Nu(Ss,n,r,a,l,f),!0;case"dragenter":return As=Nu(As,n,r,a,l,f),!0;case"mouseover":return ws=Nu(ws,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Cu.set(d,Nu(Cu.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Du.set(d,Nu(Du.get(d)||null,n,r,a,l,f)),!0}return!1}function gE(n){var r=Gi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,Ai(n.priority,function(){dE(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,Ai(n.priority,function(){dE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Cp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Fl=l,a.target.dispatchEvent(l),Fl=null}else return r=ti(a),r!==null&&fE(r),n.blockedOn=a,!1;r.shift()}return!0}function yE(n,r,a){tf(n)&&a.delete(r)}function WI(){Np=!1,Ss!==null&&tf(Ss)&&(Ss=null),As!==null&&tf(As)&&(As=null),ws!==null&&tf(ws)&&(ws=null),Cu.forEach(yE),Du.forEach(yE)}function ef(n,r){n.blockedOn===r&&(n.blockedOn=null,Np||(Np=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,WI)))}var nf=null;function _E(n){nf!==n&&(nf=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nf===n&&(nf=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Dp(l||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(r,3),r-=3,Cm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Go(n){function r(D){return ef(D,n)}Ss!==null&&ef(Ss,n),As!==null&&ef(As,n),ws!==null&&ef(ws,n),Cu.forEach(r),Du.forEach(r);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)gE(a),a.blockedOn===null&&Is.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Qe]||null;if(typeof d=="function")_||_E(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Qe]||null)b=_.formAction;else if(Dp(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),_E(a)}}}function vE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function xp(n){this._internalRoot=n}rf.prototype.render=xp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=Gn();cE(a,l,n,r,null,null)},rf.prototype.unmount=xp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;cE(n.current,2,null,n,null,null),Lh(),r[Fi]=null}};function rf(n){this._internalRoot=n}rf.prototype.unstable_scheduleHydration=function(n){if(n){var r=Vl();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Is.length&&r!==0&&r<Is[a].priority;a++);Is.splice(a,0,n),a===0&&gE(n)}};var EE=t.version;if(EE!=="19.2.0")throw Error(i(527,EE,"19.2.0"));nt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(r),n=n!==null?T(n):null,n=n===null?null:n.stateNode,n};var ZI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Mn=sf.inject(ZI),je=sf}catch{}}return Ou.createRoot=function(n,r){if(!o(n))throw Error(i(299));var a=!1,l="",f=Rv,d=Cv,_=Dv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=lE(n,1,!1,null,null,a,l,null,f,d,_,vE),n[Fi]=r.current,fp(n),new xp(r)},Ou.hydrateRoot=function(n,r,a){if(!o(n))throw Error(i(299));var l=!1,f="",d=Rv,_=Cv,b=Dv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=lE(n,1,!0,r,a??null,l,f,D,d,_,b,vE),r.context=uE(null),a=r.current,l=Gn(),l=qi(l),f=hs(l),f.callback=null,fs(a,f,l),a=l,r.current.lanes=a,fe(r,a),sr(r),n[Fi]=r.current,fp(n),new rf(r)},Ou.version="19.2.0",Ou}var xE;function hR(){if(xE)return Mp.exports;xE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Mp.exports=cR(),Mp.exports}var fR=hR();function $b({children:s}){return Ht.jsx(Ht.Fragment,{children:Ht.jsx("div",{className:"w-full p-1 bg-white",children:Ht.jsx("div",{className:"w-full rounded-xl p-4 border-2 bg-white ",children:s})})})}const NP=Object.freeze(Object.defineProperty({__proto__:null,Block:$b},Symbol.toStringTag,{value:"Module"}));function Jb({className:s}){return Ht.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},xmlnsXlink:"http://www.w3.org/1999/xlink",className:s,children:Ht.jsxs("g",{children:[Ht.jsx("g",{transform:"translate(50 50)",children:Ht.jsx("path",{d:"M40.7-34.3c-9.8-9.8-25.6-9.8-35.4,0L0-29l-5.3-5.3c-9.8-9.8-25.6-9.8-35.4,0l0,0c-9.8,9.8-9.8,25.6,0,35.4l5.3,5.3L-23,18.7l23,23l23-23L35.4,6.3L40.7,1C50.4-8.8,50.4-24.6,40.7-34.3z",transform:"scale(0.8)",fill:"#ff637e",stroke:"#ffffff",children:Ht.jsx("animateTransform",{keySplines:"0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1",calcMode:"spline",values:"0.68;0.8;0.6000000000000001;0.7200000000000001;0.68;0.6400000000000001",keyTimes:"0;0.05;0.39;0.45;0.6;1",dur:"2.5s",repeatCount:"indefinite",type:"scale",attributeName:"transform"})})}),Ht.jsx("g",{})]})})}function dR(){return Ht.jsx("div",{className:"absolute inset-0 w-[100vw] h-[100vh] bg-black/10 z-100",children:Ht.jsx(Jb,{className:"relative left-1/2 top-1/2 -translate-1/2 size-30"})})}function xP(){return Ht.jsx($b,{children:Ht.jsx("div",{className:"relative py-5 z-100",children:Ht.jsx(Jb,{className:"mx-auto size-25"})})})}var Up={exports:{}},zp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function mR(){if(OE)return zp;OE=1;var s=dd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var e=typeof Object.is=="function"?Object.is:t,i=s.useSyncExternalStore,o=s.useRef,u=s.useEffect,c=s.useMemo,m=s.useDebugValue;return zp.useSyncExternalStoreWithSelector=function(p,g,T,v,A){var M=o(null);if(M.current===null){var F={hasValue:!1,value:null};M.current=F}else F=M.current;M=c(function(){function K(at){if(!et){if(et=!0,lt=at,at=v(at),A!==void 0&&F.hasValue){var ct=F.value;if(A(ct,at))return J=ct}return J=at}if(ct=J,e(lt,at))return ct;var I=v(at);return A!==void 0&&A(ct,I)?(lt=at,ct):(lt=at,J=I)}var et=!1,lt,J,ft=T===void 0?null:T;return[function(){return K(g())},ft===null?void 0:function(){return K(ft())}]},[g,T,v,A]);var Z=i(p,M[0],M[1]);return u(function(){F.hasValue=!0,F.value=Z},[Z]),m(Z),Z},zp}var VE;function pR(){return VE||(VE=1,Up.exports=mR()),Up.exports}var gR=pR();function yR(s){s()}function _R(){let s=null,t=null;return{clear(){s=null,t=null},notify(){yR(()=>{let e=s;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=s;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const o=t={callback:e,next:null,prev:t};return o.prev?o.prev.next=o:s=o,function(){!i||s===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:s=o.next)}}}}var ME={notify(){},get:()=>[]};function vR(s,t){let e,i=ME,o=0,u=!1;function c(Z){T();const K=i.subscribe(Z);let et=!1;return()=>{et||(et=!0,K(),v())}}function m(){i.notify()}function p(){F.onStateChange&&F.onStateChange()}function g(){return u}function T(){o++,e||(e=s.subscribe(p),i=_R())}function v(){o--,e&&o===0&&(e(),e=void 0,i.clear(),i=ME)}function A(){u||(u=!0,T())}function M(){u&&(u=!1,v())}const F={addNestedSub:c,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:A,tryUnsubscribe:M,getListeners:()=>i};return F}var ER=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TR=ER(),bR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SR=bR(),AR=()=>TR||SR?be.useLayoutEffect:be.useEffect,wR=AR(),IR=Symbol.for("react-redux-context"),RR=typeof globalThis<"u"?globalThis:{};function CR(){if(!be.createContext)return{};const s=RR[IR]??=new Map;let t=s.get(be.createContext);return t||(t=be.createContext(null),s.set(be.createContext,t)),t}var Hs=CR();function DR(s){const{children:t,context:e,serverState:i,store:o}=s,u=be.useMemo(()=>{const p=vR(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),c=be.useMemo(()=>o.getState(),[o]);wR(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const m=e||Hs;return be.createElement(m.Provider,{value:u},t)}var NR=DR;function Kg(s=Hs){return function(){return be.useContext(s)}}var Wb=Kg();function Zb(s=Hs){const t=s===Hs?Wb:Kg(s),e=()=>{const{store:i}=t();return i};return Object.assign(e,{withTypes:()=>e}),e}var xR=Zb();function OR(s=Hs){const t=s===Hs?xR:Zb(s),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var OP=OR(),VR=(s,t)=>s===t;function MR(s=Hs){const t=s===Hs?Wb:Kg(s),e=(i,o={})=>{const{equalityFn:u=VR}=typeof o=="function"?{equalityFn:o}:o,c=t(),{store:m,subscription:p,getServerState:g}=c;be.useRef(!0);const T=be.useCallback({[i.name](A){return i(A)}}[i.name],[i]),v=gR.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,T,u);return be.useDebugValue(v),v};return Object.assign(e,{withTypes:()=>e}),e}var VP=MR();function rl(){const s=new Date;return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}`}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),PE=s=>{const t=kR(s);return t.charAt(0).toUpperCase()+t.slice(1)},t1=(...s)=>s.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),LR=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=be.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:c,...m},p)=>be.createElement("svg",{ref:p,...UR,width:t,height:t,stroke:s,strokeWidth:i?Number(e)*24/Number(t):e,className:t1("lucide",o),...!u&&!LR(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,T])=>be.createElement(g,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=(s,t)=>{const e=be.forwardRef(({className:i,...o},u)=>be.createElement(zR,{ref:u,iconNode:t,className:t1(`lucide-${PR(PE(s))}`,`lucide-${s}`,i),...o}));return e.displayName=PE(s),e};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],jR=yi("bed-double",BR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M12.409 13.017A5 5 0 0 1 22 15c0 3.866-4 7-9 7-4.077 0-8.153-.82-10.371-2.462-.426-.316-.631-.832-.62-1.362C2.118 12.723 2.627 2 10 2a3 3 0 0 1 3 3 2 2 0 0 1-2 2c-1.105 0-1.64-.444-2-1",key:"1pmlyh"}],["path",{d:"M15 14a5 5 0 0 0-7.584 2",key:"5rb254"}],["path",{d:"M9.964 6.825C8.019 7.977 9.5 13 8 15",key:"kbvsx9"}]],FR=yi("biceps-flexed",qR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],GR=yi("bike",HR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],QR=yi("briefcase-business",KR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"m16 22-1-4",key:"1ow2iv"}],["path",{d:"M19 13.99a1 1 0 0 0 1-1V12a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v.99a1 1 0 0 0 1 1",key:"iw8jdu"}],["path",{d:"M5 14h14l1.973 6.767A1 1 0 0 1 20 22H4a1 1 0 0 1-.973-1.233z",key:"1soew8"}],["path",{d:"m8 22 1-4",key:"s3unb"}]],XR=yi("brush-cleaning",YR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"u0tga0"}],["path",{d:"m4 8 16-4",key:"16g0ng"}],["path",{d:"m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8",key:"12cejc"}]],JR=yi("cooking-pot",$R);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],ZR=yi("footprints",WR);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M12 16H4a2 2 0 1 1 0-4h16a2 2 0 1 1 0 4h-4.25",key:"5dloqd"}],["path",{d:"M5 12a2 2 0 0 1-2-2 9 7 0 0 1 18 0 2 2 0 0 1-2 2",key:"1vl3my"}],["path",{d:"M5 16a2 2 0 0 0-2 2 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 2 2 0 0 0-2-2q0 0 0 0",key:"1us75o"}],["path",{d:"m6.67 12 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"qqzweh"}]],e2=yi("hamburger",t2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],kE=yi("heart-handshake",n2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],r2=yi("plug-zap",i2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],a2=yi("smile",s2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],l2=yi("utensils",o2),af="stroke-white",e1=[{icon:Ht.jsx(e2,{className:af}),title:"  ",price:-1500,id:1,discount:2/3},{icon:Ht.jsx(l2,{className:af}),title:"  ",price:-4e3,id:2,discount:.75},{icon:Ht.jsx(r2,{className:af}),title:" ",price:-2e5,id:3,discount:.7},{icon:Ht.jsx(QR,{className:af}),title:"  ",price:-1e6,id:4,discount:.85}],Pr="stroke-white",n1=[{icon:Ht.jsx(jR,{className:Pr}),title:"   10 ",price:50,id:1,discount:2},{icon:Ht.jsx(JR,{className:Pr}),title:" ",price:100,id:2,discount:1.5},{icon:Ht.jsx(ZR,{className:Pr}),title:" 20   ",price:100,id:3,discount:2.5},{icon:Ht.jsx(a2,{className:Pr}),title:"  2   ",price:100,id:4,discount:1.2},{icon:Ht.jsx(FR,{className:Pr}),title:"  ",price:100,id:5,discount:1.2},{icon:Ht.jsx(XR,{className:Pr}),title:" 15 ",price:100,id:6,discount:1.5},{icon:Ht.jsx(GR,{className:Pr}),title:"10   ",price:150,id:7,discount:2},{icon:Ht.jsx(kE,{className:Pr}),title:"   5 ",price:250,id:8,discount:1.2},{icon:Ht.jsx(kE,{className:Pr}),title:"   10 ",price:250,id:9,discount:1.2}];function kf(s,t){const e=[];let i=0;for(;i<t;){const o=Math.floor(Math.random()*s.length);e.includes(o)||(e.push(o),i++)}return e.map(o=>s[o].id)}function i1(){return{name:null,startWeigth:null,startWeigthDate:null,targetWeigth:null,maxCallories:null,currentWeigth:null,currentWeigthDate:null,currentCalloriesDate:null,currentCallories:0,balance:0,completedTasks:[],completedAwards:[],tasksDay:kf(n1,2),awardsDay:kf(e1,1),lastDateOfLoad:rl(),timestamp:Date.now()}}function r1(){return{currentCallories:0,completedAwards:[],completedTasks:[],tasksDay:kf(n1,2),awardsDay:kf(e1,1),lastDateOfLoad:rl(),timestamp:Date.now()}}const u2=Object.freeze(Object.defineProperty({__proto__:null,getEmptyStorage:i1,getUpDateStorage:r1},Symbol.toStringTag,{value:"Module"})),c2=()=>{};var LE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=function(s){const t=[];let e=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},h2=function(s){const t=[];let e=0,i=0;for(;e<s.length;){const o=s[e++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[e++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[e++],c=s[e++],m=s[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const u=s[e++],c=s[e++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,T=u>>2,v=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,c||(A=64)),i.push(e[T],e[v],e[A],e[M])}return i.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(s1(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):h2(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const u=e[s.charAt(o++)],m=o<s.length?e[s.charAt(o)]:0;++o;const g=o<s.length?e[s.charAt(o)]:64;++o;const v=o<s.length?e[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||v==null)throw new f2;const A=u<<2|m>>4;if(i.push(A),g!==64){const M=m<<4&240|g>>2;if(i.push(M),v!==64){const F=g<<6&192|v;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class f2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d2=function(s){const t=s1(s);return a1.encodeByteArray(t,!0)},o1=function(s){return d2(s).replace(/\./g,"")},l1=function(s){try{return a1.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>u1().__FIREBASE_DEFAULTS__,p2=()=>{if(typeof process>"u"||typeof LE>"u")return;const s=LE.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},g2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&l1(s[1]);return t&&JSON.parse(t)},md=()=>{try{return c2()||m2()||p2()||g2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},y2=s=>md()?.emulatorHosts?.[s],c1=()=>md()?.config,h1=s=>md()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f1(s){return(await fetch(s,{credentials:"include"})).ok}const Gu={};function v2(){const s={prod:[],emulator:[]};for(const t of Object.keys(Gu))Gu[t]?s.emulator.push(t):s.prod.push(t);return s}function E2(s){let t=document.getElementById(s),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),e=!0),{created:e,element:t}}let UE=!1;function T2(s,t){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Gu[s]===t||Gu[s]||UE)return;Gu[s]=t;function e(A){return`__firebase__banner__${A}`}const i="__firebase__banner",u=v2().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{UE=!0,c()},A}function T(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function v(){const A=E2(i),M=e("text"),F=document.getElementById(M)||document.createElement("span"),Z=e("learnmore"),K=document.getElementById(Z)||document.createElement("a"),et=e("preprendIcon"),lt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),T(K,Z);const ft=g();p(lt,et),J.append(lt,F,K,ft),document.body.appendChild(J)}u?(F.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function d1(){const s=md()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function w2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const s=He();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function m1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){return!d1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function R2(){return new Promise((s,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="FirebaseError";class Qr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=C2,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?D2(u,i):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Qr(o,m,i)}}function D2(s,t){return s.replace(N2,(e,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const N2=/\{\$([^}]+)}/g;function x2(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ja(s,t){if(s===t)return!0;const e=Object.keys(s),i=Object.keys(t);for(const o of e){if(!i.includes(o))return!1;const u=s[o],c=t[o];if(zE(u)&&zE(c)){if(!ja(u,c))return!1}else if(u!==c)return!1}for(const o of i)if(!e.includes(o))return!1;return!0}function zE(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(s){const t=[];for(const[e,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Uu(s){const t={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function zu(s){const t=s.indexOf("?");if(!t)return"";const e=s.indexOf("#",t);return s.substring(t,e>0?e:void 0)}function O2(s,t){const e=new V2(s,t);return e.subscribe.bind(e)}class V2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let o;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");M2(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:i},o.next===void 0&&(o.next=Bp),o.error===void 0&&(o.error=Bp),o.complete===void 0&&(o.complete=Bp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M2(s,t){if(typeof s!="object"||s===null)return!1;for(const e of t)if(e in s&&typeof s[e]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(s){return s&&s._delegate?s._delegate:s}class qa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new _2;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(L2(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&c.resolve(o)}return o}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(i)??new Set;o.add(t),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&t(u,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const o of i)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:k2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k2(s){return s===Da?void 0:s}function L2(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new P2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const z2={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},B2=Bt.INFO,j2={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},q2=(s,t,...e)=>{if(t<s.logLevel)return;const i=new Date().toISOString(),o=j2[t];if(o)console[o](`[${i}]  ${s.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qg{constructor(t){this.name=t,this._logLevel=B2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const F2=(s,t)=>t.some(e=>s instanceof e);let BE,jE;function H2(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G2(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y1=new WeakMap,sg=new WeakMap,_1=new WeakMap,jp=new WeakMap,Yg=new WeakMap;function K2(s){const t=new Promise((e,i)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{e(Us(s.result)),o()},c=()=>{i(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&y1.set(e,s)}).catch(()=>{}),Yg.set(t,s),t}function Q2(s){if(sg.has(s))return;const t=new Promise((e,i)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});sg.set(s,t)}let ag={get(s,t,e){if(s instanceof IDBTransaction){if(t==="done")return sg.get(s);if(t==="objectStoreNames")return s.objectStoreNames||_1.get(s);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Us(s[t])},set(s,t,e){return s[t]=e,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Y2(s){ag=s(ag)}function X2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=s.call(qp(this),t,...e);return _1.set(i,t.sort?t.sort():[t]),Us(i)}:G2().includes(s)?function(...t){return s.apply(qp(this),t),Us(y1.get(this))}:function(...t){return Us(s.apply(qp(this),t))}}function $2(s){return typeof s=="function"?X2(s):(s instanceof IDBTransaction&&Q2(s),F2(s,H2())?new Proxy(s,ag):s)}function Us(s){if(s instanceof IDBRequest)return K2(s);if(jp.has(s))return jp.get(s);const t=$2(s);return t!==s&&(jp.set(s,t),Yg.set(t,s)),t}const qp=s=>Yg.get(s);function J2(s,t,{blocked:e,upgrade:i,blocking:o,terminated:u}={}){const c=indexedDB.open(s,t),m=Us(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Us(c.result),p.oldVersion,p.newVersion,Us(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const W2=["get","getKey","getAll","getAllKeys","count"],Z2=["put","add","delete","clear"],Fp=new Map;function qE(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Fp.get(t))return Fp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,o=Z2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(o||W2.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Fp.set(t,u),u}Y2(s=>({...s,get:(t,e,i)=>qE(t,e)||s.get(t,e,i),has:(t,e)=>!!qE(t,e)||s.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(eC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function eC(s){return s.getComponent()?.type==="VERSION"}const og="@firebase/app",FE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Qg("@firebase/app"),nC="@firebase/app-compat",iC="@firebase/analytics-compat",rC="@firebase/analytics",sC="@firebase/app-check-compat",aC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",cC="@firebase/data-connect",hC="@firebase/database-compat",fC="@firebase/functions",dC="@firebase/functions-compat",mC="@firebase/installations",pC="@firebase/installations-compat",gC="@firebase/messaging",yC="@firebase/messaging-compat",_C="@firebase/performance",vC="@firebase/performance-compat",EC="@firebase/remote-config",TC="@firebase/remote-config-compat",bC="@firebase/storage",SC="@firebase/storage-compat",AC="@firebase/firestore",wC="@firebase/ai",IC="@firebase/firestore-compat",RC="firebase",CC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="[DEFAULT]",DC={[og]:"fire-core",[nC]:"fire-core-compat",[rC]:"fire-analytics",[iC]:"fire-analytics-compat",[aC]:"fire-app-check",[sC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[cC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[fC]:"fire-fn",[dC]:"fire-fn-compat",[mC]:"fire-iid",[pC]:"fire-iid-compat",[gC]:"fire-fcm",[yC]:"fire-fcm-compat",[_C]:"fire-perf",[vC]:"fire-perf-compat",[EC]:"fire-rc",[TC]:"fire-rc-compat",[bC]:"fire-gcs",[SC]:"fire-gcs-compat",[AC]:"fire-fst",[IC]:"fire-fst-compat",[wC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,NC=new Map,ug=new Map;function HE(s,t){try{s.container.addComponent(t)}catch(e){qr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,e)}}function hl(s){const t=s.name;if(ug.has(t))return qr.debug(`There were multiple attempts to register component ${t}.`),!1;ug.set(t,s);for(const e of Lf.values())HE(e,s);for(const e of NC.values())HE(e,s);return!0}function Xg(s,t){const e=s.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),s.container.getProvider(t)}function fi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Sc("app","Firebase",xC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=CC;function v1(s,t={}){let e=s;typeof t!="object"&&(t={name:t});const i={name:lg,automaticDataCollectionEnabled:!0,...t},o=i.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(e||(e=c1()),!e)throw zs.create("no-options");const u=Lf.get(o);if(u){if(ja(e,u.options)&&ja(i,u.config))return u;throw zs.create("duplicate-app",{appName:o})}const c=new U2(o);for(const p of ug.values())c.addComponent(p);const m=new OC(e,i,c);return Lf.set(o,m),m}function VC(s=lg){const t=Lf.get(s);if(!t&&s===lg&&c1())return v1();if(!t)throw zs.create("no-app",{appName:s});return t}function Bs(s,t,e){let i=DC[s]??s;e&&(i+=`-${e}`);const o=i.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${i}" with version "${t}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qr.warn(c.join(" "));return}hl(new qa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebase-heartbeat-database",PC=1,nc="firebase-heartbeat-store";let Hp=null;function E1(){return Hp||(Hp=J2(MC,PC,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(nc)}catch(e){console.warn(e)}}}}).catch(s=>{throw zs.create("idb-open",{originalErrorMessage:s.message})})),Hp}async function kC(s){try{const e=(await E1()).transaction(nc),i=await e.objectStore(nc).get(T1(s));return await e.done,i}catch(t){if(t instanceof Qr)qr.warn(t.message);else{const e=zs.create("idb-get",{originalErrorMessage:t?.message});qr.warn(e.message)}}}async function GE(s,t){try{const i=(await E1()).transaction(nc,"readwrite");await i.objectStore(nc).put(t,T1(s)),await i.done}catch(e){if(e instanceof Qr)qr.warn(e.message);else{const i=zs.create("idb-set",{originalErrorMessage:e?.message});qr.warn(i.message)}}}function T1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,UC=30;class zC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new jC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=KE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>UC){const o=qC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KE(),{heartbeatsToSend:e,unsentEntries:i}=BC(this._heartbeatsCache.heartbeats),o=o1(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qr.warn(t),""}}}function KE(){return new Date().toISOString().substring(0,10)}function BC(s,t=LC){const e=[];let i=s.slice();for(const o of s){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),QE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),QE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class jC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?R2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return GE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return GE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function QE(s){return o1(JSON.stringify({version:2,heartbeats:s})).length}function qC(s){if(s.length===0)return-1;let t=0,e=s[0].date;for(let i=1;i<s.length;i++)s[i].date<e&&(e=s[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(s){hl(new qa("platform-logger",t=>new tC(t),"PRIVATE")),hl(new qa("heartbeat",t=>new zC(t),"PRIVATE")),Bs(og,FE,s),Bs(og,FE,"esm2020"),Bs("fire-js","")}FC("");var HC="firebase",GC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(HC,GC,"app");function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=b1,S1=new Sc("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Qg("@firebase/auth");function QC(s,...t){Uf.logLevel<=Bt.WARN&&Uf.warn(`Auth (${Rl}): ${s}`,...t)}function Ef(s,...t){Uf.logLevel<=Bt.ERROR&&Uf.error(`Auth (${Rl}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(s,...t){throw $g(s,...t)}function cr(s,...t){return $g(s,...t)}function A1(s,t,e){const i={...KC(),[t]:e};return new Sc("auth","Firebase",i).create(t,{appName:s.name})}function zr(s){return A1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(s,...t){if(typeof s!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(e,...i)}return S1.create(s,...t)}function At(s,t,...e){if(!s)throw $g(t,...e)}function kr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ef(t),new Error(t)}function Fr(s,t){s||kr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){return typeof self<"u"&&self.location?.href||""}function YC(){return YE()==="http:"||YE()==="https:"}function YE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YC()||A2()||"connection"in navigator)?navigator.onLine:!0}function $C(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Fr(e>t,"Short delay should be less than long delay!"),this.isMobile=b2()||w2()}get(){return XC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(s,t){Fr(s.emulator,"Emulator should always be set here");const{url:e}=s.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZC=new wc(3e4,6e4);function Xs(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function $s(s,t,e,i,o={}){return I1(s,o,async()=>{let u={},c={};i&&(t==="GET"?c=i:u={body:JSON.stringify(i)});const m=Ac({key:s.config.apiKey,...c}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:p,...u};return S2()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Il(s.emulatorConfig.host)&&(g.credentials="include"),w1.fetch()(await R1(s,s.config.apiHost,e,m),g)})}async function I1(s,t,e){s._canInitEmulator=!1;const i={...JC,...t};try{const o=new eD(s),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw of(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(s,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw of(s,"email-already-in-use",c);if(p==="USER_DISABLED")throw of(s,"user-disabled",c);const T=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw A1(s,T,g);Li(s,T)}}catch(o){if(o instanceof Qr)throw o;Li(s,"network-request-failed",{message:String(o)})}}async function Ic(s,t,e,i,o={}){const u=await $s(s,t,e,i,o);return"mfaPendingCredential"in u&&Li(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function R1(s,t,e,i){const o=`${t}${e}?${i}`,u=s,c=u.config.emulator?Jg(s.config,o):`${s.config.apiScheme}://${o}`;return WC.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function tD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(cr(this.auth,"network-request-failed")),ZC.get())})}}function of(s,t,e){const i={appName:s.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const o=cr(s,t,i);return o.customData._tokenResponse=e,o}function XE(s){return s!==void 0&&s.enterprise!==void 0}class nD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return tD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(s,t){return $s(s,"GET","/v2/recaptchaConfig",Xs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(s,t){return $s(s,"POST","/v1/accounts:delete",t)}async function zf(s,t){return $s(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sD(s,t=!1){const e=bn(s),i=await e.getIdToken(t),o=Wg(i);At(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:i,authTime:Ku(Gp(o.auth_time)),issuedAtTime:Ku(Gp(o.iat)),expirationTime:Ku(Gp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gp(s){return Number(s)*1e3}function Wg(s){const[t,e,i]=s.split(".");if(t===void 0||e===void 0||i===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const o=l1(e);return o?JSON.parse(o):(Ef("Failed to decode base64 JWT payload"),null)}catch(o){return Ef("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $E(s){const t=Wg(s);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(s,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Qr&&aD(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function aD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(s){const t=s.auth,e=await s.getIdToken(),i=await ic(s,zf(t,{idToken:e}));At(i?.users.length,t,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?C1(o.providerUserInfo):[],c=uD(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!c?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function lD(s){const t=bn(s);await Bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uD(s,t){return[...s.filter(i=>!t.some(o=>o.providerId===i.providerId)),...t]}function C1(s){return s.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(s,t){const e=await I1(s,{},async()=>{const i=Ac({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await R1(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:i};return s.emulatorConfig&&Il(s.emulatorConfig.host)&&(p.credentials="include"),w1.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function hD(s,t){return $s(s,"POST","/v2/accounts:revokeToken",Xs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$E(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=$E(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:o,expiresIn:u}=await cD(t,e);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:o,expirationTime:u}=e,c=new sl;return i&&(At(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),o&&(At(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(s,t){At(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ki{constructor({uid:t,auth:e,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new oD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await ic(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return sD(this,t)}reload(){return lD(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ki({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Bf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(zr(this.auth));const t=await this.getIdToken();return await ic(this,rD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,T=e.lastLoginAt??void 0,{uid:v,emailVerified:A,isAnonymous:M,providerData:F,stsTokenManager:Z}=e;At(v&&Z,t,"internal-error");const K=sl.fromJSON(this.name,Z);At(typeof v=="string",t,"internal-error"),Cs(i,t.name),Cs(o,t.name),At(typeof A=="boolean",t,"internal-error"),At(typeof M=="boolean",t,"internal-error"),Cs(u,t.name),Cs(c,t.name),Cs(m,t.name),Cs(p,t.name),Cs(g,t.name),Cs(T,t.name);const et=new ki({uid:v,auth:t,email:o,emailVerified:A,displayName:i,isAnonymous:M,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:g,lastLoginAt:T});return F&&Array.isArray(F)&&(et.providerData=F.map(lt=>({...lt}))),p&&(et._redirectEventId=p),et}static async _fromIdTokenResponse(t,e,i=!1){const o=new sl;o.updateFromServerResponse(e);const u=new ki({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:i});return await Bf(u),u}static async _fromGetAccountInfoResponse(t,e,i){const o=e.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?C1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new sl;m.updateFromIdToken(i);const p=new ki({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;function Lr(s){Fr(s instanceof Function,"Expected a class definition");let t=JE.get(s);return t?(Fr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,JE.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}D1.type="NONE";const WE=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(s,t,e){return`firebase:${s}:${t}:${e}`}class al{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Tf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Tf("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await zf(this.auth,{idToken:t}).catch(()=>{});return e?ki._fromGetAccountInfoResponse(this.auth,e,t):null}return ki._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new al(Lr(WE),t,i);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Lr(WE);const c=Tf(i,t.config.apiKey,t.name);let m=null;for(const g of e)try{const T=await g._get(c);if(T){let v;if(typeof T=="string"){const A=await zf(t,{idToken:T}).catch(()=>{});if(!A)break;v=await ki._fromGetAccountInfoResponse(t,A,T)}else v=ki._fromJSON(t,T);g!==u&&(m=v),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new al(u,t,i):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new al(u,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(N1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P1(t))return"Blackberry";if(k1(t))return"Webos";if(x1(t))return"Safari";if((t.includes("chrome/")||O1(t))&&!t.includes("edge/"))return"Chrome";if(M1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(e);if(i?.length===2)return i[1]}return"Other"}function N1(s=He()){return/firefox\//i.test(s)}function x1(s=He()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function O1(s=He()){return/crios\//i.test(s)}function V1(s=He()){return/iemobile/i.test(s)}function M1(s=He()){return/android/i.test(s)}function P1(s=He()){return/blackberry/i.test(s)}function k1(s=He()){return/webos/i.test(s)}function Zg(s=He()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function fD(s=He()){return Zg(s)&&!!window.navigator?.standalone}function dD(){return I2()&&document.documentMode===10}function L1(s=He()){return Zg(s)||M1(s)||k1(s)||P1(s)||/windows phone/i.test(s)||V1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s,t=[]){let e;switch(s){case"Browser":e=ZE(He());break;case"Worker":e=`${ZE(He())}-${s}`;break;default:e=s}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Rl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});i.onAbort=e,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(s,t={}){return $s(s,"GET","/v2/passwordPolicy",Xs(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=6;class yD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??gD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let o=0;o<t.length;o++)i=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,e,i,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new mD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Lr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await zf(this,{idToken:t}),i=await ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=i?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Bf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$C()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(zr(this));const e=t?bn(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pD(this),e=new yD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await hD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Lr(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Lr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,i,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=U1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&QC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function to(s){return bn(s)}class tT{constructor(t){this.auth=t,this.observer=null,this.addObserver=O2(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vD(s){pd=s}function z1(s){return pd.loadJS(s)}function ED(){return pd.recaptchaEnterpriseScript}function TD(){return pd.gapiScript}function bD(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new AD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class AD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const wD="recaptcha-enterprise",B1="NO_RECAPTCHA";class ID{constructor(t){this.type=wD,this.auth=to(t)}async verify(t="verify",e=!1){async function i(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{iD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new nD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;XE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(B1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{i(this.auth).then(m=>{if(!e&&XE(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ED();p.length!==0&&(p+=m),z1(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function eT(s,t,e,i=!1,o=!1){const u=new ID(s);let c;if(o)c=B1;else try{c=await u.verify(e)}catch{c=await u.verify(e,!0)}const m={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fg(s,t,e,i,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eT(s,t,e,e==="getOobCode");return i(s,u)}else return i(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eT(s,t,e,e==="getOobCode");return i(s,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(s,t){const e=Xg(s,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ja(u,t??{}))return o;Li(o,"already-initialized")}return e.initialize({options:t})}function CD(s,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Lr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(i,t?.popupRedirectResolver)}function DD(s,t,e){const i=to(s);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const o=!1,u=j1(t),{host:c,port:m}=ND(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},T=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(ja(g,i.config.emulator)&&ja(T,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=T,i.settings.appVerificationDisabledForTesting=!0,Il(c)?(f1(`${u}//${c}${p}`),T2("Auth",!0)):xD()}function j1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function ND(s){const t=j1(s),e=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:nT(i.substr(u.length+1))}}else{const[u,c]=i.split(":");return{host:u,port:nT(c)}}}function nT(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function xD(){function s(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return kr("not implemented")}_getIdTokenResponse(t){return kr("not implemented")}_linkToIdToken(t,e){return kr("not implemented")}_getReauthenticationResolver(t){return kr("not implemented")}}async function OD(s,t){return $s(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(s,t){return Ic(s,"POST","/v1/accounts:signInWithPassword",Xs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(s,t){return Ic(s,"POST","/v1/accounts:signInWithEmailLink",Xs(s,t))}async function PD(s,t){return Ic(s,"POST","/v1/accounts:signInWithEmailLink",Xs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends ty{constructor(t,e,i,o=null){super("password",i),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new rc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new rc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(t,e,"signInWithPassword",VD);case"emailLink":return MD(t,{email:this._email,oobCode:this._password});default:Li(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(t,i,"signUpPassword",OD);case"emailLink":return PD(t,{idToken:e,email:this._email,oobCode:this._password});default:Li(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(s,t){return Ic(s,"POST","/v1/accounts:signInWithIdp",Xs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="http://localhost";class Fa extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Li("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:o,...u}=e;if(!i||!o)return null;const c=new Fa(i,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return ol(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ol(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ol(t,e)}buildRequest(){const t={requestUri:kD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ac(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UD(s){const t=Uu(zu(s)).link,e=t?Uu(zu(t)).deep_link_id:null,i=Uu(zu(s)).deep_link_id;return(i?Uu(zu(i)).link:null)||i||e||t||s}class ey{constructor(t){const e=Uu(zu(t)),i=e.apiKey??null,o=e.oobCode??null,u=LD(e.mode??null);At(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=UD(t);try{return new ey(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(t,e){return rc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=ey.parseLink(e);return At(i,"argument-error"),rc._fromEmailAndCode(t,i.code,i.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Rc{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Os.credential(t.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Fa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Vs.credential(e,i)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Rc{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Rc{constructor(){super("twitter.com")}static credential(t,e){return Fa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ps.credential(e,i)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(s,t){return Ic(s,"POST","/v1/accounts:signUp",Xs(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,o=!1){const u=await ki._fromIdTokenResponse(t,i,o),c=iT(i);return new Ha({user:u,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const o=iT(i);return new Ha({user:t,providerId:o,_tokenResponse:i,operationType:e})}}function iT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends Qr{constructor(t,e,i,o){super(e.code,e.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,o){return new jf(t,e,i,o)}}function F1(s,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(s):e._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(s,u,t,i):u})}async function BD(s,t,e=!1){const i=await ic(s,t._linkToIdToken(s.auth,await s.getIdToken()),e);return Ha._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(s,t,e=!1){const{auth:i}=s;if(fi(i.app))return Promise.reject(zr(i));const o="reauthenticate";try{const u=await ic(s,F1(i,o,t,s),e);At(u.idToken,i,"internal-error");const c=Wg(u.idToken);At(c,i,"internal-error");const{sub:m}=c;return At(s.uid===m,i,"user-mismatch"),Ha._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Li(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(s,t,e=!1){if(fi(s.app))return Promise.reject(zr(s));const i="signIn",o=await F1(s,i,t),u=await Ha._fromIdTokenResponse(s,i,o);return e||await s._updateCurrentUser(u.user),u}async function qD(s,t){return H1(to(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(s){const t=to(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function MP(s,t,e){if(fi(s.app))return Promise.reject(zr(s));const i=to(s),c=await fg(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&G1(s),p}),m=await Ha._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(m.user),m}function PP(s,t,e){return fi(s.app)?Promise.reject(zr(s)):qD(bn(s),Cl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&G1(s),i})}function FD(s,t,e,i){return bn(s).onIdTokenChanged(t,e,i)}function HD(s,t,e){return bn(s).beforeAuthStateChanged(t,e)}function kP(s,t,e,i){return bn(s).onAuthStateChanged(t,e,i)}function LP(s){return bn(s).signOut()}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1e3,KD=10;class Q1 extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),o=this.localCache[e];i!==o&&t(e,o,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const i=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},u=this.storage.getItem(i);dD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KD):o()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q1.type="LOCAL";const QD=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Y1.type="SESSION";const X1=Y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const i=new gd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await YD(m);e.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(s="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return s+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=ny("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(v){const A=v;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function $D(s){hr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function JD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){return navigator?.serviceWorker?.controller||null}function ZD(){return $1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",tN=1,Ff="firebaseLocalStorage",W1="fbase_key";class Cc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yd(s,t){return s.transaction([Ff],t?"readwrite":"readonly").objectStore(Ff)}function eN(){const s=indexedDB.deleteDatabase(J1);return new Cc(s).toPromise()}function dg(){const s=indexedDB.open(J1,tN);return new Promise((t,e)=>{s.addEventListener("error",()=>{e(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Ff,{keyPath:W1})}catch(o){e(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Ff)?t(i):(i.close(),await eN(),t(await dg()))})})}async function rT(s,t,e){const i=yd(s,!0).put({[W1]:t,value:e});return new Cc(i).toPromise()}async function nN(s,t){const e=yd(s,!1).get(t),i=await new Cc(e).toPromise();return i===void 0?null:i.value}function sT(s,t){const e=yd(s,!0).delete(t);return new Cc(e).toPromise()}const iN=800,rN=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>rN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JD(),!this.activeServiceWorker)return;this.sender=new XD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dg();return await rT(t,qf,"1"),await sT(t,qf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>rT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>nN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>sT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=yd(o,!1).getAll();return new Cc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const sN=Z1;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(s,t){return t?Lr(t):(At(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ty{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ol(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ol(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ol(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function oN(s){return H1(s.auth,new iy(s),s.bypassAuthState)}function lN(s){const{auth:t,user:e}=s;return At(e,t,"internal-error"),jD(e,new iy(s),s.bypassAuthState)}async function uN(s){const{auth:t,user:e}=s;return At(e,t,"internal-error"),BD(e,new iy(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,e,i,o,u=!1){this.auth=t,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oN;case"linkViaPopup":case"linkViaRedirect":return uN;case"reauthViaPopup":case"reauthViaRedirect":return lN;default:Li(this.auth,"internal-error")}}resolve(t){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new wc(2e3,1e4);class il extends tS{constructor(t,e,i,o,u){super(t,e,o,u),this.provider=i,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const t=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cN.get())};t()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="pendingRedirect",bf=new Map;class fN extends tS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=bf.get(this.auth._key());if(!t){try{const i=await dN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}bf.set(this.auth._key(),t)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dN(s,t){const e=gN(t),i=pN(s);if(!await i._isAvailable())return!1;const o=await i._get(e)==="true";return await i._remove(e),o}function mN(s,t){bf.set(s._key(),t)}function pN(s){return Lr(s._redirectPersistence)}function gN(s){return Tf(hN,s.config.apiKey,s.name)}async function yN(s,t,e=!1){if(fi(s.app))return Promise.reject(zr(s));const i=to(s),o=aN(i,t),c=await new fN(i,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=600*1e3;class vN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!eS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(cr(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_N&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(t))}saveEventToCache(t){this.cachedEventUids.add(aT(t)),this.lastProcessedEventTime=Date.now()}}function aT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function eS({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function EN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(s,t={}){return $s(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function AN(s){if(s.config.emulator)return;const{authorizedDomains:t}=await TN(s);for(const e of t)try{if(wN(e))return}catch{}Li(s,"unauthorized-domain")}function wN(s){const t=cg(),{protocol:e,hostname:i}=new URL(t);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&i===""?e==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!SN.test(e))return!1;if(bN.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new wc(3e4,6e4);function oT(){const s=hr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let e=0;e<s.CP.length;e++)s.CP[e]=null}}function RN(s){return new Promise((t,e)=>{function i(){oT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oT(),e(cr(s,"network-request-failed"))},timeout:IN.get()})}if(hr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(hr().gapi?.load)i();else{const o=bD("iframefcb");return hr()[o]=()=>{gapi.load?i():e(cr(s,"network-request-failed"))},z1(`${TD()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Sf=null,t})}let Sf=null;function CN(s){return Sf=Sf||RN(s),Sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new wc(5e3,15e3),NN="__/auth/iframe",xN="emulator/auth/iframe",ON={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MN(s){const t=s.config;At(t.authDomain,s,"auth-domain-config-required");const e=t.emulator?Jg(t,xN):`https://${s.config.authDomain}/${NN}`,i={apiKey:t.apiKey,appName:s.name,v:Rl},o=VN.get(s.config.apiHost);o&&(i.eid=o);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${e}?${Ac(i).slice(1)}`}async function PN(s){const t=await CN(s),e=hr().gapi;return At(e,s,"internal-error"),t.open({where:document.body,url:MN(s),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ON,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const c=cr(s,"network-request-failed"),m=hr().setTimeout(()=>{u(c)},DN.get());function p(){hr().clearTimeout(m),o(i)}i.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,UN=600,zN="_blank",BN="http://localhost";class lT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(s,t,e,i=LN,o=UN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p={...kN,width:i.toString(),height:o.toString(),top:u,left:c},g=He().toLowerCase();e&&(m=O1(g)?zN:e),N1(g)&&(t=t||BN,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[M,F])=>`${A}${M}=${F},`,"");if(fD(g)&&m!=="_self")return qN(t||"",m),new lT(null);const v=window.open(t||"",m,T);At(v,s,"popup-blocked");try{v.focus()}catch{}return new lT(v)}function qN(s,t){const e=document.createElement("a");e.href=s,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="__/auth/handler",HN="emulator/auth/handler",GN=encodeURIComponent("fac");async function uT(s,t,e,i,o,u){At(s.config.authDomain,s,"auth-domain-config-required"),At(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:e,redirectUrl:i,v:Rl,eventId:o};if(t instanceof q1){t.setDefaultLanguage(s.languageCode),c.providerId=t.providerId||"",x2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,v]of Object.entries({}))c[T]=v}if(t instanceof Rc){const T=t.getScopes().filter(v=>v!=="");T.length>0&&(c.scopes=T.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await s._getAppCheckToken(),g=p?`#${GN}=${encodeURIComponent(p)}`:"";return`${KN(s)}?${Ac(m).slice(1)}${g}`}function KN({config:s}){return s.emulator?Jg(s,HN):`https://${s.authDomain}/${FN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=yN,this._overrideRedirectResult=mN}async _openPopup(t,e,i,o){Fr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uT(t,e,i,cg(),o);return jN(t,u,ny())}async _openRedirect(t,e,i,o){await this._originValidation(t);const u=await uT(t,e,i,cg(),o);return $D(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Fr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await PN(t),i=new vN(t);return e.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Kp,{type:Kp},o=>{const u=o?.[0]?.[Kp];u!==void 0&&e(!!u),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=AN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return L1()||x1()||Zg()}}const YN=QN;var cT="@firebase/auth",hT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JN(s){hl(new qa("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=i.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U1(s)},g=new _D(i,o,u,p);return CD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),hl(new qa("auth-internal",t=>{const e=to(t.getProvider("auth").getImmediate());return(i=>new XN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(cT,hT,$N(s)),Bs(cT,hT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=300,ZN=h1("authIdTokenMaxAge")||WN;let fT=null;const tx=s=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>ZN)return;const o=e?.token;fT!==o&&(fT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ex(s=VC()){const t=Xg(s,"auth");if(t.isInitialized())return t.getImmediate();const e=RD(s,{popupRedirectResolver:YN,persistence:[sN,QD,X1]}),i=h1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const c=tx(u.toString());HD(e,c,()=>c(e.currentUser)),FD(e,m=>c(m))}}const o=y2("auth");return o&&DD(e,`http://${o}`),e}function nx(){return document.getElementsByTagName("head")?.[0]??document}vD({loadJS(s){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=t,i.onerror=o=>{const u=cr("internal-error");u.customData=o,e(u)},i.type="text/javascript",i.charset="UTF-8",nx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JN("Browser");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,nS;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,k){for(var R=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)R[Zt-2]=arguments[Zt];return w.prototype[N].apply(V,R)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],R;R=w+(k^C&(N^k))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(N^w&(C^N))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(C^k&(w^C))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(w^N&(k^w))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(k^C&(N^k))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(N^w&(C^N))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(C^k&(w^C))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(w^N&(k^w))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(k^C&(N^k))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(N^w&(C^N))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(C^k&(w^C))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(w^N&(k^w))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(k^C&(N^k))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(N^w&(C^N))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(C^k&(w^C))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(w^N&(k^w))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(N^k&(C^N))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(w^C))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(k^w))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(N^k))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(C^N))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(w^C))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(k^w))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(N^k))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(C^N))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(w^C))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(k^w))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(N^k))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(C^N))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(w^C))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(k^w))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(N^k))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(C^N^k)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^N)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^C)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^w)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^k)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^N)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^C)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^w)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^k)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^N)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^C)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^w)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^k)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^N)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^C)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^w)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(N^(C|~k))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~N))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~C))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~w))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~k))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~N))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~C))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~w))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~k))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~N))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~C))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~w))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~k))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~N))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~C))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}i.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<w;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function u(I,w){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function c(I,w){this.h=w;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==w||(C[N]=k,V=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return K(g(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new c(w,0)}function T(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return K(T(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let V=v;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+N),w);N<8?(N=g(Math.pow(w,N)),V=V.j(N).add(g(R))):(V=V.j(C),V=V.add(g(R)))}return V}var v=p(0),A=p(1),M=p(16777216);s=c.prototype,s.m=function(){if(Z(this))return-K(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(Z(this))return"-"+K(this).toString(I);const w=g(Math.pow(I,6));var C=this;let V="";for(;;){const N=ft(C,w).g;C=et(C,N.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,F(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function Z(I){return I.h==-1}s.l=function(I){return I=et(this,I),Z(I)?-1:F(I)?0:1};function K(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new c(C,~I.h).add(A)}s.abs=function(){return Z(this)?K(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new c(C,C[C.length-1]&-2147483648?-1:0)};function et(I,w){return I.add(K(w))}s.j=function(I){if(F(this)||F(I))return v;if(Z(this))return Z(I)?K(this).j(K(I)):K(K(this).j(I));if(Z(I))return K(this.j(K(I)));if(this.l(M)<0&&I.l(M)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,Zt=I.i(N)>>>16,he=I.i(N)&65535;C[2*V+2*N]+=R*he,lt(C,2*V+2*N),C[2*V+2*N+1]+=k*he,lt(C,2*V+2*N+1),C[2*V+2*N+1]+=R*Zt,lt(C,2*V+2*N+1),C[2*V+2*N+2]+=k*Zt,lt(C,2*V+2*N+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new c(C,0)};function lt(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function J(I,w){this.g=I,this.h=w}function ft(I,w){if(F(w))throw Error("division by zero");if(F(I))return new J(v,v);if(Z(I))return w=ft(K(I),w),new J(K(w.g),K(w.h));if(Z(w))return w=ft(I,K(w)),new J(K(w.g),w.h);if(I.g.length>30){if(Z(I)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,V=w;V.l(I)<=0;)C=at(C),V=at(V);var N=ct(C,1),k=ct(V,1);for(V=ct(V,2),C=ct(C,2);!F(V);){var R=k.add(V);R.l(I)<=0&&(N=N.add(C),k=R),V=ct(V,1),C=ct(C,1)}return w=et(I,N.j(w)),new J(N,w)}for(N=v;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(C),R=k.j(w);Z(R)||R.l(I)>0;)C-=V,k=g(C),R=k.j(w);F(k)&&(k=A),N=N.add(k),I=et(I,R)}return new J(N,I)}s.B=function(I){return ft(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new c(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new c(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new c(C,this.h^I.h)};function at(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new c(C,I.h)}function ct(I,w){const C=w>>5;w%=32;const V=I.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=w>0?I.i(k+C)>>>w|I.i(k+C+1)<<32-w:I.i(k+C);return new c(N,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,nS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=T,js=c}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iS,Bu,rS,Af,mg,sS,aS,oS;(function(){var s,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function o(h,y){if(y)t:{var E=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in E))break t;E=E[U]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function T(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function v(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,U,H){for(var st=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)st[Dt-2]=arguments[Dt];return y.prototype[U].apply(S,st)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const y=h.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function F(h,y){for(let S=1;S<arguments.length;S++){const U=arguments[S];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=h.length||0;const H=U.length||0;h.length=E+H;for(let st=0;st<H;st++)h[E+st]=U[st]}else h.push(U)}}class Z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){c.setTimeout(()=>{throw h},0)}function et(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class lt{constructor(){this.h=this.g=null}add(y,E){const S=J.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var J=new Z(()=>new ft,h=>h.reset());class ft{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ct=!1,I=new lt,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(C)}};function C(){for(var h;h=et();){try{h.h.call(h.g)}catch(E){K(E)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function Zt(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(Zt,N),Zt.prototype.init=function(h,y){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),q=0;function nt(h,y,E,S,U){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=U,this.key=++q,this.da=this.fa=!1}function gt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function Ot(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function x(h){const y={};for(const E in h)y[E]=h[E];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(h,y){let E,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(E in S)h[E]=S[E];for(let H=0;H<X.length;H++)E=X[H],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function rt(h){this.src=h,this.g={},this.h=0}rt.prototype.add=function(h,y,E,S,U){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const st=Et(h,y,S,U);return st>-1?(y=h[st],E||(y.fa=!1)):(y=new nt(y,this.src,H,!!S,U),y.fa=E,h.push(y)),y};function dt(h,y){const E=y.type;if(E in h.g){var S=h.g[E],U=Array.prototype.indexOf.call(S,y,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(gt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Et(h,y,E,S){for(let U=0;U<h.length;++U){const H=h[U];if(!H.da&&H.listener==y&&H.capture==!!E&&H.ha==S)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Rt={};function Qt(h,y,E,S,U){if(Array.isArray(y)){for(let H=0;H<y.length;H++)Qt(h,y[H],E,S,U);return null}return E=$r(E),h&&h[he]?h.J(y,E,m(S)?!!S.capture:!1,U):Jn(h,y,E,!1,S,U)}function Jn(h,y,E,S,U,H){if(!y)throw Error("Invalid event type");const st=m(U)?!!U.capture:!!U;let Dt=Ui(h);if(Dt||(h[Vt]=Dt=new rt(h)),E=Dt.add(y,E,S,st,H),E.proxy)return E;if(S=_i(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)k||(U=st),U===void 0&&(U=!1),h.addEventListener(y.toString(),S,U);else if(h.attachEvent)h.attachEvent(Sn(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _i(){function h(E){return y.call(h.src,h.listener,E)}const y=ta;return h}function Vn(h,y,E,S,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)Vn(h,y[H],E,S,U);else S=m(S)?!!S.capture:!!S,E=$r(E),h&&h[he]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],E=Et(y,E,S,U),E>-1&&(gt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=Ui(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Et(y,E,S,U)),(E=h>-1?y[h]:null)&&Xr(E))}function Xr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[he])dt(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(Sn(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Ui(y))?(dt(E,h),E.h==0&&(E.src=null,y[Vt]=null)):gt(h)}}}function Sn(h){return h in Rt?Rt[h]:Rt[h]="on"+h}function ta(h,y){if(h.da)h=!0;else{y=new Zt(y,this);const E=h.listener,S=h.ha||h.src;h.fa&&Xr(h),h=E.call(S,y)}return h}function Ui(h){return h=h[Vt],h instanceof rt?h:null}var vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function $r(h){return typeof h=="function"?h:(h[vi]||(h[vi]=function(y){return h.handleEvent(y)}),h[vi])}function Jt(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}v(Jt,V),Jt.prototype[he]=!0,Jt.prototype.removeEventListener=function(h,y,E,S){Vn(this,h,y,E,S)};function Ie(h,y){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var U=y;y=new N(S,h),tt(y,U)}U=!0;let H,st;if(E)for(st=E.length-1;st>=0;st--)H=y.g=E[st],U=zi(H,S,!0,y)&&U;if(H=y.g=h,U=zi(H,S,!0,y)&&U,U=zi(H,S,!1,y)&&U,E)for(st=0;st<E.length;st++)H=y.g=E[st],U=zi(H,S,!1,y)&&U}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let S=0;S<E.length;S++)gt(E[S]);delete h.g[y],h.h--}}this.G=null},Jt.prototype.J=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},Jt.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function zi(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let H=0;H<y.length;++H){const st=y[H];if(st&&!st.da&&st.capture==E){const Dt=st.listener,Re=st.ha||st.src;st.fa&&dt(h.i,st),U=Dt.call(Re,S)!==!1&&U}}return U&&!S.defaultPrevented}function Je(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ei(h){h.g=Je(()=>{h.g=null,h.i&&(h.i=!1,Ei(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class We extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ei(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(h){V.call(this),this.h=h,this.g={}}v(pr,V);var Bi=[];function ea(h){xt(h.g,function(y,E){this.g.hasOwnProperty(E)&&Xr(y)},h),h.g={}}pr.prototype.N=function(){pr.Z.N.call(this),ea(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=c.JSON.stringify,na=c.JSON.parse,bi=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ia(){}function Si(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}v(je,N);function pn(){N.call(this,"c")}v(pn,N);var pe={},ro=null;function ji(){return ro=ro||new Jt}pe.Ia="serverreachability";function Pn(h){N.call(this,pe.Ia,h)}v(Pn,N);function Wn(h){const y=ji();Ie(y,new Pn(y))}pe.STAT_EVENT="statevent";function gr(h,y){N.call(this,pe.STAT_EVENT,h),this.stat=y}v(gr,N);function Ee(h){const y=ji();Ie(y,new gr(y,h))}pe.Ja="timingevent";function kn(h,y){N.call(this,pe.Ja,h),this.size=y}v(kn,N);function bt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Wt(){this.g=!0}Wt.prototype.ua=function(){this.g=!1};function Ne(h,y,E,S,U,H){h.info(function(){if(h.g)if(H){var st="",Dt=H.split("&");for(let Yt=0;Yt<Dt.length;Yt++){var Re=Dt[Yt].split("=");if(Re.length>1){const ge=Re[0];Re=Re[1];const ii=ge.split("_");st=ii.length>=2&&ii[1]=="type"?st+(ge+"="+Re+"&"):st+(ge+"=redacted&")}}}else st=null;else st=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+E+`
`+st})}function Ke(h,y,E,S,U,H,st){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+E+`
`+H+" "+st})}function gn(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+cn(h,E)+(S?" "+S:"")})}function fe(h,y){h.info(function(){return"TIMEOUT: "+y})}Wt.prototype.info=function(){};function cn(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var E=H[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<S.length;st++)S[st]=""}}}}return Ti(H)}catch{return y}}var Zn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ze={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tn;function qi(){}v(qi,ia),qi.prototype.g=function(){return new XMLHttpRequest},tn=new qi;function en(h){return encodeURIComponent(String(h))}function Vl(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Ai(h,y,E,S){this.j=h,this.i=y,this.l=E,this.S=S||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var xe={},Qe={};function Fi(h,y,E){h.M=1,h.A=ra(Ve(y)),h.u=E,h.R=!0,so(h,null)}function so(h,y){h.F=Date.now(),Hi(h),h.B=Ve(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),uo(E.i,"t",S),h.C=0,E=h.j.L,h.h=new wi,h.g=Wc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new We(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,S=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(Bi[0]=U.toString()),U=Bi);for(let H=0;H<U.length;H++){const st=Qt(E,U[H],S||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Wn(),Ne(h.i,h.v,h.B,h.l,h.S,h.u)}Ai.prototype.ba=function(h){h=h.target;const y=this.O;y&&Ci(h)==3?y.j():this.Y(h)},Ai.prototype.Y=function(h){try{if(h==this.g)t:{const Dt=Ci(this.g),Re=this.g.ya(),Yt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Dt!=4||Re==7||(Re==8||Yt<=0?Wn(3):Wn(2)),Gi(this);var y=this.g.ca();this.X=y;var E=Ud(this);if(this.o=y==200,Ke(this.i,this.v,this.B,this.l,this.S,Dt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var H=S;break e}}H=null}if(h=H)gn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,h);else{this.o=!1,this.m=3,Ee(12),Ln(this),ti(this);break t}}if(this.R){h=!0;let ge;for(;!this.K&&this.C<E.length;)if(ge=zc(this,E),ge==Qe){Dt==4&&(this.m=4,Ee(14),h=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==xe){this.m=4,Ee(15),gn(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else gn(this.i,this.l,ge,null),Ki(this,ge);if(Uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,Ee(16),h=!1),this.o=this.o&&h,!h)gn(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),ti(this);else if(E.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Yl(st),st.P=!0,Ee(11))}}else gn(this.i,this.l,E,null),Ki(this,E);Dt==4&&Ln(this),this.o&&!this.K&&(Dt==4?Yc(this.j,this):(this.o=!1,Hi(this)))}else _r(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),Ln(this),ti(this)}}}catch{}finally{}};function Ud(h){if(!Uc(h))return h.g.la();const y=nn(h.g);if(y==="")return"";let E="";const S=y.length,U=Ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),ti(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<S;H++)h.h.h=!0,E+=h.h.i.decode(y[H],{stream:!(U&&H==S-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Uc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zc(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?Qe:(E=Number(y.substring(E,S)),isNaN(E)?xe:(S+=1,S+E>y.length?Qe:(y=y.slice(S,S+E),h.C=S+E,y)))}Ai.prototype.cancel=function(){this.K=!0,Ln(this)};function Hi(h){h.T=Date.now()+h.H,ao(h,h.H)}function ao(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bt(g(h.aa,h),y)}function Gi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(fe(this.i,this.B),this.M!=2&&(Wn(),Ee(17)),Ln(this),this.m=2,ti(this)):ao(this,this.T-h)};function ti(h){h.j.I==0||h.K||Yc(h.j,h)}function Ln(h){Gi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,ea(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ki(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Yi(E.h,h))){if(!h.L&&Yi(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)po(E),rs(E);else break t;ha(E),Ee(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bt(g(E.Va,E),6e3));Qi(E.h)<=1&&E.ta&&(E.ta=void 0)}else tr(E,11)}else if((h.L||E.g==h)&&po(E),!R(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let Yt=U[y];const ge=Yt[0];if(!(ge<=E.K))if(E.K=ge,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const ii=Yt[3];ii!=null&&(E.ka=ii,E.j.info("VER="+E.ka));const er=Yt[4];er!=null&&(E.za=er,E.j.info("SVER="+E.za));const Di=Yt[5];Di!=null&&typeof Di=="number"&&Di>0&&(S=1.5*Di,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Ni=h.g;if(Ni){const fa=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var H=S.h;H.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(kl(H,H.h),H.h=null))}if(S.G){const go=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(S.wa=go,te(S.J,S.G,go))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var st=h;if(S.na=Jc(S,S.L?S.ba:null,S.W),st.L){Ll(S.h,st);var Dt=st,Re=S.O;Re&&(Dt.H=Re),Dt.D&&(Gi(Dt),Hi(Dt)),S.g=st}else Kc(S);E.i.length>0&&Zi(E)}else Yt[0]!="stop"&&Yt[0]!="close"||tr(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?tr(E,7):Kl(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}Wn(4)}catch{}}var Oe=class{constructor(h,y){this.g=h,this.map=y}};function Ml(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qi(h){return h.h?1:h.g?h.g.size:0}function Yi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function kl(h,y){h.g?h.g.add(y):h.h=y}function Ll(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ml.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ul(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return M(h.i)}var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let U,H=null;S>=0?(U=h[E].substring(0,S),H=h[E].substring(S+1)):U=h[E],y(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Un(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Un?(this.l=h.l,Ye(this,h.j),this.o=h.o,this.g=h.g,Jr(this,h.u),this.h=h.h,zl(this,Hc(h.i)),this.m=h.m):h&&(y=String(h).match(Bc))?(this.l=!1,Ye(this,y[1]||"",!0),this.o=Xi(y[2]||""),this.g=Xi(y[3]||"",!0),Jr(this,y[4]),this.h=Xi(y[5]||"",!0),zl(this,y[6]||"",!0),this.m=Xi(y[7]||"")):(this.l=!1,this.i=new Zr(null,this.l))}Un.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(sa(y,lo,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(sa(y,lo,!0),"@"),h.push(en(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(sa(E,E.charAt(0)=="/"?Bl:jc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",sa(E,qc)),h.join("")},Un.prototype.resolve=function(h){const y=Ve(this);let E=!!h.j;E?Ye(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var S=h.h;if(E)Jr(y,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=y.h.lastIndexOf("/");U!=-1&&(S=y.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let st=0;st<U.length;){const Dt=U[st++];Dt=="."?S&&st==U.length&&H.push(""):Dt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&st==U.length&&H.push("")):(H.push(Dt),S=!0)}S=H.join("/")}else S=U}return E?y.h=S:E=h.i.toString()!=="",E?zl(y,Hc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ve(h){return new Un(h)}function Ye(h,y,E){h.j=E?Xi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Jr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function zl(h,y,E){y instanceof Zr?(h.i=y,co(h.i,h.l)):(E||(y=sa(y,Wr)),h.i=new Zr(y,h.l))}function te(h,y,E){h.i.set(y,E)}function ra(h){return te(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sa(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,An),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var lo=/[#\/\?@]/g,jc=/[#\?:]/g,Bl=/[#\?]/g,Wr=/[#\?@]/g,qc=/#/g;function Zr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function wn(h){h.g||(h.g=new Map,h.h=0,h.i&&oo(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=Zr.prototype,s.add=function(h,y){wn(this),this.i=null,h=ts(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Fc(h,y){wn(h),y=ts(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function jl(h,y){return wn(h),y=ts(h,y),h.g.has(y)}s.forEach=function(h,y){wn(this),this.g.forEach(function(E,S){E.forEach(function(U){h.call(y,U,S,this)},this)},this)};function ql(h,y){wn(h);let E=[];if(typeof y=="string")jl(h,y)&&(E=E.concat(h.g.get(ts(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}s.set=function(h,y){return wn(this),this.i=null,h=ts(this,h),jl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=ql(this,h),h.length>0?String(h[0]):y):y};function uo(h,y,E){Fc(h,y),E.length>0&&(h.i=null,h.g.set(ts(h,y),M(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const U=en(E);E=ql(this,E);for(let H=0;H<E.length;H++){let st=U;E[H]!==""&&(st+="="+en(E[H])),h.push(st)}}return this.i=h.join("&")};function Hc(h){const y=new Zr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ts(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function co(h,y){y&&!h.j&&(wn(h),h.i=null,h.g.forEach(function(E,S){const U=S.toLowerCase();S!=U&&(Fc(this,S),uo(this,U,E))},h)),h.j=y}function Ii(h,y){const E=new Wt;if(c.Image){const S=new Image;S.onload=T(ei,E,"TestLoadImage: loaded",!0,y,S),S.onerror=T(ei,E,"TestLoadImage: error",!1,y,S),S.onabort=T(ei,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=T(ei,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Fl(h,y){const E=new Wt,S=new AbortController,U=setTimeout(()=>{S.abort(),ei(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?ei(E,"TestPingServer: ok",!0,y):ei(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),ei(E,"TestPingServer: error",!1,y)})}function ei(h,y,E,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(E)}catch{}}function es(){this.g=new bi}function $i(h){this.i=h.Sb||null,this.h=h.ab||!1}v($i,ia),$i.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,y){Jt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(aa,Jt),s=aa.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ri(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ho(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ho(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ns(this):Ri(this),this.readyState==3&&ho(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,ns(this))},s.Na=function(h){this.g&&(this.response=h,ns(this))},s.ga=function(){this.g&&ns(this)};function ns(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ri(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ni(h){let y="";return xt(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function oa(h,y,E){t:{for(S in E){var S=!1;break t}S=!0}S||(E=ni(E),typeof h=="string"?E!=null&&en(E):te(h,y,E))}function ae(h){Jt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ae,Jt);var Ji=/^https?$/i,Hl=["POST","PUT"];s=ae.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tn.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){la(this,H);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)E.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())E.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Hl,y,void 0)>=0)||S||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,st]of E)this.g.setRequestHeader(H,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){la(this,H)}};function la(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Gl(h),yr(h)}function Gl(h){h.A||(h.A=!0,Ie(h,"complete"),Ie(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ie(this,"complete"),Ie(this,"abort"),yr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),ae.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},s.Xa=function(){ua(this)};function ua(h){if(h.h&&typeof u<"u"){if(h.v&&Ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ie(h,"readystatechange"),Ci(h)==4){h.h=!1;try{const H=h.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var S;if(S=H===0){let st=String(h.D).match(Bc)[1]||null;!st&&c.self&&c.self.location&&(st=c.self.location.protocol.slice(0,-1)),S=!Ji.test(st?st.toLowerCase():"")}E=S}if(E)Ie(h,"complete"),Ie(h,"success");else{h.o=6;try{var U=Ci(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Gl(h)}}finally{yr(h)}}}}function yr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ie(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ci(h){return h.g?h.g.readyState:0}s.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),na(y)}};function nn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _r(h){const y={};h=(h.g&&Ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(R(h[S]))continue;var E=Vl(h[S]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=y[U]||[];y[U]=H,H.push(E)}Ot(y,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function is(h){this.za=0,this.i=[],this.j=new Wt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,h),this.Za=Wi("retryDelaySeedMs",1e4,h),this.Ta=Wi("forwardChannelMaxRetries",2,h),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ml(h&&h.concurrentRequestLimit),this.Ba=new es,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=is.prototype,s.ka=8,s.I=1,s.connect=function(h,y,E,S){Ee(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Jc(this,null,this.W),Zi(this)};function Kl(h){if(fo(h),h.I==3){var y=h.V++,E=Ve(h.J);if(te(E,"SID",h.M),te(E,"RID",y),te(E,"TYPE","terminate"),ca(h,E),y=new Ai(h,h.j,y),y.M=2,y.A=ra(Ve(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Wc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Hi(y)}$c(h)}function rs(h){h.g&&(Yl(h),h.g.cancel(),h.g=null)}function fo(h){rs(h),h.v&&(c.clearTimeout(h.v),h.v=null),po(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Zi(h){if(!Pl(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||w(),ct||(at(),ct=!0),I.add(y,h),h.D=0}}function mo(h,y){return Qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bt(g(h.Ea,h,y),Xc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Ai(this,this.j,h);let H=this.o;if(this.U&&(H?(H=x(H),tt(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Gc(this,U,y),E=Ve(this.J),te(E,"RID",h),te(E,"CVER",22),this.G&&te(E,"X-HTTP-Session-Id",this.G),ca(this,E),H&&(this.R?y="headers="+en(ni(H))+"&"+y:this.u&&oa(E,this.u,H)),kl(this.h,U),this.Ra&&te(E,"TYPE","init"),this.S?(te(E,"$req",y),te(E,"SID","null"),U.U=!0,Fi(U,E,null)):Fi(U,E,y),this.I=2}}else this.I==3&&(h?Ql(this,h):this.i.length==0||Pl(this.h)||Ql(this))};function Ql(h,y){var E;y?E=y.l:E=h.V++;const S=Ve(h.J);te(S,"SID",h.M),te(S,"RID",E),te(S,"AID",h.K),ca(h,S),h.u&&h.o&&oa(S,h.u,h.o),E=new Ai(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Gc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),kl(h.h,E),Fi(E,S,y)}function ca(h,y){h.H&&xt(h.H,function(E,S){te(y,S,E)}),h.l&&xt({},function(E,S){te(y,S,E)})}function Gc(h,y,E){E=Math.min(h.i.length,E);const S=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let Dt=-1;for(;;){const Re=["count="+E];Dt==-1?E>0?(Dt=U[0].g,Re.push("ofs="+Dt)):Dt=0:Re.push("ofs="+Dt);let Yt=!0;for(let ge=0;ge<E;ge++){var H=U[ge].g;const ii=U[ge].map;if(H-=Dt,H<0)Dt=Math.max(0,U[ge].g-100),Yt=!1;else try{H="req"+H+"_"||"";try{var st=ii instanceof Map?ii:Object.entries(ii);for(const[er,Di]of st){let Ni=Di;m(Di)&&(Ni=Ti(Di)),Re.push(H+er+"="+encodeURIComponent(Ni))}}catch(er){throw Re.push(H+"type="+encodeURIComponent("_badmap")),er}}catch{S&&S(ii)}}if(Yt){st=Re.join("&");break t}}st=void 0}return h=h.i.splice(0,E),y.G=h,st}function Kc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||w(),ct||(at(),ct=!0),I.add(y,h),h.A=0}}function ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bt(g(h.Da,h),Xc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bt(g(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),rs(this),Qc(this))};function Yl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Qc(h){h.g=new Ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ve(h.na);te(y,"RID","rpc"),te(y,"SID",h.M),te(y,"AID",h.K),te(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&te(y,"TO",h.ia),te(y,"TYPE","xmlhttp"),ca(h,y),h.u&&h.o&&oa(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ra(Ve(y)),E.u=null,E.R=!0,so(E,h)}s.Va=function(){this.C!=null&&(this.C=null,rs(this),ha(this),Ee(19))};function po(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Yc(h,y){var E=null;if(h.g==y){po(h),Yl(h),h.g=null;var S=2}else if(Yi(h.h,y))E=y.G,Ll(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;S=ji(),Ie(S,new kn(S,E)),Zi(h)}else Kc(h);else if(U=y.m,U==3||U==0&&y.X>0||!(S==1&&mo(h,y)||S==2&&ha(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),U){case 1:tr(h,5);break;case 4:tr(h,10);break;case 3:tr(h,6);break;default:tr(h,2)}}}function Xc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function tr(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),S=h.Ua;const U=!S;S=new Un(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(S,"https"),ra(S),U?Ii(S.toString(),E):Fl(S.toString(),E)}else Ee(2);h.I=0,h.l&&h.l.pa(y),$c(h),fo(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function $c(h){if(h.I=0,h.ja=[],h.l){const y=Ul(h.h);(y.length!=0||h.i.length!=0)&&(F(h.ja,y),F(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Jc(h,y,E){var S=E instanceof Un?Ve(E):new Un(E);if(S.g!="")y&&(S.g=y+"."+S.g),Jr(S,S.u);else{var U=c.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const H=new Un(null);S&&Ye(H,S),y&&(H.g=y),U&&Jr(H,U),E&&(H.h=E),S=H}return E=h.G,y=h.wa,E&&y&&te(S,E,y),te(S,"VER",h.ka),ca(h,S),S}function Wc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ae(new $i({ab:E})):new ae(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}s=Zc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ss(){}ss.prototype.g=function(h,y){return new yn(h,y)};function yn(h,y){Jt.call(this),this.g=new is(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vr(this)}v(yn,Jt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Kl(this.g)},yn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ti(h),h=E);y.i.push(new Oe(y.Ya++,h)),y.I==3&&Zi(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,yn.Z.N.call(this)};function th(h){je.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v(th,je);function eh(){pn.call(this),this.status=1}v(eh,pn);function vr(h){this.g=h}v(vr,Zc),vr.prototype.ra=function(){Ie(this.g,"a")},vr.prototype.qa=function(h){Ie(this.g,new th(h))},vr.prototype.pa=function(h){Ie(this.g,new eh)},vr.prototype.oa=function(){Ie(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,oS=function(){return new ss},aS=function(){return ji()},sS=pe,mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Af=Zn,Ze.COMPLETE="complete",rS=Ze,Si.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,Bu=Si,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,iS=ae}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const mT="@firebase/firestore",pT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Qg("@firebase/firestore");function Wo(){return Ga.logLevel}function it(s,...t){if(Ga.logLevel<=Bt.DEBUG){const e=t.map(ry);Ga.debug(`Firestore (${Dl}): ${s}`,...e)}}function En(s,...t){if(Ga.logLevel<=Bt.ERROR){const e=t.map(ry);Ga.error(`Firestore (${Dl}): ${s}`,...e)}}function sc(s,...t){if(Ga.logLevel<=Bt.WARN){const e=t.map(ry);Ga.warn(`Firestore (${Dl}): ${s}`,...e)}}function ry(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,lS(s,i,e)}function lS(s,t,e){let i=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw En(i),new Error(i)}function _t(s,t,e,i){let o="Unexpected state";typeof e=="string"?o=e:i=e,s||lS(t,o,i)}function It(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Qr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(vn.UNAUTHENTICATED)))}shutdown(){}}class sx{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,e(p)):Promise.resolve();let u=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Br,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Br)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new ix(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class ax{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new ax(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const i=u=>{u.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,it("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>i(u)))};const o=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new gT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<s;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ux(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<e&&(i+=t.charAt(o[u]%62))}return i}}function wt(s,t){return s<t?-1:s>t?1:0}function pg(s,t){const e=Math.min(s.length,t.length);for(let i=0;i<e;i++){const o=s.charAt(i),u=t.charAt(i);if(o!==u)return Qp(o)===Qp(u)?wt(o,u):Qp(o)?1:-1}return wt(s.length,t.length)}const cx=55296,hx=57343;function Qp(s){const t=s.charCodeAt(0);return t>=cx&&t<=hx}function fl(s,t,e){return s.length===t.length&&s.every(((i,o)=>e(i,t[o])))}function uS(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="__name__";class or{constructor(t,e,i){e===void 0?e=0:e>t.length&&pt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&pt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return or.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof or?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let o=0;o<i;o++){const u=or.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return wt(t.length,e.length)}static compareSegments(t,e){const i=or.isNumericId(t),o=or.isNumericId(e);return i&&!o?-1:!i&&o?1:i&&o?or.extractNumericId(t).compare(or.extractNumericId(e)):pg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return js.fromString(t.substring(4,t.length-2))}}class $t extends or{construct(t,e,i){return new $t(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((o=>o.length>0)))}return new $t(e)}static emptyPath(){return new $t([])}}const fx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Te extends or{construct(t,e,i){return new Te(t,e,i)}static isValidIdentifier(t){return fx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Te.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yT}static keyField(){return new Te([yT])}static fromServerFormat(t){const e=[];let i="",o=0;const u=()=>{if(i.length===0)throw new ut(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(i+=m,o++):(u(),o++)}if(u(),c)throw new ut(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Te(e)}static emptyPath(){return new Te([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht($t.fromString(t))}static fromName(t){return new ht($t.fromString(t).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return $t.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new $t(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(s,t,e){if(!e)throw new ut(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function dx(s,t,e,i){if(t===!0&&i===!0)throw new ut(Y.INVALID_ARGUMENT,`${s} and ${e} cannot be used together.`)}function _T(s){if(!ht.isDocumentKey(s))throw new ut(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function vT(s){if(ht.isDocumentKey(s))throw new ut(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _d(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Hf(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_d(s);throw new ut(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s,t){const e={typeString:s};return t&&(e.value=t),e}function Dc(s,t){if(!hS(s))throw new ut(Y.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const o=t[i].typeString,u="value"in t[i]?{value:t[i].value}:void 0;if(!(i in s)){e=`JSON missing required field: '${i}'`;break}const c=s[i];if(o&&typeof c!==o){e=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${i}' field to equal '${u.value}'`;break}}if(e)throw new ut(Y.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-62135596800,TT=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*TT);return new ie(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ET)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TT}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dc(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ET;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:ze("string",ie._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ie(0,0))}static max(){return new Tt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=-1;class Gf{constructor(t,e,i,o){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=o}}function gg(s){return s.fields.find((t=>t.kind===2))}function Na(s){return s.fields.filter((t=>t.kind!==2))}Gf.UNKNOWN_ID=-1;class wf{constructor(t,e){this.fieldPath=t,this.kind=e}}class oc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new oc(0,Xn.min())}}function mx(s,t){const e=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(i===1e9?new ie(e+1,0):new ie(e,i));return new Xn(o,ht.empty(),t)}function fS(s){return new Xn(s.readTime,s.key,ac)}class Xn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Xn(Tt.min(),ht.empty(),ac)}static max(){return new Xn(Tt.max(),ht.empty(),ac)}}function ay(s,t){let e=s.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(s.documentKey,t.documentKey),e!==0?e:wt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==dS)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new L(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(i,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof L?e:L.resolve(e)}catch(e){return L.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):L.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):L.reject(e)}static resolve(t){return new L(((e,i)=>{e(t)}))}static reject(t){return new L(((e,i)=>{i(t)}))}static waitFor(t){return new L(((e,i)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>i(p)))})),c=!0,u===o&&e()}))}static or(t){let e=L.resolve(!1);for(const i of t)e=e.next((o=>o?L.resolve(o):i()));return e}static forEach(t,e){const i=[];return t.forEach(((o,u)=>{i.push(e.call(this,o,u))})),this.waitFor(i)}static mapArray(t,e){return new L(((i,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((T=>{c[g]=T,++m,m===u&&i(c)}),(T=>o(T)))}}))}static doWhile(t,e){return new L(((i,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):i()};u()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="SimpleDb";class vd{static open(t,e,i,o){try{return new vd(e,t.transaction(o,i))}catch(u){throw new Qu(e,u)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new Br,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Qu(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const o=oy(i.target.error);this.S.reject(new Qu(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(it(Kn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new gx(e)}}class qs{static delete(t){return it(Kn,"Removing database:",t),Va(u1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!g1())return!1;if(qs.F())return!0;const t=He(),e=qs.M(t),i=0<e&&e<10,o=pS(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,qs.M(He())===12.2&&En("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(it(Kn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;e(c)},o.onblocked=()=>{i(new Qu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?i(new ut(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ut(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Qu(t,c))},o.onupgradeneeded=u=>{it(Kn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{it(Kn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,o){const u=e==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const m=vd.open(this.db,t,u?"readonly":"readwrite",i),p=o(m).next((g=>(m.C(),g))).catch((g=>(m.abort(g),L.reject(g)))).toPromise();return p.catch((()=>{})),await m.D,p}catch(m){const p=m,g=p.name!=="FirebaseError"&&c<3;if(it(Kn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function pS(s){const t=s.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class px{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return Va(this.U.delete())}}class Qu extends ut{constructor(t,e){super(Y.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Js(s){return s.name==="IndexedDbTransactionError"}class gx{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(it(Kn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(it(Kn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Va(i)}add(t){return it(Kn,"ADD",this.store.name,t,t),Va(this.store.add(t))}get(t){return Va(this.store.get(t)).next((e=>(e===void 0&&(e=null),it(Kn,"GET",this.store.name,t,e),e)))}delete(t){return it(Kn,"DELETE",this.store.name,t),Va(this.store.delete(t))}count(){return it(Kn,"COUNT",this.store.name),Va(this.store.count())}J(t,e){const i=this.options(t,e),o=i.index?this.store.index(i.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(i.range);return new L(((c,m)=>{u.onerror=p=>{m(p.target.error)},u.onsuccess=p=>{c(p.target.result)}}))}{const u=this.cursor(i),c=[];return this.H(u,((m,p)=>{c.push(p)})).next((()=>c))}}Y(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new L(((o,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{o(c.target.result)}}))}Z(t,e){it(Kn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const o=this.cursor(i);return this.H(o,((u,c,m)=>m.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const o=this.cursor(i);return this.H(o,e)}te(t){const e=this.cursor({});return new L(((i,o)=>{e.onerror=u=>{const c=oy(u.target.error);o(c)},e.onsuccess=u=>{const c=u.target.result;c?t(c.primaryKey,c.value).next((m=>{m?c.continue():i()})):i()}}))}H(t,e){const i=[];return new L(((o,u)=>{t.onerror=c=>{u(c.target.error)},t.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const p=new px(m),g=e(m.primaryKey,m.value,p);if(g instanceof L){const T=g.catch((v=>(p.done(),L.reject(v))));i.push(T)}p.isDone?o():p.G===null?m.continue():m.continue(p.G)}})).next((()=>L.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Va(s){return new L(((t,e)=>{s.onsuccess=i=>{const o=i.target.result;t(o)},s.onerror=i=>{const o=oy(i.target.error);e(o)}}))}let bT=!1;function oy(s){const t=qs.M(He());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(e)>=0){const i=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bT||(bT=!0,setTimeout((()=>{throw i}),0)),i}}return s}const Yu="IndexBackfiller";class yx{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){it(Yu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();it(Yu,`Documents written: ${e}`)}catch(e){Js(e)?it(Yu,"Ignoring IndexedDB error during index backfill: ",e):await eo(e)}await this.re(6e4)}))}}class _x{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let o=e,u=!0;return L.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!i.has(c))return it(Yu,`Processing collection: ${c}`),this.oe(t,c,o).next((m=>{o-=m,i.add(c)}));u=!1})))).next((()=>e-o))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((o=>this.localStore.localDocuments.getNextDocuments(t,e,o,i).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(o,u))).next((m=>(it(Yu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m)))).next((()=>c.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((o,u)=>{const c=fS(u);ay(c,i)>0&&(i=c)})),new Xn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function Ed(s){return s==null}function lc(s){return s===0&&1/s==-1/0}function vx(s){return typeof s=="number"&&Number.isInteger(s)&&!lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="";function mn(s){let t="";for(let e=0;e<s.length;e++)t.length>0&&(t=ST(t)),t=Ex(s.get(e),t);return ST(t)}function Ex(s,t){let e=t;const i=s.length;for(let o=0;o<i;o++){const u=s.charAt(o);switch(u){case"\0":e+="";break;case Kf:e+="";break;default:e+=u}}return e}function ST(s){return s+Kf+""}function lr(s){const t=s.length;if(_t(t>=2,64408,{path:s}),t===2)return _t(s.charAt(0)===Kf&&s.charAt(1)==="",56145,{path:s}),$t.emptyPath();const e=t-2,i=[];let o="";for(let u=0;u<t;){const c=s.indexOf(Kf,u);switch((c<0||c>e)&&pt(50515,{path:s}),s.charAt(c+1)){case"":const m=s.substring(u,c);let p;o.length===0?p=m:(o+=m,p=o,o=""),i.push(p);break;case"":o+=s.substring(u,c),o+="\0";break;case"":o+=s.substring(u,c+1);break;default:pt(61167,{path:s})}u=c+2}return new $t(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="remoteDocuments",Nc="owner",Ko="owner",uc="mutationQueues",Tx="userId",Mi="mutations",AT="batchId",La="userMutationsIndex",wT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(s,t){return[s,mn(t)]}function gS(s,t,e){return[s,mn(t),e]}const bx={},dl="documentMutations",Qf="remoteDocumentsV14",Sx=["prefixPath","collectionGroup","readTime","documentId"],Rf="documentKeyIndex",Ax=["prefixPath","collectionGroup","documentId"],yS="collectionGroupIndex",wx=["collectionGroup","readTime","prefixPath","documentId"],cc="remoteDocumentGlobal",yg="remoteDocumentGlobalKey",ml="targets",_S="queryTargetsIndex",Ix=["canonicalId","targetId"],pl="targetDocuments",Rx=["targetId","path"],ly="documentTargetsIndex",Cx=["path","targetId"],Yf="targetGlobalKey",za="targetGlobal",hc="collectionParents",Dx=["collectionId","parent"],gl="clientMetadata",Nx="clientId",Td="bundles",xx="bundleId",bd="namedQueries",Ox="name",uy="indexConfiguration",Vx="indexId",_g="collectionGroupIndex",Mx="collectionGroup",Xu="indexState",Px=["indexId","uid"],vS="sequenceNumberIndex",kx=["uid","sequenceNumber"],$u="indexEntries",Lx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ES="documentKeyIndex",Ux=["indexId","uid","orderedDocumentKey"],Sd="documentOverlays",zx=["userId","collectionPath","documentId"],vg="collectionPathOverlayIndex",Bx=["userId","collectionPath","largestBatchId"],TS="collectionGroupOverlayIndex",jx=["userId","collectionGroup","largestBatchId"],cy="globals",qx="name",bS=[uc,Mi,dl,xa,ml,Nc,za,pl,gl,cc,hc,Td,bd],Fx=[...bS,Sd],SS=[uc,Mi,dl,Qf,ml,Nc,za,pl,gl,cc,hc,Td,bd,Sd],AS=SS,hy=[...AS,uy,Xu,$u],Hx=hy,wS=[...hy,cy],Gx=wS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends mS{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Ge(s,t){const e=It(s);return qs.O(e.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(s){let t=0;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t++;return t}function no(s,t){for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t(e,s[e])}function IS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new ve(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return e+i.left.size;o<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uf(this.root,t,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uf(this.root,t,this.comparator,!0)}}class uf{constructor(t,e,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?i(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,i,o,u){this.key=t,this.value=e,this.color=i??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,o,u){return new un(t??this.key,e??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let o=this;const u=i(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,i),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return un.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,e,i,o,u){return this}insert(t,e,i){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(t){return new RT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof se)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new se(this.comparator);return e.data=t,e}}class RT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qo(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.fields=t,t.sort(Te.comparator)}static empty(){return new pi([])}unionWith(t){let e=new se(Te.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new pi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RS("Invalid base64 string: "+u):u}})(t);return new Be(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Be(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Kx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(s){if(_t(!!s,39018),typeof s=="string"){let t=0;const e=Kx.exec(s);if(_t(!!e,46558,{timestamp:s}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_e(s.seconds),nanos:_e(s.nanos)}}function _e(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Gr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="server_timestamp",DS="__type__",NS="__previous_value__",xS="__local_write_time__";function fy(s){return(s?.mapValue?.fields||{})[DS]?.stringValue===CS}function Ad(s){const t=s.mapValue.fields[NS];return fy(t)?Ad(t):t}function fc(s){const t=Hr(s.mapValue.fields[xS].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,e,i,o,u,c,m,p,g,T){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Xf="(default)";class Ka{constructor(t,e){this.projectId=t,this.database=e||Xf}static empty(){return new Ka("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(t){return t instanceof Ka&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="__type__",OS="__max__",Ls={mapValue:{fields:{__type__:{stringValue:OS}}}},my="__vector__",yl="value",Cf={nullValue:"NULL_VALUE"};function Gs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fy(s)?4:VS(s)?9007199254740991:wd(s)?10:11:pt(28295,{value:s})}function mr(s,t){if(s===t)return!0;const e=Gs(s);if(e!==Gs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return fc(s).isEqual(fc(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Hr(o.timestampValue),m=Hr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),m=_e(u.doubleValue);return c===m?lc(c)===lc(m):isNaN(c)&&isNaN(m)}return!1})(s,t);case 9:return fl(s.arrayValue.values||[],t.arrayValue.values||[],mr);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(IT(c)!==IT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!mr(c[p],m[p])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function dc(s,t){return(s.values||[]).find((e=>mr(e,t)))!==void 0}function Ks(s,t){if(s===t)return 0;const e=Gs(s),i=Gs(t);if(e!==i)return wt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,t);case 3:return CT(s.timestampValue,t.timestampValue);case 4:return CT(fc(s),fc(t));case 5:return pg(s.stringValue,t.stringValue);case 6:return(function(u,c){const m=Gr(u),p=Gr(c);return m.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=wt(m[g],p[g]);if(T!==0)return T}return wt(m.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=wt(_e(u.latitude),_e(c.latitude));return m!==0?m:wt(_e(u.longitude),_e(c.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return DT(s.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[yl]?.arrayValue,T=p[yl]?.arrayValue,v=wt(g?.values?.length||0,T?.values?.length||0);return v!==0?v:DT(g,T)})(s.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Ls.mapValue&&c===Ls.mapValue)return 0;if(u===Ls.mapValue)return 1;if(c===Ls.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let v=0;v<p.length&&v<T.length;++v){const A=pg(p[v],T[v]);if(A!==0)return A;const M=Ks(m[p[v]],g[T[v]]);if(M!==0)return M}return wt(p.length,T.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:e})}}function CT(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return wt(s,t);const e=Hr(s),i=Hr(t),o=wt(e.seconds,i.seconds);return o!==0?o:wt(e.nanos,i.nanos)}function DT(s,t){const e=s.values||[],i=t.values||[];for(let o=0;o<e.length&&o<i.length;++o){const u=Ks(e[o],i[o]);if(u)return u}return wt(e.length,i.length)}function _l(s){return Tg(s)}function Tg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(e){const i=Hr(e);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(e){return Gr(e).toBase64()})(s.bytesValue):"referenceValue"in s?(function(e){return ht.fromName(e).toString()})(s.referenceValue):"geoPointValue"in s?(function(e){return`geo(${e.latitude},${e.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(e){let i="[",o=!0;for(const u of e.values||[])o?o=!1:i+=",",i+=Tg(u);return i+"]"})(s.arrayValue):"mapValue"in s?(function(e){const i=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of i)u?u=!1:o+=",",o+=`${c}:${Tg(e.fields[c])}`;return o+"}"})(s.mapValue):pt(61005,{value:s})}function Df(s){switch(Gs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ad(s);return t?16+Df(t):16;case 5:return 2*s.stringValue.length;case 6:return Gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Df(u)),0)})(s.arrayValue);case 10:case 11:return(function(i){let o=0;return no(i.fields,((u,c)=>{o+=u.length+Df(c)})),o})(s.mapValue);default:throw pt(13486,{value:s})}}function mc(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function bg(s){return!!s&&"integerValue"in s}function pc(s){return!!s&&"arrayValue"in s}function NT(s){return!!s&&"nullValue"in s}function xT(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Nf(s){return!!s&&"mapValue"in s}function wd(s){return(s?.mapValue?.fields||{})[dy]?.stringValue===my}function Ju(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return no(s.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ju(i))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(s.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ju(s.arrayValue.values[e]);return t}return{...s}}function VS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OS}const MS={mapValue:{fields:{[dy]:{stringValue:my},[yl]:{arrayValue:{}}}}};function Yx(s){return"nullValue"in s?Cf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?mc(Ka.empty(),ht.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?wd(s)?MS:{mapValue:{}}:pt(35942,{value:s})}function Xx(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?mc(Ka.empty(),ht.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?MS:"mapValue"in s?wd(s)?{mapValue:{}}:Ls:pt(61959,{value:s})}function OT(s,t){const e=Ks(s.value,t.value);return e!==0?e:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function VT(s,t){const e=Ks(s.value,t.value);return e!==0?e:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Nf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ju(e)}setAll(t){let e=Te.emptyPath(),i={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,i,o),i={},o=[],e=m.popLast()}c?i[m.lastSegment()]=Ju(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,i,o)}delete(t){const e=this.field(t.popLast());Nf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=e.mapValue.fields[t.get(i)];Nf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,i){no(e,((o,u)=>t[o]=u));for(const o of i)delete t[o]}clone(){return new On(Ju(this.value))}}function PS(s){const t=[];return no(s.fields,((e,i)=>{const o=new Te([e]);if(Nf(i)){const u=PS(i.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,e,i,o,u,c,m){this.key=t,this.documentType=e,this.version=i,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new we(t,0,Tt.min(),Tt.min(),Tt.min(),On.empty(),0)}static newFoundDocument(t,e,i,o){return new we(t,1,e,Tt.min(),i,o,0)}static newNoDocument(t,e){return new we(t,2,e,Tt.min(),Tt.min(),On.empty(),0)}static newUnknownDocument(t,e){return new we(t,3,e,Tt.min(),Tt.min(),On.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof we&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new we(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,e){this.position=t,this.inclusive=e}}function MT(s,t,e){let i=0;for(let o=0;o<s.position.length;o++){const u=t[o],c=s.position[o];if(u.field.isKeyField()?i=ht.comparator(ht.fromName(c.referenceValue),e.key):i=Ks(c,e.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function PT(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let e=0;e<s.position.length;e++)if(!mr(s.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,e="asc"){this.field=t,this.dir=e}}function $x(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{}class jt extends kS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Jx(t,e,i):e==="array-contains"?new tO(t,i):e==="in"?new qS(t,i):e==="not-in"?new eO(t,i):e==="array-contains-any"?new nO(t,i):new jt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Wx(t,i):new Zx(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ks(e,this.value)):e!==null&&Gs(this.value)===Gs(e)&&this.matchesComparison(Ks(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class re extends kS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new re(t,e)}matches(t){return El(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function El(s){return s.op==="and"}function Sg(s){return s.op==="or"}function py(s){return LS(s)&&El(s)}function LS(s){for(const t of s.filters)if(t instanceof re)return!1;return!0}function Ag(s){if(s instanceof jt)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(py(s))return s.filters.map((t=>Ag(t))).join(",");{const t=s.filters.map((e=>Ag(e))).join(",");return`${s.op}(${t})`}}function US(s,t){return s instanceof jt?(function(i,o){return o instanceof jt&&i.op===o.op&&i.field.isEqual(o.field)&&mr(i.value,o.value)})(s,t):s instanceof re?(function(i,o){return o instanceof re&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,c,m)=>u&&US(c,o.filters[m])),!0):!1})(s,t):void pt(19439)}function zS(s,t){const e=s.filters.concat(t);return re.create(e,s.op)}function BS(s){return s instanceof jt?(function(e){return`${e.field.canonicalString()} ${e.op} ${_l(e.value)}`})(s):s instanceof re?(function(e){return e.op.toString()+" {"+e.getFilters().map(BS).join(" ,")+"}"})(s):"Filter"}class Jx extends jt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class Wx extends jt{constructor(t,e){super(t,"in",e),this.keys=jS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Zx extends jt{constructor(t,e){super(t,"not-in",e),this.keys=jS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function jS(s,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class tO extends jt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return pc(e)&&dc(e.arrayValue,this.value)}}class qS extends jt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&dc(this.value.arrayValue,e)}}class eO extends jt{constructor(t,e){super(t,"not-in",e)}matches(t){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!dc(this.value.arrayValue,e)}}class nO extends jt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!pc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>dc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,e=null,i=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function wg(s,t=null,e=[],i=[],o=null,u=null,c=null){return new iO(s,t,e,i,o,u,c)}function Qa(s){const t=It(s);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Ag(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>_l(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>_l(i))).join(",")),t.Te=e}return t.Te}function xc(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<s.orderBy.length;e++)if(!$x(s.orderBy[e],t.orderBy[e]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let e=0;e<s.filters.length;e++)if(!US(s.filters[e],t.filters[e]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!PT(s.startAt,t.startAt)&&PT(s.endAt,t.endAt)}function $f(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Jf(s,t){return s.filters.filter((e=>e instanceof jt&&e.field.isEqual(t)))}function kT(s,t,e){let i=Cf,o=!0;for(const u of Jf(s,t)){let c=Cf,m=!0;switch(u.op){case"<":case"<=":c=Yx(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=Cf}OT({value:i,inclusive:o},{value:c,inclusive:m})<0&&(i=c,o=m)}if(e!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=e.position[u];OT({value:i,inclusive:o},{value:c,inclusive:e.inclusive})<0&&(i=c,o=e.inclusive);break}}return{value:i,inclusive:o}}function LT(s,t,e){let i=Ls,o=!0;for(const u of Jf(s,t)){let c=Ls,m=!0;switch(u.op){case">=":case">":c=Xx(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=Ls}VT({value:i,inclusive:o},{value:c,inclusive:m})>0&&(i=c,o=m)}if(e!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=e.position[u];VT({value:i,inclusive:o},{value:c,inclusive:e.inclusive})>0&&(i=c,o=e.inclusive);break}}return{value:i,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,e=null,i=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rO(s,t,e,i,o,u,c,m){return new Nl(s,t,e,i,o,u,c,m)}function gy(s){return new Nl(s)}function UT(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function FS(s){return s.collectionGroup!==null}function Wu(s){const t=It(s);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new se(Te.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new gc(u,i))})),e.has(Te.keyField().canonicalString())||t.Ie.push(new gc(Te.keyField(),i))}return t.Ie}function gi(s){const t=It(s);return t.Ee||(t.Ee=sO(t,Wu(s))),t.Ee}function sO(s,t){if(s.limitType==="F")return wg(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gc(o.field,u)}));const e=s.endAt?new vl(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new vl(s.startAt.position,s.startAt.inclusive):null;return wg(s.path,s.collectionGroup,t,s.filters,s.limit,e,i)}}function Ig(s,t){const e=s.filters.concat([t]);return new Nl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),e,s.limit,s.limitType,s.startAt,s.endAt)}function Wf(s,t,e){return new Nl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,e,s.startAt,s.endAt)}function Id(s,t){return xc(gi(s),gi(t))&&s.limitType===t.limitType}function HS(s){return`${Qa(gi(s))}|lt:${s.limitType}`}function Zo(s){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((o=>BS(o))).join(", ")}]`),Ed(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((o=>_l(o))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((o=>_l(o))).join(",")),`Target(${i})`})(gi(s))}; limitType=${s.limitType})`}function Oc(s,t){return t.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ht.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(s,t)&&(function(i,o){for(const u of Wu(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(i,o){return!(i.startAt&&!(function(c,m,p){const g=MT(c,m,p);return c.inclusive?g<=0:g<0})(i.startAt,Wu(i),o)||i.endAt&&!(function(c,m,p){const g=MT(c,m,p);return c.inclusive?g>=0:g>0})(i.endAt,Wu(i),o))})(s,t)}function aO(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function GS(s){return(t,e)=>{let i=!1;for(const o of Wu(s)){const u=oO(o,t,e);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function oO(s,t,e){const i=s.field.isKeyField()?ht.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ks(p,g):pt(42886)})(s.field,t,e);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[e]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){no(this.inner,((e,i)=>{for(const[o,u]of i)t(o,u)}))}isEmpty(){return IS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new ve(ht.comparator);function Qn(){return lO}const KS=new ve(ht.comparator);function ju(...s){let t=KS;for(const e of s)t=t.insert(e.key,e);return t}function QS(s){let t=KS;return s.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function ur(){return Zu()}function YS(){return Zu()}function Zu(){return new Yr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uO=new ve(ht.comparator),cO=new se(ht.comparator);function Pt(...s){let t=cO;for(const e of s)t=t.add(e);return t}const hO=new se(wt);function fO(){return hO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(t)?"-0":t}}function XS(s){return{integerValue:""+s}}function dO(s,t){return vx(t)?XS(t):yy(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function mO(s,t,e){return s instanceof yc?(function(o,u){const c={fields:{[DS]:{stringValue:CS},[xS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fy(u)&&(u=Ad(u)),u&&(c.fields[NS]=u),{mapValue:c}})(e,t):s instanceof Tl?JS(s,t):s instanceof bl?WS(s,t):(function(o,u){const c=$S(o,u),m=zT(c)+zT(o.Ae);return bg(c)&&bg(o.Ae)?XS(m):yy(o.serializer,m)})(s,t)}function pO(s,t,e){return s instanceof Tl?JS(s,t):s instanceof bl?WS(s,t):e}function $S(s,t){return s instanceof _c?(function(i){return bg(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(t)?t:{integerValue:0}:null}class yc extends Rd{}class Tl extends Rd{constructor(t){super(),this.elements=t}}function JS(s,t){const e=ZS(t);for(const i of s.elements)e.some((o=>mr(o,i)))||e.push(i);return{arrayValue:{values:e}}}class bl extends Rd{constructor(t){super(),this.elements=t}}function WS(s,t){let e=ZS(t);for(const i of s.elements)e=e.filter((o=>!mr(o,i)));return{arrayValue:{values:e}}}class _c extends Rd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function zT(s){return _e(s.integerValue||s.doubleValue)}function ZS(s){return pc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,e){this.field=t,this.transform=e}}function yO(s,t){return s.field.isEqual(t.field)&&(function(i,o){return i instanceof Tl&&o instanceof Tl||i instanceof bl&&o instanceof bl?fl(i.elements,o.elements,mr):i instanceof _c&&o instanceof _c?mr(i.Ae,o.Ae):i instanceof yc&&o instanceof yc})(s.transform,t.transform)}class _O{constructor(t,e){this.version=t,this.transformResults=e}}class Yn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Yn}static exists(t){return new Yn(void 0,t)}static updateTime(t){return new Yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xf(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Cd{}function tA(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new _y(s.key,Yn.none()):new xl(s.key,s.data,Yn.none());{const e=s.data,i=On.empty();let o=new se(Te.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?i.delete(u):i.set(u,c),o=o.add(u)}return new Ws(s.key,i,new pi(o.toArray()),Yn.none())}}function vO(s,t,e){s instanceof xl?(function(o,u,c){const m=o.value.clone(),p=jT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,t,e):s instanceof Ws?(function(o,u,c){if(!xf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=jT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(eA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(s,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function tc(s,t,e,i){return s instanceof xl?(function(u,c,m,p){if(!xf(u.precondition,c))return m;const g=u.value.clone(),T=qT(u.fieldTransforms,p,c);return g.setAll(T),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(s,t,e,i):s instanceof Ws?(function(u,c,m,p){if(!xf(u.precondition,c))return m;const g=qT(u.fieldTransforms,p,c),T=c.data;return T.setAll(eA(u)),T.setAll(g),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((v=>v.field)))})(s,t,e,i):(function(u,c,m){return xf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,t,e)}function EO(s,t){let e=null;for(const i of s.fieldTransforms){const o=t.data.field(i.field),u=$S(i.transform,o||null);u!=null&&(e===null&&(e=On.empty()),e.set(i.field,u))}return e||null}function BT(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&fl(i,o,((u,c)=>yO(u,c)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class xl extends Cd{constructor(t,e,i,o=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ws extends Cd{constructor(t,e,i,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eA(s){const t=new Map;return s.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=s.data.field(e);t.set(e,i)}})),t}function jT(s,t,e){const i=new Map;_t(s.length===e.length,32656,{Re:e.length,Ve:s.length});for(let o=0;o<e.length;o++){const u=s[o],c=u.transform,m=t.data.field(u.field);i.set(u.field,pO(c,m,e[o]))}return i}function qT(s,t,e){const i=new Map;for(const o of s){const u=o.transform,c=e.data.field(o.field);i.set(o.field,mO(u,c,t))}return i}class _y extends Cd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nA extends Cd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,e,i,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&vO(u,t,i[o])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=tc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=tc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=YS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=tA(c,m);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Tt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&fl(this.mutations,t.mutations,((e,i)=>BT(e,i)))&&fl(this.baseMutations,t.baseMutations,((e,i)=>BT(e,i)))}}class Ey{constructor(t,e,i,o){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=o}static from(t,e,i){_t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let o=(function(){return uO})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,i[c].version);return new Ey(t,e,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,Ft;function bO(s){switch(s){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function iA(s){if(s===void 0)return En("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ue.OK:return Y.OK;case Ue.CANCELLED:return Y.CANCELLED;case Ue.UNKNOWN:return Y.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return Y.INTERNAL;case Ue.UNAVAILABLE:return Y.UNAVAILABLE;case Ue.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ue.NOT_FOUND:return Y.NOT_FOUND;case Ue.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ue.ABORTED:return Y.ABORTED;case Ue.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ue.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:s})}}(Ft=Ue||(Ue={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new js([4294967295,4294967295],0);function FT(s){const t=SO().encode(s),e=new nS;return e.update(t),new Uint8Array(e.digest())}function HT(s){const t=new DataView(s.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new js([e,i],0),new js([o,u],0)]}class by{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new qu(`Invalid padding: ${e}`);if(i<0)throw new qu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new qu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=js.fromNumber(this.ge)}ye(t,e,i){let o=t.add(e.multiply(js.fromNumber(i)));return o.compare(AO)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=FT(t),[i,o]=HT(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(i,o,u);if(!this.we(c))return!1}return!0}static create(t,e,i){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new by(u,o,e);return i.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=FT(t),[i,o]=HT(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(i,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e,i,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const o=new Map;return o.set(t,Vc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Dd(Tt.min(),o,new ve(wt),Qn(),Pt())}}class Vc{constructor(t,e,i,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Vc(i,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,e,i,o){this.be=t,this.removedTargetIds=e,this.key=i,this.De=o}}class rA{constructor(t,e){this.targetId=t,this.Ce=e}}class sA{constructor(t,e,i=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=o}}class GT{constructor(){this.ve=0,this.Fe=KT(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:i=i.add(o);break;default:pt(38017,{changeType:u})}})),new Vc(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=KT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wO{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qn(),this.Je=cf(),this.He=cf(),this.Ye=new ve(wt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,i=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if($f(u))if(i===0){const c=new ht(u.path);this.et(e,c,we.newNoDocument(c,Tt.min()))}else _t(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Gr(i).toUint8Array()}catch(p){if(p instanceof RS)return sc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new by(c,o,u)}catch(p){return sc(p instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let o=0;return i.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&$f(m.target)){const p=new ht(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,we.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let i=Pt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Dd(t,e,this.Ye,this.je,i);return this.je=Qn(),this.Je=cf(),this.He=cf(),this.Ye=new ve(wt),o}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new GT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new se(wt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new se(wt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||it("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new GT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function cf(){return new ve(ht.comparator)}function KT(){return new ve(ht.comparator)}const IO={asc:"ASCENDING",desc:"DESCENDING"},RO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CO={and:"AND",or:"OR"};class DO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Rg(s,t){return s.useProto3Json||Ed(t)?t:{value:t}}function Sl(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aA(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function NO(s,t){return Sl(s,t.toTimestamp())}function Tn(s){return _t(!!s,49232),Tt.fromTimestamp((function(e){const i=Hr(e);return new ie(i.seconds,i.nanos)})(s))}function Sy(s,t){return Cg(s,t).canonicalString()}function Cg(s,t){const e=(function(o){return new $t(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?e:e.child(t)}function oA(s){const t=$t.fromString(s);return _t(gA(t),10190,{key:t.toString()}),t}function Zf(s,t){return Sy(s.databaseId,t.path)}function Ba(s,t){const e=oA(t);if(e.get(1)!==s.databaseId.projectId)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+s.databaseId.projectId);if(e.get(3)!==s.databaseId.database)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+s.databaseId.database);return new ht(cA(e))}function lA(s,t){return Sy(s.databaseId,t)}function uA(s){const t=oA(s);return t.length===4?$t.emptyPath():cA(t)}function Dg(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function cA(s){return _t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function QT(s,t,e){return{name:Zf(s,t),fields:e.value.mapValue.fields}}function xO(s,t,e){const i=Ba(s,t.name),o=Tn(t.updateTime),u=t.createTime?Tn(t.createTime):Tt.min(),c=new On({mapValue:{fields:t.fields}}),m=we.newFoundDocument(i,o,u,c);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function OO(s,t){let e;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:pt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(_t(T===void 0||typeof T=="string",58123),Be.fromBase64String(T||"")):(_t(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Be.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const T=g.code===void 0?Y.UNKNOWN:iA(g.code);return new ut(T,g.message||"")})(c);e=new sA(i,o,u,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ba(s,i.document.name),u=Tn(i.document.updateTime),c=i.document.createTime?Tn(i.document.createTime):Tt.min(),m=new On({mapValue:{fields:i.document.fields}}),p=we.newFoundDocument(o,u,c,m),g=i.targetIds||[],T=i.removedTargetIds||[];e=new Of(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=Ba(s,i.document),u=i.readTime?Tn(i.readTime):Tt.min(),c=we.newNoDocument(o,u),m=i.removedTargetIds||[];e=new Of([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=Ba(s,i.document),u=i.removedTargetIds||[];e=new Of([],u,o,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,c=new TO(o,u),m=i.targetId;e=new rA(m,c)}}return e}function td(s,t){let e;if(t instanceof xl)e={update:QT(s,t.key,t.value)};else if(t instanceof _y)e={delete:Zf(s,t.key)};else if(t instanceof Ws)e={update:QT(s,t.key,t.data),updateMask:UO(t.fieldMask)};else{if(!(t instanceof nA))return pt(16599,{Vt:t.type});e={verify:Zf(s,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(u,c){const m=c.transform;if(m instanceof yc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _c)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw pt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pt(27497)})(s,t.precondition)),e}function Ng(s,t){const e=t.currentDocument?(function(u){return u.updateTime!==void 0?Yn.updateTime(Tn(u.updateTime)):u.exists!==void 0?Yn.exists(u.exists):Yn.none()})(t.currentDocument):Yn.none(),i=t.updateTransforms?t.updateTransforms.map((o=>(function(c,m){let p=null;if("setToServerValue"in m)_t(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),p=new yc;else if("appendMissingElements"in m){const T=m.appendMissingElements.values||[];p=new Tl(T)}else if("removeAllFromArray"in m){const T=m.removeAllFromArray.values||[];p=new bl(T)}else"increment"in m?p=new _c(c,m.increment):pt(16584,{proto:m});const g=Te.fromServerFormat(m.fieldPath);return new gO(g,p)})(s,o))):[];if(t.update){t.update.name;const o=Ba(s,t.update.name),u=new On({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(p){const g=p.fieldPaths||[];return new pi(g.map((T=>Te.fromServerFormat(T))))})(t.updateMask);return new Ws(o,u,c,e,i)}return new xl(o,u,e,i)}if(t.delete){const o=Ba(s,t.delete);return new _y(o,e)}if(t.verify){const o=Ba(s,t.verify);return new nA(o,e)}return pt(1463,{proto:t})}function VO(s,t){return s&&s.length>0?(_t(t!==void 0,14353),s.map((e=>(function(o,u){let c=o.updateTime?Tn(o.updateTime):Tn(u);return c.isEqual(Tt.min())&&(c=Tn(u)),new _O(c,o.transformResults||[])})(e,t)))):[]}function hA(s,t){return{documents:[lA(s,t.path)]}}function fA(s,t){const e={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=lA(s,o);const u=(function(g){if(g.length!==0)return pA(re.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((T=>(function(A){return{field:tl(A.field),direction:PO(A.dir)}})(T)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Rg(s,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function dA(s){let t=uA(s.parent);const e=s.structuredQuery,i=e.from?e.from.length:0;let o=null;if(i>0){_t(i===1,65062);const T=e.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];e.where&&(u=(function(v){const A=mA(v);return A instanceof re&&py(A)?A.getFilters():[A]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((A=>(function(F){return new gc(el(F.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(e.orderBy));let m=null;e.limit&&(m=(function(v){let A;return A=typeof v=="object"?v.value:v,Ed(A)?null:A})(e.limit));let p=null;e.startAt&&(p=(function(v){const A=!!v.before,M=v.values||[];return new vl(M,A)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const A=!v.before,M=v.values||[];return new vl(M,A)})(e.endAt)),rO(t,o,c,u,m,"F",p,g)}function MO(s,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function mA(s){return s.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=el(e.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=el(e.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=el(e.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(e.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(e){return jt.create(el(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(e){return re.create(e.compositeFilter.filters.map((i=>mA(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(e.compositeFilter.op))})(s):pt(30097,{filter:s})}function PO(s){return IO[s]}function kO(s){return RO[s]}function LO(s){return CO[s]}function tl(s){return{fieldPath:s.canonicalString()}}function el(s){return Te.fromServerFormat(s.fieldPath)}function pA(s){return s instanceof jt?(function(e){if(e.op==="=="){if(xT(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NAN"}};if(NT(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(xT(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NAN"}};if(NT(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(e.field),op:kO(e.op),value:e.value}}})(s):s instanceof re?(function(e){const i=e.getFilters().map((o=>pA(o)));return i.length===1?i[0]:{compositeFilter:{op:LO(e.op),filters:i}}})(s):pt(54877,{filter:s})}function UO(s){const t=[];return s.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function gA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,e,i,o,u=Tt.min(),c=Tt.min(),m=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.yt=t}}function zO(s,t){let e;if(t.document)e=xO(s.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),o=Xa(t.noDocument.readTime);e=we.newNoDocument(i,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt(56709);{const i=ht.fromSegments(t.unknownDocument.path),o=Xa(t.unknownDocument.version);e=we.newUnknownDocument(i,o)}}return t.readTime&&e.setReadTime((function(o){const u=new ie(o[0],o[1]);return Tt.fromTimestamp(u)})(t.readTime)),e}function YT(s,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:ed(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(u,c){return{name:Zf(u,c.key),fields:c.data.value.mapValue.fields,updateTime:Sl(u,c.version.toTimestamp()),createTime:Sl(u,c.createTime.toTimestamp())}})(s.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ya(t.version)};else{if(!t.isUnknownDocument())return pt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:Ya(t.version)}}return i}function ed(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function Ya(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Xa(s){const t=new ie(s.seconds,s.nanoseconds);return Tt.fromTimestamp(t)}function Ma(s,t){const e=(t.baseMutations||[]).map((u=>Ng(s.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const c=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const i=t.mutations.map((u=>Ng(s.yt,u))),o=ie.fromMillis(t.localWriteTimeMs);return new vy(t.batchId,o,e,i)}function Fu(s){const t=Xa(s.readTime),e=s.lastLimboFreeSnapshotVersion!==void 0?Xa(s.lastLimboFreeSnapshotVersion):Tt.min();let i;return i=(function(u){return u.documents!==void 0})(s.query)?(function(u){const c=u.documents.length;return _t(c===1,1966,{count:c}),gi(gy(uA(u.documents[0])))})(s.query):(function(u){return gi(dA(u))})(s.query),new Ur(i,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,t,e,Be.fromBase64String(s.resumeToken))}function _A(s,t){const e=Ya(t.snapshotVersion),i=Ya(t.lastLimboFreeSnapshotVersion);let o;o=$f(t.target)?hA(s.yt,t.target):fA(s.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qa(t.target),readTime:e,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function vA(s){const t=dA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wf(t,t.limit,"L"):t}function Yp(s,t){return new Ty(t.largestBatchId,Ng(s.yt,t.overlayMutation))}function XT(s,t){const e=t.path.lastSegment();return[s,mn(t.path.popLast()),e]}function $T(s,t,e,i){return{indexId:s,uid:t,sequenceNumber:e,readTime:Ya(i.readTime),documentKey:mn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{getBundleMetadata(t,e){return JT(t).get(e).next((i=>{if(i)return(function(u){return{id:u.bundleId,createTime:Xa(u.createTime),version:u.version}})(i)}))}saveBundleMetadata(t,e){return JT(t).put((function(o){return{bundleId:o.id,createTime:Ya(Tn(o.createTime)),version:o.version}})(e))}getNamedQuery(t,e){return WT(t).get(e).next((i=>{if(i)return(function(u){return{name:u.name,query:vA(u.bundledQuery),readTime:Xa(u.readTime)}})(i)}))}saveNamedQuery(t,e){return WT(t).put((function(o){return{name:o.name,readTime:Ya(Tn(o.readTime)),bundledQuery:o.bundledQuery}})(e))}}function JT(s){return Ge(s,Td)}function WT(s){return Ge(s,bd)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new Nd(t,i)}getOverlay(t,e){return Vu(t).get(XT(this.userId,e)).next((i=>i?Yp(this.serializer,i):null))}getOverlays(t,e){const i=ur();return L.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(t,e,i){const o=[];return i.forEach(((u,c)=>{const m=new Ty(e,c);o.push(this.St(t,m))})),L.waitFor(o)}removeOverlaysForBatchId(t,e,i){const o=new Set;e.forEach((c=>o.add(mn(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);u.push(Vu(t).Z(vg,m))})),L.waitFor(u)}getOverlaysForCollection(t,e,i){const o=ur(),u=mn(e),c=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Vu(t).J(vg,c).next((m=>{for(const p of m){const g=Yp(this.serializer,p);o.set(g.getKey(),g)}return o}))}getOverlaysForCollectionGroup(t,e,i,o){const u=ur();let c;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Vu(t).ee({index:TS,range:m},((p,g,T)=>{const v=Yp(this.serializer,g);u.size()<o||v.largestBatchId===c?(u.set(v.getKey(),v),c=v.largestBatchId):T.done()})).next((()=>u))}St(t,e){return Vu(t).put((function(o,u,c){const[m,p,g]=XT(u,c.mutation.key);return{userId:u,collectionPath:p,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:td(o.yt,c.mutation)}})(this.serializer,this.userId,e))}}function Vu(s){return Ge(s,Sd)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{bt(t){return Ge(t,cy)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const i=e?.value;return i?Be.fromUint8Array(i):Be.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(_e(t.integerValue));else if("doubleValue"in t){const i=_e(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),lc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Hr(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Gr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?VS(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):wd(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):pt(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const i=t.fields||{};this.Ft(e,55);for(const o of Object.keys(i))this.Ot(o,e),this.Ct(i[o],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const o=yl,u=i[o].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(_e(u)),this.Ot(o,e),this.Ct(i[o],e)}Qt(t,e){const i=t.values||[];this.Ft(e,50);for(const o of i)this.Ct(o,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.Ut(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Pa.Kt=new Pa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=255;function qO(s){if(s===0)return 8;let t=0;return s>>4||(t+=4,s<<=4),s>>6||(t+=2,s<<=2),s>>7||(t+=1),t}function ZT(s){const t=64-(function(i){let o=0;for(let u=0;u<8;++u){const c=qO(255&i[u]);if(o+=c,c!==8)break}return o})(s);return Math.ceil(t/8)}class FO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Jt(i.value),i=e.next();this.Ht()}Yt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const o=e.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const o=e.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(t){const e=this.en(t),i=ZT(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=255&e[o]}nn(t){const e=this.en(t),i=ZT(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}rn(){this.sn(Yo),this.sn(255)}_n(){this.an(Yo),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let o=1;o<e.length;++o)e[o]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===Yo?(this.sn(Yo),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===Yo?(this.an(Yo),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class HO{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class GO{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class Mu{constructor(){this.cn=new FO,this.ln=new HO(this.cn),this.hn=new GO(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,e,i,o){this.Tn=t,this.In=e,this.En=i,this.dn=o}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.dn,0),e!==t?i.set([0],this.dn.length):++i[i.length-1],new ka(this.Tn,this.In,this.En,i)}Rn(t,e,i){return{indexId:this.Tn,uid:t,arrayValue:Vf(this.En),directionalValue:Vf(this.dn),orderedDocumentKey:Vf(e),documentKey:i.path.toArray()}}Vn(t,e,i){const o=this.Rn(t,e,i);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function Ds(s,t){let e=s.Tn-t.Tn;return e!==0?e:(e=tb(s.En,t.En),e!==0?e:(e=tb(s.dn,t.dn),e!==0?e:ht.comparator(s.In,t.In)))}function tb(s,t){for(let e=0;e<s.length&&e<t.length;++e){const i=s[e]-t[e];if(i!==0)return i}return s.length-t.length}function Vf(s){return p1()?(function(e){let i="";for(let o=0;o<e.length;o++)i+=String.fromCharCode(e[o]);return i})(s):s}function eb(s){return typeof s!="string"?s:(function(e){const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i})(s)}class nb{constructor(t){this.mn=new se(((e,i)=>Te.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const i=e;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=gg(t);if(e!==void 0&&!this.wn(e))return!1;const i=Na(t);let o=new Set,u=0,c=0;for(;u<i.length&&this.wn(i[u]);++u)o=o.add(i[u].fieldPath.canonicalString());if(u===i.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const p=i[u];if(!this.Sn(m,p)||!this.bn(this.fn[c++],p))return!1}++u}for(;u<i.length;++u){const m=i[u];if(c>=this.fn.length||!this.bn(this.fn[c++],m))return!1}return!0}Dn(){if(this.pn)return null;let t=new se(Te.comparator);const e=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new wf(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new wf(i.field,0))}for(const i of this.fn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new wf(i.field,i.dir==="asc"?0:1)));return new Gf(Gf.UNKNOWN_ID,this.collectionId,e,oc.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(s){if(_t(s instanceof jt||s instanceof re,20012),s instanceof jt){if(s instanceof qS){const e=s.value.arrayValue?.values?.map((i=>jt.create(s.field,"==",i)))||[];return re.create(e,"or")}return s}const t=s.filters.map((e=>EA(e)));return re.create(t,s.op)}function KO(s){if(s.getFilters().length===0)return[];const t=Vg(EA(s));return _t(TA(t),7391),xg(t)||Og(t)?[t]:t.getFilters()}function xg(s){return s instanceof jt}function Og(s){return s instanceof re&&py(s)}function TA(s){return xg(s)||Og(s)||(function(e){if(e instanceof re&&Sg(e)){for(const i of e.getFilters())if(!xg(i)&&!Og(i))return!1;return!0}return!1})(s)}function Vg(s){if(_t(s instanceof jt||s instanceof re,34018),s instanceof jt)return s;if(s.filters.length===1)return Vg(s.filters[0]);const t=s.filters.map((i=>Vg(i)));let e=re.create(t,s.op);return e=nd(e),TA(e)?e:(_t(e instanceof re,64498),_t(El(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((i,o)=>Ay(i,o))))}function Ay(s,t){let e;return _t(s instanceof jt||s instanceof re,38388),_t(t instanceof jt||t instanceof re,25473),e=s instanceof jt?t instanceof jt?(function(o,u){return re.create([o,u],"and")})(s,t):ib(s,t):t instanceof jt?ib(t,s):(function(o,u){if(_t(o.filters.length>0&&u.filters.length>0,48005),El(o)&&El(u))return zS(o,u.getFilters());const c=Sg(o)?o:u,m=Sg(o)?u:o,p=c.filters.map((g=>Ay(g,m)));return re.create(p,"or")})(s,t),nd(e)}function ib(s,t){if(El(t))return zS(t,s.getFilters());{const e=t.filters.map((i=>Ay(s,i)));return re.create(e,"or")}}function nd(s){if(_t(s instanceof jt||s instanceof re,11850),s instanceof jt)return s;const t=s.getFilters();if(t.length===1)return nd(t[0]);if(LS(s))return s;const e=t.map((o=>nd(o))),i=[];return e.forEach((o=>{o instanceof jt?i.push(o):o instanceof re&&(o.op===s.op?i.push(...o.filters):i.push(o))})),i.length===1?i[0]:re.create(i,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Cn=new wy}addToCollectionParentIndex(t,e){return this.Cn.add(e),L.resolve()}getCollectionParents(t,e){return L.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return L.resolve()}deleteFieldIndex(t,e){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,e){return L.resolve()}getDocumentsMatchingTarget(t,e){return L.resolve(null)}getIndexType(t,e){return L.resolve(0)}getFieldIndexes(t,e){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,e){return L.resolve(Xn.min())}getMinOffsetFromCollectionGroup(t,e){return L.resolve(Xn.min())}updateCollectionGroup(t,e,i){return L.resolve()}updateIndexEntries(t,e){return L.resolve()}}class wy{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e]||new se($t.comparator),u=!o.has(i);return this.index[e]=o.add(i),u}has(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e];return o&&o.has(i)}getEntries(t){return(this.index[t]||new se($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="IndexedDbIndexManager",hf=new Uint8Array(0);class YO{constructor(t,e){this.databaseId=e,this.vn=new wy,this.Fn=new Yr((i=>Qa(i)),((i,o)=>xc(i,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const i=e.lastSegment(),o=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const u={collectionId:i,parent:mn(o)};return sb(t).put(u)}return L.resolve()}getCollectionParents(t,e){const i=[],o=IDBKeyRange.bound([e,""],[uS(e),""],!1,!0);return sb(t).J(o).next((u=>{for(const c of u){if(c.collectionId!==e)break;i.push(lr(c.parent))}return i}))}addFieldIndex(t,e){const i=Pu(t),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(e);delete o.indexId;const u=i.add(o);if(e.indexState){const c=$o(t);return u.next((m=>{c.put($T(m,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return u.next()}deleteFieldIndex(t,e){const i=Pu(t),o=$o(t),u=Xo(t);return i.delete(e.indexId).next((()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=Pu(t),i=Xo(t),o=$o(t);return e.Z().next((()=>i.Z())).next((()=>o.Z()))}createTargetIndexes(t,e){return L.forEach(this.Mn(e),(i=>this.getIndexType(t,i).next((o=>{if(o===0||o===1){const u=new nb(i).Dn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,e){const i=Xo(t);let o=!0;const u=new Map;return L.forEach(this.Mn(e),(c=>this.xn(t,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=Pt();const m=[];return L.forEach(u,((p,g)=>{it(rb,`Using index ${(function(J){return`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map((ft=>`${ft.fieldPath}:${ft.kind}`)).join(",")}`})(p)} to execute ${Qa(e)}`);const T=(function(J,ft){const at=gg(ft);if(at===void 0)return null;for(const ct of Jf(J,at.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null})(g,p),v=(function(J,ft){const at=new Map;for(const ct of Na(ft))for(const I of Jf(J,ct.fieldPath))switch(I.op){case"==":case"in":at.set(ct.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return at.set(ct.fieldPath.canonicalString(),I.value),Array.from(at.values())}return null})(g,p),A=(function(J,ft){const at=[];let ct=!0;for(const I of Na(ft)){const w=I.kind===0?kT(J,I.fieldPath,J.startAt):LT(J,I.fieldPath,J.startAt);at.push(w.value),ct&&(ct=w.inclusive)}return new vl(at,ct)})(g,p),M=(function(J,ft){const at=[];let ct=!0;for(const I of Na(ft)){const w=I.kind===0?LT(J,I.fieldPath,J.endAt):kT(J,I.fieldPath,J.endAt);at.push(w.value),ct&&(ct=w.inclusive)}return new vl(at,ct)})(g,p),F=this.On(p,g,A),Z=this.On(p,g,M),K=this.Nn(p,g,v),et=this.Bn(p.indexId,T,F,A.inclusive,Z,M.inclusive,K);return L.forEach(et,(lt=>i.Y(lt,e.limit).next((J=>{J.forEach((ft=>{const at=ht.fromSegments(ft.documentKey);c.has(at)||(c=c.add(at),m.push(at))}))}))))})).next((()=>m))}return L.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=KO(re.create(t.filters,"and")).map((i=>wg(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,i,o,u,c,m){const p=(e!=null?e.length:1)*Math.max(i.length,u.length),g=p/(e!=null?e.length:1),T=[];for(let v=0;v<p;++v){const A=e?this.Ln(e[v/g]):hf,M=this.kn(t,A,i[v%g],o),F=this.qn(t,A,u[v%g],c),Z=m.map((K=>this.kn(t,A,K,!0)));T.push(...this.createRange(M,F,Z))}return T}kn(t,e,i,o){const u=new ka(t,ht.empty(),e,i);return o?u:u.An()}qn(t,e,i,o){const u=new ka(t,ht.empty(),e,i);return o?u.An():u}xn(t,e){const i=new nb(e),o=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next((u=>{let c=null;for(const m of u)i.yn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(t,e){let i=2;const o=this.Mn(e);return L.forEach(o,(u=>this.xn(t,u).next((c=>{c?i!==0&&c.fields.length<(function(p){let g=new se(Te.comparator),T=!1;for(const v of p.filters)for(const A of v.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?T=!0:g=g.add(A.field));for(const v of p.orderBy)v.field.isKeyField()||(g=g.add(v.field));return g.size+(T?1:0)})(u)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(e)&&o.length>1&&i===2?1:i))}Qn(t,e){const i=new Mu;for(const o of Na(t)){const u=e.data.field(o.fieldPath);if(u==null)return null;const c=i.Pn(o.kind);Pa.Kt.Dt(u,c)}return i.un()}Ln(t){const e=new Mu;return Pa.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const i=new Mu;return Pa.Kt.Dt(mc(this.databaseId,e),i.Pn((function(u){const c=Na(u);return c.length===0?0:c[c.length-1].kind})(t))),i.un()}Nn(t,e,i){if(i===null)return[];let o=[];o.push(new Mu);let u=0;for(const c of Na(t)){const m=i[u++];for(const p of o)if(this.Un(e,c.fieldPath)&&pc(m))o=this.Kn(o,c,m);else{const g=p.Pn(c.kind);Pa.Kt.Dt(m,g)}}return this.Wn(o)}On(t,e,i){return this.Nn(t,e,i.position)}Wn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Kn(t,e,i){const o=[...t],u=[];for(const c of i.arrayValue.values||[])for(const m of o){const p=new Mu;p.seed(m.un()),Pa.Kt.Dt(c,p.Pn(e.kind)),u.push(p)}return u}Un(t,e){return!!t.filters.find((i=>i instanceof jt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=Pu(t),o=$o(t);return(e?i.J(_g,IDBKeyRange.bound(e,e)):i.J()).next((u=>{const c=[];return L.forEach(u,(m=>o.get([m.indexId,this.uid]).next((p=>{c.push((function(T,v){const A=v?new oc(v.sequenceNumber,new Xn(Xa(v.readTime),new ht(lr(v.documentKey)),v.largestBatchId)):oc.empty(),M=T.fields.map((([F,Z])=>new wf(Te.fromServerFormat(F),Z)));return new Gf(T.indexId,T.collectionGroup,M,A)})(m,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,o)=>{const u=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:wt(i.collectionGroup,o.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const o=Pu(t),u=$o(t);return this.Gn(t).next((c=>o.J(_g,IDBKeyRange.bound(e,e)).next((m=>L.forEach(m,(p=>u.put($T(p.indexId,this.uid,c,i))))))))}updateIndexEntries(t,e){const i=new Map;return L.forEach(e,((o,u)=>{const c=i.get(o.collectionGroup);return(c?L.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next((m=>(i.set(o.collectionGroup,m),L.forEach(m,(p=>this.zn(t,o,p).next((g=>{const T=this.jn(u,p);return g.isEqual(T)?L.resolve():this.Jn(t,u,p,g,T)})))))))}))}Hn(t,e,i,o){return Xo(t).put(o.Rn(this.uid,this.$n(i,e.key),e.key))}Yn(t,e,i,o){return Xo(t).delete(o.Vn(this.uid,this.$n(i,e.key),e.key))}zn(t,e,i){const o=Xo(t);let u=new se(Ds);return o.ee({index:ES,range:IDBKeyRange.only([i.indexId,this.uid,Vf(this.$n(i,e))])},((c,m)=>{u=u.add(new ka(i.indexId,e,eb(m.arrayValue),eb(m.directionalValue)))})).next((()=>u))}jn(t,e){let i=new se(Ds);const o=this.Qn(e,t);if(o==null)return i;const u=gg(e);if(u!=null){const c=t.data.field(u.fieldPath);if(pc(c))for(const m of c.arrayValue.values||[])i=i.add(new ka(e.indexId,t.key,this.Ln(m),o))}else i=i.add(new ka(e.indexId,t.key,hf,o));return i}Jn(t,e,i,o,u){it(rb,"Updating index entries for document '%s'",e.key);const c=[];return(function(p,g,T,v,A){const M=p.getIterator(),F=g.getIterator();let Z=Qo(M),K=Qo(F);for(;Z||K;){let et=!1,lt=!1;if(Z&&K){const J=T(Z,K);J<0?lt=!0:J>0&&(et=!0)}else Z!=null?lt=!0:et=!0;et?(v(K),K=Qo(F)):lt?(A(Z),Z=Qo(M)):(Z=Qo(M),K=Qo(F))}})(o,u,Ds,(m=>{c.push(this.Hn(t,e,i,m))}),(m=>{c.push(this.Yn(t,e,i,m))})),L.waitFor(c)}Gn(t){let e=1;return $o(t).ee({index:vS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,o,u)=>{u.done(),e=o.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((c,m)=>Ds(c,m))).filter(((c,m,p)=>!m||Ds(c,p[m-1])!==0));const o=[];o.push(t);for(const c of i){const m=Ds(c,t),p=Ds(c,e);if(m===0)o[0]=t.An();else if(m>0&&p<0)o.push(c),o.push(c.An());else if(p>0)break}o.push(e);const u=[];for(let c=0;c<o.length;c+=2){if(this.Zn(o[c],o[c+1]))return[];const m=o[c].Vn(this.uid,hf,ht.empty()),p=o[c+1].Vn(this.uid,hf,ht.empty());u.push(IDBKeyRange.bound(m,p))}return u}Zn(t,e){return Ds(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(ab)}getMinOffset(t,e){return L.mapArray(this.Mn(e),(i=>this.xn(t,i).next((o=>o||pt(44426))))).next(ab)}}function sb(s){return Ge(s,hc)}function Xo(s){return Ge(s,$u)}function Pu(s){return Ge(s,uy)}function $o(s){return Ge(s,Xu)}function ab(s){_t(s.length!==0,28825);let t=s[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<s.length;i++){const o=s[i].indexState.offset;ay(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Xn(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(s,t,e){const i=s.store(Mi),o=s.store(dl),u=[],c=IDBKeyRange.only(e.batchId);let m=0;const p=i.ee({range:c},((T,v,A)=>(m++,A.delete())));u.push(p.next((()=>{_t(m===1,47070,{batchId:e.batchId})})));const g=[];for(const T of e.mutations){const v=gS(t,T.key.path,e.batchId);u.push(o.delete(v)),g.push(T.key)}return L.waitFor(u).next((()=>g))}function id(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw pt(14731);t=s.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(bA,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class xd{constructor(t,e,i,o){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=o,this.Xn={}}static wt(t,e,i,o){_t(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new xd(u,e,i,o)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(t).ee({index:La,range:i},((o,u,c)=>{e=!1,c.done()})).next((()=>e))}addMutationBatch(t,e,i,o){const u=nl(t),c=Ns(t);return c.add({}).next((m=>{_t(typeof m=="number",49019);const p=new vy(m,e,i,o),g=(function(M,F,Z){const K=Z.baseMutations.map((lt=>td(M.yt,lt))),et=Z.mutations.map((lt=>td(M.yt,lt)));return{userId:F,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:K,mutations:et}})(this.serializer,this.userId,p),T=[];let v=new se(((A,M)=>wt(A.canonicalString(),M.canonicalString())));for(const A of o){const M=gS(this.userId,A.key.path,m);v=v.add(A.key.path.popLast()),T.push(c.put(g)),T.push(u.put(M,bx))}return v.forEach((A=>{T.push(this.indexManager.addToCollectionParentIndex(t,A))})),t.addOnCommittedListener((()=>{this.Xn[m]=p.keys()})),L.waitFor(T).next((()=>p))}))}lookupMutationBatch(t,e){return Ns(t).get(e).next((i=>i?(_t(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Ma(this.serializer,i)):null))}er(t,e){return this.Xn[e]?L.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const o=i.keys();return this.Xn[e]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,o=IDBKeyRange.lowerBound([this.userId,i]);let u=null;return Ns(t).ee({index:La,range:o},((c,m,p)=>{m.userId===this.userId&&(_t(m.batchId>=i,47524,{tr:i}),u=Ma(this.serializer,m)),p.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ua;return Ns(t).ee({index:La,range:e,reverse:!0},((o,u,c)=>{i=u.batchId,c.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Ua],[this.userId,Number.POSITIVE_INFINITY]);return Ns(t).J(La,e).next((i=>i.map((o=>Ma(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=If(this.userId,e.path),o=IDBKeyRange.lowerBound(i),u=[];return nl(t).ee({range:o},((c,m,p)=>{const[g,T,v]=c,A=lr(T);if(g===this.userId&&e.path.isEqual(A))return Ns(t).get(v).next((M=>{if(!M)throw pt(61480,{nr:c,batchId:v});_t(M.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:M.userId,batchId:v}),u.push(Ma(this.serializer,M))}));p.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new se(wt);const o=[];return e.forEach((u=>{const c=If(this.userId,u.path),m=IDBKeyRange.lowerBound(c),p=nl(t).ee({range:m},((g,T,v)=>{const[A,M,F]=g,Z=lr(M);A===this.userId&&u.path.isEqual(Z)?i=i.add(F):v.done()}));o.push(p)})),L.waitFor(o).next((()=>this.rr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1,u=If(this.userId,i),c=IDBKeyRange.lowerBound(u);let m=new se(wt);return nl(t).ee({range:c},((p,g,T)=>{const[v,A,M]=p,F=lr(A);v===this.userId&&i.isPrefixOf(F)?F.length===o&&(m=m.add(M)):T.done()})).next((()=>this.rr(t,m)))}rr(t,e){const i=[],o=[];return e.forEach((u=>{o.push(Ns(t).get(u).next((c=>{if(c===null)throw pt(35274,{batchId:u});_t(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),i.push(Ma(this.serializer,c))})))})),L.waitFor(o).next((()=>i))}removeMutationBatch(t,e){return SA(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),L.forEach(i,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return L.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return nl(t).ee({range:i},((u,c,m)=>{if(u[0]===this.userId){const p=lr(u[1]);o.push(p)}else m.done()})).next((()=>{_t(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(t,e){return AA(t,this.userId,e)}_r(t){return wA(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ua,lastStreamToken:""}))}}function AA(s,t,e){const i=If(t,e.path),o=i[1],u=IDBKeyRange.lowerBound(i);let c=!1;return nl(s).ee({range:u,X:!0},((m,p,g)=>{const[T,v,A]=m;T===t&&v===o&&(c=!0),g.done()})).next((()=>c))}function Ns(s){return Ge(s,Mi)}function nl(s){return Ge(s,dl)}function wA(s){return Ge(s,uc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const i=new $a(e.highestTargetId);return e.highestTargetId=i.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>Tt.fromTimestamp(new ie(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.lr(t).next((o=>(o.highestListenSequenceNumber=e,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.hr(t,o))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((i=>(i.targetCount+=1,this.Tr(e,i),this.hr(t,i))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Jo(t).delete(e.targetId))).next((()=>this.lr(t))).next((i=>(_t(i.targetCount>0,8065),i.targetCount-=1,this.hr(t,i))))}removeTargets(t,e,i){let o=0;const u=[];return Jo(t).ee(((c,m)=>{const p=Fu(m);p.sequenceNumber<=e&&i.get(p.targetId)===null&&(o++,u.push(this.removeTargetData(t,p)))})).next((()=>L.waitFor(u))).next((()=>o))}forEachTarget(t,e){return Jo(t).ee(((i,o)=>{const u=Fu(o);e(u)}))}lr(t){return lb(t).get(Yf).next((e=>(_t(e!==null,2888),e)))}hr(t,e){return lb(t).put(Yf,e)}Pr(t,e){return Jo(t).put(_A(this.serializer,e))}Tr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const i=Qa(e),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let u=null;return Jo(t).ee({range:o,index:_S},((c,m,p)=>{const g=Fu(m);xc(e,g.target)&&(u=g,p.done())})).next((()=>u))}addMatchingKeys(t,e,i){const o=[],u=ks(t);return e.forEach((c=>{const m=mn(c.path);o.push(u.put({targetId:i,path:m})),o.push(this.referenceDelegate.addReference(t,i,c))})),L.waitFor(o)}removeMatchingKeys(t,e,i){const o=ks(t);return L.forEach(e,(u=>{const c=mn(u.path);return L.waitFor([o.delete([i,c]),this.referenceDelegate.removeReference(t,i,u)])}))}removeMatchingKeysForTargetId(t,e){const i=ks(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),o=ks(t);let u=Pt();return o.ee({range:i,X:!0},((c,m,p)=>{const g=lr(c[1]),T=new ht(g);u=u.add(T)})).next((()=>u))}containsKey(t,e){const i=mn(e.path),o=IDBKeyRange.bound([i],[uS(i)],!1,!0);let u=0;return ks(t).ee({index:ly,X:!0,range:o},(([c,m],p,g)=>{c!==0&&(u++,g.done())})).next((()=>u>0))}At(t,e){return Jo(t).get(e).next((i=>i?Fu(i):null))}}function Jo(s){return Ge(s,ml)}function lb(s){return Ge(s,za)}function ks(s){return Ge(s,pl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="LruGarbageCollector",IA=1048576;function cb([s,t],[e,i]){const o=wt(s,e);return o===0?wt(t,i):o}class $O{constructor(t){this.Ir=t,this.buffer=new se(cb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();cb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class RA{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(ub,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Js(e)?it(ub,"Ignoring IndexedDB error during garbage collection: ",e):await eo(e)}await this.Vr(3e5)}))}}class JO{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return L.resolve(mi.ce);const i=new $O(e);return this.mr.forEachTarget(t,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(ob)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ob):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,o,u,c,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,c=Date.now(),this.nthSequenceNumber(t,o)))).next((v=>(i=v,m=Date.now(),this.removeTargets(t,i,e)))).next((v=>(u=v,p=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(g=Date.now(),Wo()<=Bt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v}))))}}function CA(s,t){return new JO(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,e){this.db=t,this.garbageCollector=CA(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((o=>i+o))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((i,o)=>e(o)))}addReference(t,e,i){return ff(t,i)}removeReference(t,e,i){return ff(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return ff(t,e)}br(t,e){return(function(o,u){let c=!1;return wA(o).te((m=>AA(o,m,u).next((p=>(p&&(c=!0),L.resolve(!p)))))).next((()=>c))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(t,((c,m)=>{if(m<=e){const p=this.br(t,c).next((g=>{if(!g)return u++,i.getEntry(t,c).next((()=>(i.removeEntry(c,Tt.min()),ks(t).delete((function(v){return[0,mn(v.path)]})(c)))))}));o.push(p)}})).next((()=>L.waitFor(o))).next((()=>i.apply(t))).next((()=>u))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return ff(t,e)}Sr(t,e){const i=ks(t);let o,u=mi.ce;return i.ee({index:ly},(([c,m],{path:p,sequenceNumber:g})=>{c===0?(u!==mi.ce&&e(new ht(lr(o)),u),u=g,o=p):u=mi.ce})).next((()=>{u!==mi.ce&&e(new ht(lr(o)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ff(s,t){return ks(s).put((function(i,o){return{targetId:0,path:mn(i.path),sequenceNumber:o}})(t,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.changes=new Yr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,we.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?L.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ca(t).put(i)}removeEntry(t,e,i){return Ca(t).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],ed(c),m[m.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.Dr(t,i))))}getEntry(t,e){let i=we.newInvalidDocument(e);return Ca(t).ee({index:Rf,range:IDBKeyRange.only(ku(e))},((o,u)=>{i=this.Cr(e,u)})).next((()=>i))}vr(t,e){let i={size:0,document:we.newInvalidDocument(e)};return Ca(t).ee({index:Rf,range:IDBKeyRange.only(ku(e))},((o,u)=>{i={document:this.Cr(e,u),size:id(u)}})).next((()=>i))}getEntries(t,e){let i=Qn();return this.Fr(t,e,((o,u)=>{const c=this.Cr(o,u);i=i.insert(o,c)})).next((()=>i))}Mr(t,e){let i=Qn(),o=new ve(ht.comparator);return this.Fr(t,e,((u,c)=>{const m=this.Cr(u,c);i=i.insert(u,m),o=o.insert(u,id(c))})).next((()=>({documents:i,Or:o})))}Fr(t,e,i){if(e.isEmpty())return L.resolve();let o=new se(db);e.forEach((p=>o=o.add(p)));const u=IDBKeyRange.bound(ku(o.first()),ku(o.last())),c=o.getIterator();let m=c.getNext();return Ca(t).ee({index:Rf,range:u},((p,g,T)=>{const v=ht.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;m&&db(m,v)<0;)i(m,null),m=c.getNext();m&&m.isEqual(v)&&(i(m,g),m=c.hasNext()?c.getNext():null),m?T.j(ku(m)):T.done()})).next((()=>{for(;m;)i(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,e,i,o,u){const c=e.path,m=[c.popLast().toArray(),c.lastSegment(),ed(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(t).J(IDBKeyRange.bound(m,p,!0)).next((g=>{u?.incrementDocumentReadCount(g.length);let T=Qn();for(const v of g){const A=this.Cr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);A.isFoundDocument()&&(Oc(e,A)||o.has(A.key))&&(T=T.insert(A.key,A))}return T}))}getAllFromCollectionGroup(t,e,i,o){let u=Qn();const c=fb(e,i),m=fb(e,Xn.max());return Ca(t).ee({index:yS,range:IDBKeyRange.bound(c,m,!0)},((p,g,T)=>{const v=this.Cr(ht.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);u=u.insert(v.key,v),u.size===o&&T.done()})).next((()=>u))}newChangeBuffer(t){return new tV(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return hb(t).get(yg).next((e=>(_t(!!e,20021),e)))}Dr(t,e){return hb(t).put(yg,e)}Cr(t,e){if(e){const i=zO(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Tt.min())))return i}return we.newInvalidDocument(t)}}function NA(s){return new ZO(s)}class tV extends DA{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new Yr((i=>i.toString()),((i,o)=>i.isEqual(o)))}applyChanges(t){const e=[];let i=0,o=new se(((u,c)=>wt(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Br.get(u);if(e.push(this.Nr.removeEntry(t,u,m.readTime)),c.isValidDocument()){const p=YT(this.Nr.serializer,c);o=o.add(u.path.popLast());const g=id(p);i+=g-m.size,e.push(this.Nr.addEntry(t,u,p))}else if(i-=m.size,this.trackRemovals){const p=YT(this.Nr.serializer,c.convertToNoDocument(Tt.min()));e.push(this.Nr.addEntry(t,u,p))}})),o.forEach((u=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,u))})),e.push(this.Nr.updateMetadata(t,i)),L.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((i=>(this.Br.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:i,Or:o})=>(o.forEach(((u,c)=>{this.Br.set(u,{size:c,readTime:i.get(u).readTime})})),i)))}}function hb(s){return Ge(s,cc)}function Ca(s){return Ge(s,Qf)}function ku(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fb(s,t){const e=t.documentKey.path.toArray();return[s,ed(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function db(s,t){const e=s.path.toArray(),i=t.path.toArray();let o=0;for(let u=0;u<e.length-2&&u<i.length-2;++u)if(o=wt(e[u],i[u]),o)return o;return o=wt(e.length,i.length),o||(o=wt(e[e.length-2],i[i.length-2]),o||wt(e[e.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t,e,i,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(i=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(i!==null&&tc(i.mutation,o,pi.empty(),ie.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const o=ur();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,i).next((u=>{let c=ju();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=ur();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const o=[];return i.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,i,o){let u=Qn();const c=Zu(),m=(function(){return Zu()})();return e.forEach(((p,g)=>{const T=i.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ws)?u=u.insert(g.key,g):T!==void 0?(c.set(g.key,T.mutation.getFieldMask()),tc(T.mutation,g,T.mutation.getFieldMask(),ie.now())):c.set(g.key,pi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,T)=>c.set(g,T))),e.forEach(((g,T)=>m.set(g,new eV(T,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const i=Zu();let o=new ve(((c,m)=>c-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let T=i.get(p)||pi.empty();T=m.applyToLocalView(g,T),i.set(p,T);const v=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,v)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,v=YS();T.forEach((A=>{if(!u.has(A)){const M=tA(e.get(A),i.get(A));M!==null&&v.set(A,M),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return L.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,o){return(function(c){return ht.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):FS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,o):this.getDocumentsMatchingCollectionQuery(t,e,i,o)}getNextDocuments(t,e,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,o-u.size):L.resolve(ur());let m=ac,p=u;return c.next((g=>L.forEach(g,((T,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),u.get(T)?L.resolve():this.remoteDocumentCache.getEntry(t,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Pt()))).next((T=>({batchId:m,changes:QS(T)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let o=ju();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,o){const u=e.collectionGroup;let c=ju();return this.indexManager.getCollectionParents(t,u).next((m=>L.forEach(m,(p=>{const g=(function(v,A){return new Nl(A,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,i,o).next((T=>{T.forEach(((v,A)=>{c=c.insert(v,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,u,o)))).next((c=>{u.forEach(((p,g)=>{const T=g.getKey();c.get(T)===null&&(c=c.insert(T,we.newInvalidDocument(T)))}));let m=ju();return c.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&tc(T.mutation,g,pi.empty(),ie.now()),Oc(e,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return L.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Tn(o.createTime)}})(e)),L.resolve()}getNamedQuery(t,e){return L.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:vA(o.bundledQuery),readTime:Tn(o.readTime)}})(e)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.overlays=new ve(ht.comparator),this.qr=new Map}getOverlay(t,e){return L.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ur();return L.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((o,u)=>{this.St(t,e,u)})),L.resolve()}removeOverlaysForBatchId(t,e,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),L.resolve()}getOverlaysForCollection(t,e,i){const o=ur(),u=e.length+1,c=new ht(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return L.resolve(o)}getOverlaysForCollectionGroup(t,e,i,o){let u=new ve(((g,T)=>g-T));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let T=u.get(g.largestBatchId);T===null&&(T=ur(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ur(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return L.resolve(m)}St(t,e,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Ty(e,i));let u=this.qr.get(e);u===void 0&&(u=Pt(),this.qr.set(e,u)),this.qr.set(e,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.Qr=new se($e.$r),this.Ur=new se($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new $e(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new $e(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new ht(new $t([])),i=new $e(e,t),o=new $e(e,t+1),u=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new ht(new $t([])),i=new $e(e,t),o=new $e(e,t+1);let u=Pt();return this.Ur.forEachInRange([i,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new $e(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class $e{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return ht.comparator(t.key,e.key)||wt(t.Yr,e.Yr)}static Kr(t,e){return wt(t.Yr,e.Yr)||ht.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new se($e.$r)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vy(u,e,i,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new $e(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return L.resolve(c)}lookupMutationBatch(t,e){return L.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,o=this.ei(i),u=o<0?0:o;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Ua:this.tr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $e(e,0),o=new $e(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new se(wt);return e.forEach((o=>{const u=new $e(o,0),c=new $e(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{i=i.add(m.Yr)}))})),L.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1;let u=i;ht.isDocumentKey(u)||(u=u.child(""));const c=new $e(new ht(u),0);let m=new se(wt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),L.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((i=>{const o=this.Xr(i);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){_t(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return L.forEach(e.mutations,(o=>{const u=new $e(o.key,e.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new $e(e,0),o=this.Zr.firstAfterOrEqual(i);return L.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t){this.ri=t,this.docs=(function(){return new ve(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,o=this.docs.get(i),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return L.resolve(i?i.document.mutableCopy():we.newInvalidDocument(e))}getEntries(t,e){let i=Qn();return e.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():we.newInvalidDocument(o))})),L.resolve(i)}getDocumentsMatchingQuery(t,e,i,o){let u=Qn();const c=e.path,m=new ht(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ay(fS(T),i)<=0||(o.has(T.key)||Oc(e,T))&&(u=u.insert(T.key,T.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(t,e,i,o){pt(9500)}ii(t,e){return L.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new oV(this)}getSize(t){return L.resolve(this.size)}}class oV extends DA{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(i)})),L.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t){this.persistence=t,this.si=new Yr((e=>Qa(e)),xc),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Iy,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,e){return this.si.forEach(((i,o)=>e(o))),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),L.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new $a(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,L.resolve()}updateTargetData(t,e){return this.Pr(e),L.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,e,i){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&i.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),L.waitFor(u).next((()=>o))}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return L.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),L.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),L.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),L.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return L.resolve(i)}containsKey(t,e){return L.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,e){this.ui={},this.overlays={},this.ci=new mi(0),this.li=!1,this.li=!0,this.hi=new rV,this.referenceDelegate=t(this),this.Pi=new lV(this),this.indexManager=new QO,this.remoteDocumentCache=(function(o){return new aV(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new yA(e),this.Ii=new nV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new iV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new sV(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){it("MemoryPersistence","Starting transaction:",t);const o=new uV(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return L.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class uV extends mS{constructor(t){super(),this.currentSequenceNumber=t}}class Od{constructor(t){this.persistence=t,this.Ri=new Iy,this.Vi=null}static mi(t){return new Od(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),L.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),L.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(i=>{const o=ht.fromPath(i);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return L.or([()=>L.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class rd{constructor(t,e){this.persistence=t,this.pi=new Yr((i=>mn(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=CA(this,e)}static mi(t,e){return new rd(t,e)}Ei(){}di(t){return L.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((o=>i+o))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return L.forEach(this.pi,((i,o)=>this.br(t,i,o).next((u=>u?L.resolve():e(o)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(i++,u.removeEntry(c,Tt.min()))})))).next((()=>u.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),L.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),L.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),L.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Df(t.data.value)),e}br(t,e,i){return L.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return L.resolve(o!==void 0&&o>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t){this.serializer=t}k(t,e,i,o){const u=new vd("createOrUpgrade",e);i<1&&o>=1&&((function(p){p.createObjectStore(Nc)})(t),(function(p){p.createObjectStore(uc,{keyPath:Tx}),p.createObjectStore(Mi,{keyPath:AT,autoIncrement:!0}).createIndex(La,wT,{unique:!0}),p.createObjectStore(dl)})(t),mb(t),(function(p){p.createObjectStore(xa)})(t));let c=L.resolve();return i<3&&o>=3&&(i!==0&&((function(p){p.deleteObjectStore(pl),p.deleteObjectStore(ml),p.deleteObjectStore(za)})(t),mb(t)),c=c.next((()=>(function(p){const g=p.store(za),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return g.put(Yf,T)})(u)))),i<4&&o>=4&&(i!==0&&(c=c.next((()=>(function(p,g){return g.store(Mi).J().next((v=>{p.deleteObjectStore(Mi),p.createObjectStore(Mi,{keyPath:AT,autoIncrement:!0}).createIndex(La,wT,{unique:!0});const A=g.store(Mi),M=v.map((F=>A.put(F)));return L.waitFor(M)}))})(t,u)))),c=c.next((()=>{(function(p){p.createObjectStore(gl,{keyPath:Nx})})(t)}))),i<5&&o>=5&&(c=c.next((()=>this.yi(u)))),i<6&&o>=6&&(c=c.next((()=>((function(p){p.createObjectStore(cc)})(t),this.wi(u))))),i<7&&o>=7&&(c=c.next((()=>this.Si(u)))),i<8&&o>=8&&(c=c.next((()=>this.bi(t,u)))),i<9&&o>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&o>=10&&(c=c.next((()=>this.Di(u)))),i<11&&o>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(Td,{keyPath:xx})})(t),(function(p){p.createObjectStore(bd,{keyPath:Ox})})(t)}))),i<12&&o>=12&&(c=c.next((()=>{(function(p){const g=p.createObjectStore(Sd,{keyPath:zx});g.createIndex(vg,Bx,{unique:!1}),g.createIndex(TS,jx,{unique:!1})})(t)}))),i<13&&o>=13&&(c=c.next((()=>(function(p){const g=p.createObjectStore(Qf,{keyPath:Sx});g.createIndex(Rf,Ax),g.createIndex(yS,wx)})(t))).next((()=>this.Ci(t,u))).next((()=>t.deleteObjectStore(xa)))),i<14&&o>=14&&(c=c.next((()=>this.Fi(t,u)))),i<15&&o>=15&&(c=c.next((()=>(function(p){p.createObjectStore(uy,{keyPath:Vx,autoIncrement:!0}).createIndex(_g,Mx,{unique:!1}),p.createObjectStore(Xu,{keyPath:Px}).createIndex(vS,kx,{unique:!1}),p.createObjectStore($u,{keyPath:Lx}).createIndex(ES,Ux,{unique:!1})})(t)))),i<16&&o>=16&&(c=c.next((()=>{e.objectStore(Xu).clear()})).next((()=>{e.objectStore($u).clear()}))),i<17&&o>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(cy,{keyPath:qx})})(t)}))),i<18&&o>=18&&p1()&&(c=c.next((()=>{e.objectStore(Xu).clear()})).next((()=>{e.objectStore($u).clear()}))),c}wi(t){let e=0;return t.store(xa).ee(((i,o)=>{e+=id(o)})).next((()=>{const i={byteSize:e};return t.store(cc).put(yg,i)}))}yi(t){const e=t.store(uc),i=t.store(Mi);return e.J().next((o=>L.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,Ua],[u.userId,u.lastAcknowledgedBatchId]);return i.J(La,c).next((m=>L.forEach(m,(p=>{_t(p.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const g=Ma(this.serializer,p);return SA(t,u.userId,g).next((()=>{}))}))))}))))}Si(t){const e=t.store(pl),i=t.store(xa);return t.store(za).get(Yf).next((o=>{const u=[];return i.ee(((c,m)=>{const p=new $t(c),g=(function(v){return[0,mn(v)]})(p);u.push(e.get(g).next((T=>T?L.resolve():(v=>e.put({targetId:0,path:mn(v),sequenceNumber:o.highestListenSequenceNumber}))(p))))})).next((()=>L.waitFor(u)))}))}bi(t,e){t.createObjectStore(hc,{keyPath:Dx});const i=e.store(hc),o=new wy,u=c=>{if(o.add(c)){const m=c.lastSegment(),p=c.popLast();return i.put({collectionId:m,parent:mn(p)})}};return e.store(xa).ee({X:!0},((c,m)=>{const p=new $t(c);return u(p.popLast())})).next((()=>e.store(dl).ee({X:!0},(([c,m,p],g)=>{const T=lr(m);return u(T.popLast())}))))}Di(t){const e=t.store(ml);return e.ee(((i,o)=>{const u=Fu(o),c=_A(this.serializer,u);return e.put(c)}))}Ci(t,e){const i=e.store(xa),o=[];return i.ee(((u,c)=>{const m=e.store(Qf),p=(function(v){return v.document?new ht($t.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):pt(36783)})(c).path.toArray(),g={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(g))})).next((()=>L.waitFor(o)))}Fi(t,e){const i=e.store(Mi),o=NA(this.serializer),u=new Ry(Od.mi,this.serializer.yt);return i.J().next((c=>{const m=new Map;return c.forEach((p=>{let g=m.get(p.userId)??Pt();Ma(this.serializer,p).keys().forEach((T=>g=g.add(T))),m.set(p.userId,g)})),L.forEach(m,((p,g)=>{const T=new vn(g),v=Nd.wt(this.serializer,T),A=u.getIndexManager(T),M=xd.wt(T,this.serializer,A,u.referenceDelegate);return new xA(o,M,v,A).recalculateAndSaveOverlaysForDocumentKeys(new Eg(e,mi.ce),p).next()}))}))}}function mb(s){s.createObjectStore(pl,{keyPath:Rx}).createIndex(ly,Cx,{unique:!0}),s.createObjectStore(ml,{keyPath:"targetId"}).createIndex(_S,Ix,{unique:!0}),s.createObjectStore(za)}const xs="IndexedDbPersistence",Xp=18e5,$p=5e3,Jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hV="main";class Cy{constructor(t,e,i,o,u,c,m,p,g,T,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Mi=u,this.window=c,this.document=m,this.xi=g,this.Oi=T,this.Ni=v,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=A=>Promise.resolve(),!Cy.v())throw new ut(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WO(this,o),this.$i=e+hV,this.serializer=new yA(p),this.Ui=new qs(this.$i,this.Ni,new cV(this.serializer)),this.hi=new jO,this.Pi=new XO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NA(this.serializer),this.Ii=new BO,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,T===!1&&En(xs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(Y.FAILED_PRECONDITION,Jp);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new mi(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>df(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(Js(t))return it(xs,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return it(xs,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return Lu(t).get(Ko).next((e=>L.resolve(this.es(e))))}ts(t){return df(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Xp)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Ge(e,gl);return i.J().next((o=>{const u=this.ss(o,Xp),c=o.filter((m=>u.indexOf(m)===-1));return L.forEach(c,(m=>i.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?L.resolve(!0):Lu(t).get(Ko).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,$p)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new ut(Y.FAILED_PRECONDITION,Jp);return!1}}return!(!this.networkEnabled||!this.inForeground)||df(t).J().next((i=>this.ss(i,$p).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&it(xs,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Nc,gl],(t=>{const e=new Eg(t,mi.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((i=>this.rs(i.updateTimeMs,e)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>df(t).J().next((e=>this.ss(e,Xp).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return xd.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new YO(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Nd.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,i){it(xs,"Starting transaction:",t);const o=e==="readonly"?"readonly":"readwrite",u=(function(p){return p===18?Gx:p===17?wS:p===16?Hx:p===15?hy:p===14?AS:p===13?SS:p===12?Fx:p===11?bS:void pt(60245)})(this.Ni);let c;return this.Ui.runTransaction(t,o,u,(m=>(c=new Eg(m,this.ci?this.ci.next():mi.ce),e==="readwrite-primary"?this.Hi(c).next((p=>!!p||this.Yi(c))).next((p=>{if(!p)throw En(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ut(Y.FAILED_PRECONDITION,dS);return i(c)})).next((p=>this.Xi(c).next((()=>p)))):this.Is(c).next((()=>i(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Is(t){return Lu(t).get(Ko).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,$p)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(Y.FAILED_PRECONDITION,Jp)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lu(t).put(Ko,e)}static v(){return qs.v()}Zi(t){const e=Lu(t);return e.get(Ko).next((i=>this.es(i)?(it(xs,"Releasing primary lease."),e.delete(Ko)):L.resolve()))}rs(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(En(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;m1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const e=this.Ki?.getItem(this._s(t))!==null;return it(xs,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return En(xs,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){En("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Lu(s){return Ge(s,Nc)}function df(s){return Ge(s,gl)}function fV(s,t){let e=s.projectId;return s.isDefaultDatabase||(e+="."+s.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,e,i,o){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=o}static As(t,e){let i=Pt(),o=Pt();for(const u of e.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dy(t,e.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return m1()?8:pS(He())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,i).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new dV;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,i,o){return i.documentReadCount<this.fs?(Wo()<=Bt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Zo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(Wo()<=Bt.DEBUG&&it("QueryEngine","Query:",Zo(e),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Wo()<=Bt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Zo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(e))):L.resolve())}ys(t,e){if(UT(e))return L.resolve(null);let i=gi(e);return this.indexManager.getIndexType(t,i).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Wf(e,null,"F"),i=gi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((u=>{const c=Pt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,i).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Wf(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,i,o){return UT(e)||o.isEqual(Tt.min())?L.resolve(null):this.ps.getDocuments(t,i).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,i,o)?L.resolve(null):(Wo()<=Bt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(e)),this.vs(t,c,e,mx(o,ac)).next((m=>m)))}))}Ds(t,e){let i=new se(GS(t));return e.forEach(((o,u)=>{Oc(t,u)&&(i=i.add(u))})),i}Cs(t,e,i,o){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,i){return Wo()<=Bt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Zo(e)),this.ps.getDocumentsMatchingQuery(t,e,Xn.min(),i)}vs(t,e,i,o){return this.ps.getDocumentsMatchingQuery(t,i,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",mV=3e8;class pV{constructor(t,e,i,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ve(wt),this.xs=new Yr((u=>Qa(u)),xc),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function VA(s,t,e,i){return new pV(s,t,e,i)}async function MA(s,t){const e=It(s);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return e.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((u=>{const c=[],m=[];let p=Pt();for(const g of o){c.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return e.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function gV(s,t){const e=It(s);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const v=g.batch,A=v.keys();let M=L.resolve();return A.forEach((F=>{M=M.next((()=>T.getEntry(p,F))).next((Z=>{const K=g.docVersions.get(F);_t(K!==null,48541),Z.version.compareTo(K)<0&&(v.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),T.addEntry(Z)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,v)))})(e,i,t,u).next((()=>u.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(i,o)))}))}function PA(s){const t=It(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function yV(s,t){const e=It(s),i=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((T,v)=>{const A=o.get(v);if(!A)return;m.push(e.Pi.removeMatchingKeys(u,T.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(u,T.addedDocuments,v))));let M=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(v)!==null?M=M.withResumeToken(Be.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,i)),o=o.insert(v,M),(function(Z,K,et){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=mV?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(A,M,T)&&m.push(e.Pi.updateTargetData(u,M))}));let p=Qn(),g=Pt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(_V(u,c,t.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!i.isEqual(Tt.min())){const T=e.Pi.getLastRemoteSnapshotVersion(u).next((v=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));m.push(T)}return L.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function _V(s,t,e){let i=Pt(),o=Pt();return e.forEach((u=>i=i.add(u))),t.getEntries(s,i).next((u=>{let c=Qn();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):it(Ny,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function vV(s,t){const e=It(s);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Ua),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function EV(s,t){const e=It(s);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return e.Pi.getTargetData(i,t).next((u=>u?(o=u,L.resolve(o)):e.Pi.allocateTargetId(i).next((c=>(o=new Ur(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=e.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Mg(s,t,e){const i=It(s),o=i.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",u,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Js(c))throw c;it(Ny,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(o.target)}function pb(s,t,e){const i=It(s);let o=Tt.min(),u=Pt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,T){const v=It(p),A=v.xs.get(T);return A!==void 0?L.resolve(v.Ms.get(A)):v.Pi.getTargetData(g,T)})(i,c,gi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?o:Tt.min(),e?u:Pt()))).next((m=>(TV(i,aO(t),m),{documents:m,Qs:u})))))}function TV(s,t,e){let i=s.Os.get(t)||Tt.min();e.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.Os.set(t,i)}class gb{constructor(){this.activeTargetIds=fO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kA{constructor(){this.Mo=new gb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="ConnectivityMonitor";class _b{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(yb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(yb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf=null;function Pg(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",SV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Xf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(t,e,i,o,u){const c=Pg(),m=this.zo(t,e.toUriEncodedString());it(Wp,`Sending RPC '${t}' ${c}:`,m,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=Il(g);return this.Jo(t,m,p,i,T).then((v=>(it(Wp,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw sc(Wp,`RPC '${t}' ${c} failed with error: `,v,"url: ",m,"request:",i),v}))}Ho(t,e,i,o,u,c){return this.Go(t,e,i,o,u)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),i&&i.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const i=SV[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class IV extends AV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,o,u){const c=Pg();return new Promise(((m,p)=>{const g=new iS;g.setWithCredentials(!0),g.listenOnce(rS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Af.NO_ERROR:const v=g.getResponseJson();it(fn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),m(v);break;case Af.TIMEOUT:it(fn,`RPC '${t}' ${c} timed out`),p(new ut(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const A=g.getStatus();if(it(fn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M?.error;if(F&&F.status&&F.message){const Z=(function(et){const lt=et.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(lt)>=0?lt:Y.UNKNOWN})(F.status);p(new ut(Z,F.message))}else p(new ut(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{it(fn,`RPC '${t}' ${c} completed.`)}}));const T=JSON.stringify(o);it(fn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",T,i,15)}))}T_(t,e,i){const o=Pg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=oS(),m=aS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const T=u.join("");it(fn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const v=c.createWebChannel(T,p);this.I_(v);let A=!1,M=!1;const F=new wV({Yo:K=>{M?it(fn,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(A||(it(fn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),A=!0),it(fn,`RPC '${t}' stream ${o} sending:`,K),v.send(K))},Zo:()=>v.close()}),Z=(K,et,lt)=>{K.listen(et,(J=>{try{lt(J)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return Z(v,Bu.EventType.OPEN,(()=>{M||(it(fn,`RPC '${t}' stream ${o} transport opened.`),F.o_())})),Z(v,Bu.EventType.CLOSE,(()=>{M||(M=!0,it(fn,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(v))})),Z(v,Bu.EventType.ERROR,(K=>{M||(M=!0,sc(fn,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),F.a_(new ut(Y.UNAVAILABLE,"The operation could not be completed")))})),Z(v,Bu.EventType.MESSAGE,(K=>{if(!M){const et=K.data[0];_t(!!et,16349);const lt=et,J=lt?.error||lt[0]?.error;if(J){it(fn,`RPC '${t}' stream ${o} received error:`,J);const ft=J.status;let at=(function(w){const C=Ue[w];if(C!==void 0)return iA(C)})(ft),ct=J.message;at===void 0&&(at=Y.INTERNAL,ct="Unknown error status: "+ft+" with message "+J.message),M=!0,F.a_(new ut(at,ct)),v.close()}else it(fn,`RPC '${t}' stream ${o} received:`,et),F.u_(et)}})),Z(m,sS.STAT_EVENT,(K=>{K.stat===mg.PROXY?it(fn,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===mg.NOPROXY&&it(fn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return typeof window<"u"?window:null}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(s){return new DO(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,e,i=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-i);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="PersistentStream";class UA{constructor(t,e,i,o,u,c,m,p){this.Mi=t,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Y.RESOURCE_EXHAUSTED?(En(e.toString()),En("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===e&&this.G_(i,o)}),(i=>{t((()=>{const o=new ut(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(vb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(it(vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CV extends UA{constructor(t,e,i,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=OO(this.serializer,t),i=(function(u){if(!("targetChange"in u))return Tt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Tt.min():c.readTime?Tn(c.readTime):Tt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Dg(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=$f(p)?{documents:hA(u,p)}:{query:fA(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=aA(u,c.resumeToken);const g=Rg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Sl(u,c.snapshotVersion.toTimestamp());const g=Rg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const i=MO(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Dg(this.serializer),e.removeTarget=t,this.q_(e)}}class DV extends UA{constructor(t,e,i,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=VO(t.writeResults,t.commitTime),i=Tn(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Dg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>td(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{}class xV extends NV{constructor(t,e,i,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Cg(e,i),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Y.UNKNOWN,u.toString())}))}Ho(t,e,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Cg(e,i),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Y.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(En(e),this.aa=!1):it("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class VV{constructor(t,e,i,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{io(this)&&(it(Ja,"Restarting streams for network reachability change."),await(async function(p){const g=It(p);g.Ea.add(4),await Mc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Md(g)})(this))}))})),this.Ra=new OV(i,o)}}async function Md(s){if(io(s))for(const t of s.da)await t(!0)}async function Mc(s){for(const t of s.da)await t(!1)}function zA(s,t){const e=It(s);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),My(e)?Vy(e):Ol(e).O_()&&Oy(e,t))}function xy(s,t){const e=It(s),i=Ol(e);e.Ia.delete(t),i.O_()&&BA(e,t),e.Ia.size===0&&(i.O_()?i.L_():io(e)&&e.Ra.set("Unknown"))}function Oy(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ol(s).Y_(t)}function BA(s,t){s.Va.Ue(t),Ol(s).Z_(t)}function Vy(s){s.Va=new wO({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ol(s).start(),s.Ra.ua()}function My(s){return io(s)&&!Ol(s).x_()&&s.Ia.size>0}function io(s){return It(s).Ea.size===0}function jA(s){s.Va=void 0}async function MV(s){s.Ra.set("Online")}async function PV(s){s.Ia.forEach(((t,e)=>{Oy(s,t)}))}async function kV(s,t){jA(s),My(s)?(s.Ra.ha(t),Vy(s)):s.Ra.set("Unknown")}async function LV(s,t,e){if(s.Ra.set("Online"),t instanceof sA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(i){it(Ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await sd(s,i)}else if(t instanceof Of?s.Va.Ze(t):t instanceof rA?s.Va.st(t):s.Va.tt(t),!e.isEqual(Tt.min()))try{const i=await PA(s.localStore);e.compareTo(i)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),BA(u,p);const v=new Ur(T.target,p,g,T.sequenceNumber);Oy(u,v)})),u.remoteSyncer.applyRemoteEvent(m)})(s,e)}catch(i){it(Ja,"Failed to raise snapshot:",i),await sd(s,i)}}async function sd(s,t,e){if(!Js(t))throw t;s.Ea.add(1),await Mc(s),s.Ra.set("Offline"),e||(e=()=>PA(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Ja,"Retrying IndexedDB access"),await e(),s.Ea.delete(1),await Md(s)}))}function qA(s,t){return t().catch((e=>sd(s,e,t)))}async function Pc(s){const t=It(s),e=Qs(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ua;for(;UV(t);)try{const o=await vV(t.localStore,i);if(o===null){t.Ta.length===0&&e.L_();break}i=o.batchId,zV(t,o)}catch(o){await sd(t,o)}FA(t)&&HA(t)}function UV(s){return io(s)&&s.Ta.length<10}function zV(s,t){s.Ta.push(t);const e=Qs(s);e.O_()&&e.X_&&e.ea(t.mutations)}function FA(s){return io(s)&&!Qs(s).x_()&&s.Ta.length>0}function HA(s){Qs(s).start()}async function BV(s){Qs(s).ra()}async function jV(s){const t=Qs(s);for(const e of s.Ta)t.ea(e.mutations)}async function qV(s,t,e){const i=s.Ta.shift(),o=Ey.from(i,t,e);await qA(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Pc(s)}async function FV(s,t){t&&Qs(s).X_&&await(async function(i,o){if((function(c){return bO(c)&&c!==Y.ABORTED})(o.code)){const u=i.Ta.shift();Qs(i).B_(),await qA(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Pc(i)}})(s,t),FA(s)&&HA(s)}async function Eb(s,t){const e=It(s);e.asyncQueue.verifyOperationInProgress(),it(Ja,"RemoteStore received new credentials");const i=io(e);e.Ea.add(3),await Mc(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Md(e)}async function HV(s,t){const e=It(s);t?(e.Ea.delete(2),await Md(e)):t||(e.Ea.add(2),await Mc(e),e.Ra.set("Unknown"))}function Ol(s){return s.ma||(s.ma=(function(e,i,o){const u=It(e);return u.sa(),new CV(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:MV.bind(null,s),t_:PV.bind(null,s),r_:kV.bind(null,s),H_:LV.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),My(s)?Vy(s):s.Ra.set("Unknown")):(await s.ma.stop(),jA(s))}))),s.ma}function Qs(s){return s.fa||(s.fa=(function(e,i,o){const u=It(e);return u.sa(),new DV(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:BV.bind(null,s),r_:FV.bind(null,s),ta:jV.bind(null,s),na:qV.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Pc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Ja,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,e,i,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,o,u){const c=Date.now()+i,m=new Py(t,e,c,o,u);return m.start(i),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(s,t){if(En("AsyncQueue",`${t}: ${s}`),Js(s))return new ut(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(t){return new ll(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=ju(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ll)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new ll;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.ga=new ve(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Al{constructor(t,e,i,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Al(t,e,ll.emptySet(e),c,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Id(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==i[o].type||!e[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KV{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const o=It(e),u=o.queries;o.queries=bb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(i)}))})(this,new ut(Y.ABORTED,"Firestore shutting down"))}}function bb(){return new Yr((s=>HS(s)),Id)}async function QV(s,t){const e=It(s);let i=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(i=2):(u=new GV,i=t.Da()?0:1);try{switch(i){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=ky(c,`Initialization of query '${Zo(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Ly(e)}async function YV(s,t){const e=It(s),i=t.query;let o=3;const u=e.queries.get(i);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function XV(s,t){const e=It(s);let i=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(i=!0);c.wa=o}}i&&Ly(e)}function $V(s,t,e){const i=It(s),o=i.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);i.queries.delete(t)}function Ly(s){s.Ca.forEach((t=>{t.next()}))}var kg,Sb;(Sb=kg||(kg={})).Ma="default",Sb.Cache="cache";class JV{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Al(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.key=t}}class KA{constructor(t){this.key=t}}class WV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=GS(t),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Tb,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,v)=>{const A=o.get(T),M=Oc(this.query,v)?v:null,F=!!A&&this.mutatedKeys.has(A.key),Z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let K=!1;A&&M?A.data.isEqual(M.data)?F!==Z&&(i.track({type:3,doc:M}),K=!0):this.su(A,M)||(i.track({type:2,doc:M}),K=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(i.track({type:0,doc:M}),K=!0):A&&!M&&(i.track({type:1,doc:A}),K=!0,(p||g)&&(m=!0)),K&&(M?(c=c.add(M),u=Z?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),i.track({type:1,doc:T})}return{tu:c,iu:i,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((T,v)=>(function(M,F){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:K})}};return Z(M)-Z(F)})(T.type,v.type)||this.eu(T.doc,v.doc))),this.ou(i),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Al(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new KA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new GA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Uy="SyncEngine";class ZV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class tM{constructor(t){this.key=t,this.hu=!1}}class eM{constructor(t,e,i,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Yr((m=>HS(m)),Id),this.Iu=new Map,this.Eu=new Set,this.du=new ve(ht.comparator),this.Au=new Map,this.Ru=new Iy,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nM(s,t,e=!0){const i=WA(s);let o;const u=i.Tu.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await QA(i,t,e,!0),o}async function iM(s,t){const e=WA(s);await QA(e,t,!0,!1)}async function QA(s,t,e,i){const o=await EV(s.localStore,gi(t)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,e);let m;return i&&(m=await rM(s,t,u,c==="current",o.resumeToken)),s.isPrimaryClient&&e&&zA(s.remoteStore,o),m}async function rM(s,t,e,i,o){s.pu=(v,A,M)=>(async function(Z,K,et,lt){let J=K.view.ru(et);J.Cs&&(J=await pb(Z.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,J))));const ft=lt&&lt.targetChanges.get(K.targetId),at=lt&&lt.targetMismatches.get(K.targetId)!=null,ct=K.view.applyChanges(J,Z.isPrimaryClient,ft,at);return wb(Z,K.targetId,ct.au),ct.snapshot})(s,v,A,M);const u=await pb(s.localStore,t,!0),c=new WV(t,u.Qs),m=c.ru(u.documents),p=Vc.createSynthesizedTargetChangeForCurrentChange(e,i&&s.onlineState!=="Offline",o),g=c.applyChanges(m,s.isPrimaryClient,p);wb(s,e,g.au);const T=new ZV(t,e,c);return s.Tu.set(t,T),s.Iu.has(e)?s.Iu.get(e).push(t):s.Iu.set(e,[t]),g.snapshot}async function sM(s,t,e){const i=It(s),o=i.Tu.get(t),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((c=>!Id(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Mg(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),e&&xy(i.remoteStore,o.targetId),Lg(i,o.targetId)})).catch(eo)):(Lg(i,o.targetId),await Mg(i.localStore,o.targetId,!0))}async function aM(s,t){const e=It(s),i=e.Tu.get(t),o=e.Iu.get(i.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),xy(e.remoteStore,i.targetId))}async function oM(s,t,e){const i=ZA(s);try{const o=await(function(c,m){const p=It(c),g=ie.now(),T=m.reduce(((M,F)=>M.add(F.key)),Pt());let v,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let F=Qn(),Z=Pt();return p.Ns.getEntries(M,T).next((K=>{F=K,F.forEach(((et,lt)=>{lt.isValidDocument()||(Z=Z.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,F))).next((K=>{v=K;const et=[];for(const lt of m){const J=EO(lt,v.get(lt.key).overlayedDocument);J!=null&&et.push(new Ws(lt.key,J,PS(J.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,et,m)})).next((K=>{A=K;const et=K.applyToLocalDocumentSet(v,Z);return p.documentOverlayCache.saveOverlays(M,K.batchId,et)}))})).then((()=>({batchId:A.batchId,changes:QS(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ve(wt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(i,o.batchId,e),await kc(i,o.changes),await Pc(i.remoteStore)}catch(o){const u=ky(o,"Failed to persist write");e.reject(u)}}async function YA(s,t){const e=It(s);try{const i=await yV(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?_t(c.hu,14607):o.removedDocuments.size>0&&(_t(c.hu,42227),c.hu=!1))})),await kc(e,i,t)}catch(i){await eo(i)}}function Ab(s,t,e){const i=It(s);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const o=[];i.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=It(c);p.onlineState=m;let g=!1;p.queries.forEach(((T,v)=>{for(const A of v.Sa)A.va(m)&&(g=!0)})),g&&Ly(p)})(i.eventManager,t),o.length&&i.Pu.H_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function lM(s,t,e){const i=It(s);i.sharedClientState.updateQueryState(t,"rejected",e);const o=i.Au.get(t),u=o&&o.key;if(u){let c=new ve(ht.comparator);c=c.insert(u,we.newNoDocument(u,Tt.min()));const m=Pt().add(u),p=new Dd(Tt.min(),new Map,new ve(wt),c,m);await YA(i,p),i.du=i.du.remove(u),i.Au.delete(t),zy(i)}else await Mg(i.localStore,t,!1).then((()=>Lg(i,t,e))).catch(eo)}async function uM(s,t){const e=It(s),i=t.batch.batchId;try{const o=await gV(e.localStore,t);$A(e,i,null),XA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await kc(e,o)}catch(o){await eo(o)}}async function cM(s,t,e){const i=It(s);try{const o=await(function(c,m){const p=It(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((v=>(_t(v!==null,37113),T=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(i.localStore,t);$A(i,t,e),XA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await kc(i,o)}catch(o){await eo(o)}}function XA(s,t){(s.mu.get(t)||[]).forEach((e=>{e.resolve()})),s.mu.delete(t)}function $A(s,t,e){const i=It(s);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),i.Vu[i.currentUser.toKey()]=o}}function Lg(s,t,e=null){s.sharedClientState.removeLocalQueryTarget(t);for(const i of s.Iu.get(t))s.Tu.delete(i),e&&s.Pu.yu(i,e);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((i=>{s.Ru.containsKey(i)||JA(s,i)}))}function JA(s,t){s.Eu.delete(t.path.canonicalString());const e=s.du.get(t);e!==null&&(xy(s.remoteStore,e),s.du=s.du.remove(t),s.Au.delete(e),zy(s))}function wb(s,t,e){for(const i of e)i instanceof GA?(s.Ru.addReference(i.key,t),hM(s,i)):i instanceof KA?(it(Uy,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,t),s.Ru.containsKey(i.key)||JA(s,i.key)):pt(19791,{wu:i})}function hM(s,t){const e=t.key,i=e.path.canonicalString();s.du.get(e)||s.Eu.has(i)||(it(Uy,"New document in limbo: "+e),s.Eu.add(i),zy(s))}function zy(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const e=new ht($t.fromString(t)),i=s.fu.next();s.Au.set(i,new tM(e)),s.du=s.du.insert(e,i),zA(s.remoteStore,new Ur(gi(gy(e.path)),i,"TargetPurposeLimboResolution",mi.ce))}}async function kc(s,t,e){const i=It(s),o=[],u=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,p)=>{c.push(i.pu(p,t,e).then((g=>{if((g||e)&&i.isPrimaryClient){const T=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Dy.As(p.targetId,g);u.push(T)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,g){const T=It(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>L.forEach(g,(A=>L.forEach(A.Es,(M=>T.persistence.referenceDelegate.addReference(v,A.targetId,M))).next((()=>L.forEach(A.ds,(M=>T.persistence.referenceDelegate.removeReference(v,A.targetId,M)))))))))}catch(v){if(!Js(v))throw v;it(Ny,"Failed to update sequence numbers: "+v)}for(const v of g){const A=v.targetId;if(!v.fromCache){const M=T.Ms.get(A),F=M.snapshotVersion,Z=M.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(A,Z)}}})(i.localStore,u))}async function fM(s,t){const e=It(s);if(!e.currentUser.isEqual(t)){it(Uy,"User change. New user:",t.toKey());const i=await MA(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ut(Y.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await kc(e,i.Ls)}}function dM(s,t){const e=It(s),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let o=Pt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function WA(s){const t=It(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lM.bind(null,t),t.Pu.H_=XV.bind(null,t.eventManager),t.Pu.yu=$V.bind(null,t.eventManager),t}function ZA(s){const t=It(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cM.bind(null,t),t}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return VA(this.persistence,new OA,t.initialUser,this.serializer)}Cu(t){return new Ry(Od.mi,this.serializer)}Du(t){return new kA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class mM extends vc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof rd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RA(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Ry((i=>rd.mi(i,e)),this.serializer)}}class pM extends vc{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await ZA(this.xu.syncEngine),await Pc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return VA(this.persistence,new OA,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new RA(i,t.asyncQueue,e)}Mu(t,e){const i=new _x(e,this.persistence);return new yx(t.asyncQueue,i)}Cu(t){const e=fV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Cy(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,RV(),Mf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new kA}}class ad{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ab(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fM.bind(null,this.syncEngine),await HV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KV})()}createDatastore(t){const e=Vd(t.databaseInfo.databaseId),i=(function(u){return new IV(u)})(t.databaseInfo);return(function(u,c,m,p){return new xV(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,o,u,c,m){return new VV(i,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>Ab(this.syncEngine,e,0)),(function(){return _b.v()?new _b:new bV})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,T){const v=new eM(o,u,c,m,p,g);return T&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=It(e);it(Ja,"RemoteStore shutting down."),i.Ea.add(5),await Mc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):En("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class yM{constructor(t,e,i,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async c=>{it(Ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(it(Ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ky(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Zp(s,t){s.asyncQueue.verifyOperationInProgress(),it(Ys,"Initializing OfflineComponentProvider");const e=s.configuration;await t.initialize(e);let i=e.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await MA(t.localStore,o),i=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Ib(s,t){s.asyncQueue.verifyOperationInProgress();const e=await _M(s);it(Ys,"Initializing OnlineComponentProvider"),await t.initialize(e,s.configuration),s.setCredentialChangeListener((i=>Eb(t.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>Eb(t.remoteStore,o))),s._onlineComponents=t}async function _M(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Ys,"Using user provided OfflineComponentProvider");try{await Zp(s,s._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;sc("Error using user provided cache. Falling back to memory cache: "+e),await Zp(s,new vc)}}else it(Ys,"Using default OfflineComponentProvider"),await Zp(s,new mM(void 0));return s._offlineComponents}async function tw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Ys,"Using user provided OnlineComponentProvider"),await Ib(s,s._uninitializedComponentsProvider._online)):(it(Ys,"Using default OnlineComponentProvider"),await Ib(s,new ad))),s._onlineComponents}function vM(s){return tw(s).then((t=>t.syncEngine))}async function EM(s){const t=await tw(s),e=t.eventManager;return e.onListen=nM.bind(null,t.syncEngine),e.onUnlisten=sM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=iM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=aM.bind(null,t.syncEngine),e}function TM(s,t,e={}){const i=new Br;return s.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const T=new gM({next:A=>{T.Nu(),c.enqueueAndForget((()=>YV(u,v))),A.fromCache&&p.source==="server"?g.reject(new ut(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),v=new JV(m,T,{includeMetadataChanges:!0,qa:!0});return QV(u,v)})(await EM(s),s.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firestore.googleapis.com",Cb=!0;class Db{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bM,this.ssl=Cb}else this.host=t.host,this.ssl=t.ssl??Cb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IA)throw new ut(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ew(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class By{constructor(t,e,i,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new rx;switch(i.type){case"firstParty":return new ox(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Rb.get(e);i&&(it("ComponentProvider","Removing Datastore"),Rb.delete(e),i.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Zs(this.firestore,t,this._query)}}class Fe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Dc(e,Fe._jsonSchema))return new Fe(t,i||null,new ht($t.fromString(e.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:ze("string",Fe._jsonSchemaVersion),referencePath:ze("string")};class Fs extends Zs{constructor(t,e,i){super(t,e,gy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new ht(t))}withConverter(t){return new Fs(this.firestore,t,this._path)}}function SM(s,t,...e){if(s=bn(s),cS("collection","path",t),s instanceof By){const i=$t.fromString(t,...e);return vT(i),new Fs(s,null,i)}{if(!(s instanceof Fe||s instanceof Fs))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child($t.fromString(t,...e));return vT(i),new Fs(s.firestore,null,i)}}function AM(s,t,...e){if(s=bn(s),arguments.length===1&&(t=sy.newId()),cS("doc","path",t),s instanceof By){const i=$t.fromString(t,...e);return _T(i),new Fe(s,null,new ht(i))}{if(!(s instanceof Fe||s instanceof Fs))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child($t.fromString(t,...e));return _T(i),new Fe(s.firestore,s instanceof Fs?s.converter:null,new ht(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class xb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LA(this,"async_queue_retry"),this._c=()=>{const i=Mf();i&&it(Nb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Mf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Mf();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Js(t))throw t;it(Nb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,En("INTERNAL UNHANDLED ERROR: ",Ob(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Py.createAndSchedule(this,t,e,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Ob(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class jy extends By{constructor(t,e,i,o){super(t,e,i,o),this.type="firestore",this._queue=new xb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xb(t),this._firestoreClient=void 0,await t}}}function wM(s,t,e){e||(e=Xf);const i=Xg(s,"firestore");if(i.isInitialized(e)){const o=i.getImmediate({identifier:e}),u=i.getOptions(e);if(ja(u,t))return o;throw new ut(Y.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ut(Y.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IA)throw new ut(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Il(t.host)&&f1(t.host),i.initialize({options:t,instanceIdentifier:e})}function nw(s){if(s._terminated)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||IM(s),s._firestoreClient}function IM(s){const t=s._freezeSettings(),e=(function(o,u,c,m){return new Qx(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ew(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new yM(s._authCredentials,s._appCheckCredentials,s._queue,e,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._byteString=t}static fromBase64String(t){try{return new di(Be.fromBase64String(t))}catch(e){throw new ut(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new di(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dc(t,di._jsonSchema))return di.fromBase64String(t.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:ze("string",di._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(t){if(Dc(t,fr._jsonSchema))return new fr(t.latitude,t.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:ze("string",fr._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dc(t,dr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new dr(t.vectorValues);throw new ut(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:ze("string",dr._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=/^__.*__$/;class CM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ws(t,this.data,this.fieldMask,e,this.fieldTransforms):new xl(t,this.data,e,this.fieldTransforms)}}function rw(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class Fy{constructor(t,e,i,o,u,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return od(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rw(this.Ac)&&RM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class DM{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Vd(t)}Cc(t,e,i,o=!1){return new Fy({Ac:t,methodName:e,Dc:i,path:Te.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sw(s){const t=s._freezeSettings(),e=Vd(s._databaseId);return new DM(s._databaseId,!!t.ignoreUndefinedProperties,e)}function NM(s,t,e,i,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,t,e,o);lw("Data must be an object, but it was:",c,i);const m=aw(i,c);let p,g;if(u.merge)p=new pi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const v of u.mergeFields){const A=OM(t,v,e);if(!c.contains(A))throw new ut(Y.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);MM(T,A)||T.push(A)}p=new pi(T),g=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=c.fieldTransforms;return new CM(new On(m),p,g)}function xM(s,t,e,i=!1){return Hy(e,s.Cc(i?4:3,t))}function Hy(s,t){if(ow(s=bn(s)))return lw("Unsupported field value:",t,s),aw(s,t);if(s instanceof iw)return(function(i,o){if(!rw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let c=0;for(const m of i){let p=Hy(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(s,t)}return(function(i,o){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dO(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ie.fromDate(i);return{timestampValue:Sl(o.serializer,u)}}if(i instanceof ie){const u=new ie(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sl(o.serializer,u)}}if(i instanceof fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof di)return{bytesValue:aA(o.serializer,i._byteString)};if(i instanceof Fe){const u=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sy(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof dr)return(function(c,m){return{mapValue:{fields:{[dy]:{stringValue:my},[yl]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return yy(m.serializer,g)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${_d(i)}`)})(s,t)}function aw(s,t){const e={};return IS(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):no(s,((i,o)=>{const u=Hy(o,t.mc(i));u!=null&&(e[i]=u)})),{mapValue:{fields:e}}}function ow(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof fr||s instanceof di||s instanceof Fe||s instanceof iw||s instanceof dr)}function lw(s,t,e){if(!ow(e)||!hS(e)){const i=_d(e);throw i==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+i)}}function OM(s,t,e){if((t=bn(t))instanceof qy)return t._internalPath;if(typeof t=="string")return uw(s,t);throw od("Field path arguments must be of type string or ",s,!1,void 0,e)}const VM=new RegExp("[~\\*/\\[\\]]");function uw(s,t,e){if(t.search(VM)>=0)throw od(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,e);try{return new qy(...t.split("."))._internalPath}catch{throw od(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,e)}}function od(s,t,e,i,o){const u=i&&!i.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ut(Y.INVALID_ARGUMENT,m+s+p)}function MM(s,t){return s.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,e,i,o,u){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Gy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class PM extends cw{data(){return super.data()}}function Gy(s,t){return typeof t=="string"?uw(s,t):t instanceof qy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class Qy extends Ky{}function LM(s,t,...e){let i=[];t instanceof Ky&&i.push(t),i=i.concat(e),(function(u){const c=u.filter((p=>p instanceof Xy)).length,m=u.filter((p=>p instanceof Yy)).length;if(c>1||c>0&&m>0)throw new ut(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)s=o._apply(s);return s}class Yy extends Qy{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Yy(t,e,i)}_apply(t){const e=this._parse(t);return hw(t._query,e),new Zs(t.firestore,t.converter,Ig(t._query,e))}_parse(t){const e=sw(t.firestore);return(function(u,c,m,p,g,T,v){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ut(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Mb(v,T);const F=[];for(const Z of v)F.push(Vb(p,u,Z));A={arrayValue:{values:F}}}else A=Vb(p,u,v)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Mb(v,T),A=xM(m,c,v,T==="in"||T==="not-in");return jt.create(g,T,A)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Xy extends Ky{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Xy(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:re.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)hw(c,p),c=Ig(c,p)})(t._query,e),new Zs(t.firestore,t.converter,Ig(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $y extends Qy{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new $y(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new ut(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(u,c)})(t._query,this._field,this._direction);return new Zs(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Nl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function UM(s,t="asc"){const e=t,i=Gy("orderBy",s);return $y._create(i,e)}class Jy extends Qy{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Jy(t,e,i)}_apply(t){return new Zs(t.firestore,t.converter,Wf(t._query,this._limit,this._limitType))}}function zM(s){return Jy._create("limit",s,"F")}function Vb(s,t,e){if(typeof(e=bn(e))=="string"){if(e==="")throw new ut(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FS(t)&&e.indexOf("/")!==-1)throw new ut(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child($t.fromString(e));if(!ht.isDocumentKey(i))throw new ut(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return mc(s,new ht(i))}if(e instanceof Fe)return mc(s,e._key);throw new ut(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(e)}.`)}function Mb(s,t){if(!Array.isArray(s)||s.length===0)throw new ut(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hw(s,t){const e=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class BM{convertValue(t,e="none"){switch(Gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return no(t,((o,u)=>{i[o]=this.convertValue(u,e)})),i}convertVectorValue(t){const e=t.fields?.[yl].arrayValue?.values?.map((i=>_e(i.doubleValue)));return new dr(e)}convertGeoPoint(t){return new fr(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ad(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(fc(t));default:return null}}convertTimestamp(t){const e=Hr(t);return new ie(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=$t.fromString(t);_t(gA(i),9688,{name:t});const o=new Ka(i.get(1),i.get(3)),u=new ht(i.popFirst(5));return o.isEqual(e)||En(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(s,t,e){let i;return i=s?s.toFirestore(t):t,i}class pf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ul extends cw{constructor(t,e,i,o,u,c){super(t,e,i,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Gy("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ul._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:ze("string",ul._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Pf extends ul{data(t={}){return super.data(t)}}class cl{constructor(t,e,i,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new pf(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Pf(this._firestore,this._userDataWriter,i.key,i,new pf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Pf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Pf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),T=c.indexOf(m.doc.key)),{type:qM(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=cl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qM(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:ze("string",cl._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class FM extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new di(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,e)}}function HM(s){s=Hf(s,Zs);const t=Hf(s.firestore,jy),e=nw(t),i=new FM(t);return kM(s._query),TM(e,s._query).then((o=>new cl(t,i,s,o)))}function GM(s,t,e){s=Hf(s,Fe);const i=Hf(s.firestore,jy),o=jM(s.converter,t);return KM(i,[NM(sw(i),"setDoc",s._key,o,s.converter!==null,e).toMutation(s._key,Yn.none())])}function KM(s,t){return(function(i,o){const u=new Br;return i.asyncQueue.enqueueAndForget((async()=>oM(await vM(i),o,u))),u.promise})(nw(s),t)}class QM{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=$M(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function YM(s){return new QM(s)}class XM{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=ad.provider,this._offlineComponentProvider={build:e=>new pM(e,t?.cacheSizeBytes,this.forceOwnership)}}}function $M(s){return new XM(s?.forceOwnership)}(function(t,e=!0){(function(o){Dl=o})(Rl),hl(new qa("firestore",((i,{instanceIdentifier:o,options:u})=>{const c=i.getProvider("app").getImmediate(),m=new jy(new sx(i.getProvider("auth-internal")),new lx(c,i.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ka(g.options.projectId,T)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bs(mT,pT,t),Bs(mT,pT,"esm2020")})();const JM={apiKey:"AIzaSyAAYW1uIaayt4Dw4JwOygNPpQeUrn-F3f8",authDomain:"weigth-4bc4f.firebaseapp.com",projectId:"weigth-4bc4f",storageBucket:"weigth-4bc4f.firebasestorage.app",messagingSenderId:"970793021929",appId:"1:970793021929:web:2ebeafb3867b1d688edb78"},WM=v1(JM),fw=wM(WM,{localCache:YM()}),Ec=ex(),Ug="currentStorage",tg="temporarilyStorage",ZM=async()=>{if(Ec.currentUser){const s=[],t=LM(SM(fw,Ec.currentUser.uid),UM("timestamp","desc"),zM(1));return(await HM(t)).forEach(i=>{s.push(i.data())}),s[0]}},t4=async()=>{let s=null;if(Ec.currentUser)s=await ZM();else if(localStorage.getItem(Ug))s=JSON.parse(localStorage.getItem(Ug));else{const t=(await Qb(async()=>{const{getEmptyStorage:e}=await Promise.resolve().then(()=>u2);return{getEmptyStorage:e}},void 0)).getEmptyStorage;s=t()}return s?.lastDateOfLoad!==rl()&&(s={...s,...r1()}),s};function ln(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var e4=typeof Symbol=="function"&&Symbol.observable||"@@observable",Pb=e4,eg=()=>Math.random().toString(36).substring(7).split("").join("."),n4={INIT:`@@redux/INIT${eg()}`,REPLACE:`@@redux/REPLACE${eg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${eg()}`},ld=n4;function Wy(s){if(typeof s!="object"||s===null)return!1;let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t||Object.getPrototypeOf(s)===null}function dw(s,t,e){if(typeof s!="function")throw new Error(ln(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(ln(1));return e(dw)(s,t)}let i=s,o=t,u=new Map,c=u,m=0,p=!1;function g(){c===u&&(c=new Map,u.forEach((K,et)=>{c.set(et,K)}))}function T(){if(p)throw new Error(ln(3));return o}function v(K){if(typeof K!="function")throw new Error(ln(4));if(p)throw new Error(ln(5));let et=!0;g();const lt=m++;return c.set(lt,K),function(){if(et){if(p)throw new Error(ln(6));et=!1,g(),c.delete(lt),u=null}}}function A(K){if(!Wy(K))throw new Error(ln(7));if(typeof K.type>"u")throw new Error(ln(8));if(typeof K.type!="string")throw new Error(ln(17));if(p)throw new Error(ln(9));try{p=!0,o=i(o,K)}finally{p=!1}return(u=c).forEach(lt=>{lt()}),K}function M(K){if(typeof K!="function")throw new Error(ln(10));i=K,A({type:ld.REPLACE})}function F(){const K=v;return{subscribe(et){if(typeof et!="object"||et===null)throw new Error(ln(11));function lt(){const ft=et;ft.next&&ft.next(T())}return lt(),{unsubscribe:K(lt)}},[Pb](){return this}}}return A({type:ld.INIT}),{dispatch:A,subscribe:v,getState:T,replaceReducer:M,[Pb]:F}}function i4(s){Object.keys(s).forEach(t=>{const e=s[t];if(typeof e(void 0,{type:ld.INIT})>"u")throw new Error(ln(12));if(typeof e(void 0,{type:ld.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function r4(s){const t=Object.keys(s),e={};for(let u=0;u<t.length;u++){const c=t[u];typeof s[c]=="function"&&(e[c]=s[c])}const i=Object.keys(e);let o;try{i4(e)}catch(u){o=u}return function(c={},m){if(o)throw o;let p=!1;const g={};for(let T=0;T<i.length;T++){const v=i[T],A=e[v],M=c[v],F=A(M,m);if(typeof F>"u")throw m&&m.type,new Error(ln(14));g[v]=F,p=p||F!==M}return p=p||i.length!==Object.keys(c).length,p?g:c}}function ud(...s){return s.length===0?t=>t:s.length===1?s[0]:s.reduce((t,e)=>(...i)=>t(e(...i)))}function s4(...s){return t=>(e,i)=>{const o=t(e,i);let u=()=>{throw new Error(ln(15))};const c={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=s.map(p=>p(c));return u=ud(...m)(o.dispatch),{...o,dispatch:u}}}function a4(s){return Wy(s)&&"type"in s&&typeof s.type=="string"}var mw=Symbol.for("immer-nothing"),kb=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function Pi(s,...t){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var wl=Object.getPrototypeOf;function Wa(s){return!!s&&!!s[$n]}function Kr(s){return s?pw(s)||Array.isArray(s)||!!s[kb]||!!s.constructor?.[kb]||Lc(s)||kd(s):!1}var o4=Object.prototype.constructor.toString();function pw(s){if(!s||typeof s!="object")return!1;const t=wl(s);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===o4}function cd(s,t){Pd(s)===0?Reflect.ownKeys(s).forEach(e=>{t(e,s[e],s)}):s.forEach((e,i)=>t(i,e,s))}function Pd(s){const t=s[$n];return t?t.type_:Array.isArray(s)?1:Lc(s)?2:kd(s)?3:0}function zg(s,t){return Pd(s)===2?s.has(t):Object.prototype.hasOwnProperty.call(s,t)}function gw(s,t,e){const i=Pd(s);i===2?s.set(t,e):i===3?s.add(e):s[t]=e}function l4(s,t){return s===t?s!==0||1/s===1/t:s!==s&&t!==t}function Lc(s){return s instanceof Map}function kd(s){return s instanceof Set}function Oa(s){return s.copy_||s.base_}function Bg(s,t){if(Lc(s))return new Map(s);if(kd(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const e=pw(s);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(s);delete i[$n];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const c=o[u],m=i[c];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[c]={configurable:!0,writable:!0,enumerable:m.enumerable,value:s[c]})}return Object.create(wl(s),i)}else{const i=wl(s);if(i!==null&&e)return{...s};const o=Object.create(i);return Object.assign(o,s)}}function Zy(s,t=!1){return Ld(s)||Wa(s)||!Kr(s)||(Pd(s)>1&&Object.defineProperties(s,{set:{value:gf},add:{value:gf},clear:{value:gf},delete:{value:gf}}),Object.freeze(s),t&&Object.values(s).forEach(e=>Zy(e,!0))),s}function gf(){Pi(2)}function Ld(s){return Object.isFrozen(s)}var u4={};function Za(s){const t=u4[s];return t||Pi(0,s),t}var Tc;function yw(){return Tc}function c4(s,t){return{drafts_:[],parent_:s,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lb(s,t){t&&(Za("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=t)}function jg(s){qg(s),s.drafts_.forEach(h4),s.drafts_=null}function qg(s){s===Tc&&(Tc=s.parent_)}function Ub(s){return Tc=c4(Tc,s)}function h4(s){const t=s[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zb(s,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return s!==void 0&&s!==e?(e[$n].modified_&&(jg(t),Pi(4)),Kr(s)&&(s=hd(t,s),t.parent_||fd(t,s)),t.patches_&&Za("Patches").generateReplacementPatches_(e[$n].base_,s,t.patches_,t.inversePatches_)):s=hd(t,e,[]),jg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),s!==mw?s:void 0}function hd(s,t,e){if(Ld(t))return t;const i=t[$n];if(!i)return cd(t,(o,u)=>Bb(s,i,t,o,u,e)),t;if(i.scope_!==s)return t;if(!i.modified_)return fd(s,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,c=!1;i.type_===3&&(u=new Set(o),o.clear(),c=!0),cd(u,(m,p)=>Bb(s,i,o,m,p,e,c)),fd(s,o,!1),e&&s.patches_&&Za("Patches").generatePatches_(i,e,s.patches_,s.inversePatches_)}return i.copy_}function Bb(s,t,e,i,o,u,c){if(Wa(o)){const m=u&&t&&t.type_!==3&&!zg(t.assigned_,i)?u.concat(i):void 0,p=hd(s,o,m);if(gw(e,i,p),Wa(p))s.canAutoFreeze_=!1;else return}else c&&e.add(o);if(Kr(o)&&!Ld(o)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;hd(s,o),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(Lc(e)?e.has(i):Object.prototype.propertyIsEnumerable.call(e,i))&&fd(s,o)}}function fd(s,t,e=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&Zy(t,e)}function f4(s,t){const e=Array.isArray(s),i={type_:e?1:0,scope_:t?t.scope_:yw(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=t_;e&&(o=[i],u=bc);const{revoke:c,proxy:m}=Proxy.revocable(o,u);return i.draft_=m,i.revoke_=c,m}var t_={get(s,t){if(t===$n)return s;const e=Oa(s);if(!zg(e,t))return d4(s,e,t);const i=e[t];return s.finalized_||!Kr(i)?i:i===ng(s.base_,t)?(ig(s),s.copy_[t]=Hg(i,s)):i},has(s,t){return t in Oa(s)},ownKeys(s){return Reflect.ownKeys(Oa(s))},set(s,t,e){const i=_w(Oa(s),t);if(i?.set)return i.set.call(s.draft_,e),!0;if(!s.modified_){const o=ng(Oa(s),t),u=o?.[$n];if(u&&u.base_===e)return s.copy_[t]=e,s.assigned_[t]=!1,!0;if(l4(e,o)&&(e!==void 0||zg(s.base_,t)))return!0;ig(s),Fg(s)}return s.copy_[t]===e&&(e!==void 0||t in s.copy_)||Number.isNaN(e)&&Number.isNaN(s.copy_[t])||(s.copy_[t]=e,s.assigned_[t]=!0),!0},deleteProperty(s,t){return ng(s.base_,t)!==void 0||t in s.base_?(s.assigned_[t]=!1,ig(s),Fg(s)):delete s.assigned_[t],s.copy_&&delete s.copy_[t],!0},getOwnPropertyDescriptor(s,t){const e=Oa(s),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:s.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){Pi(11)},getPrototypeOf(s){return wl(s.base_)},setPrototypeOf(){Pi(12)}},bc={};cd(t_,(s,t)=>{bc[s]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bc.deleteProperty=function(s,t){return bc.set.call(this,s,t,void 0)};bc.set=function(s,t,e){return t_.set.call(this,s[0],t,e,s[0])};function ng(s,t){const e=s[$n];return(e?Oa(e):s)[t]}function d4(s,t,e){const i=_w(t,e);return i?"value"in i?i.value:i.get?.call(s.draft_):void 0}function _w(s,t){if(!(t in s))return;let e=wl(s);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=wl(e)}}function Fg(s){s.modified_||(s.modified_=!0,s.parent_&&Fg(s.parent_))}function ig(s){s.copy_||(s.copy_=Bg(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var m4=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const u=e;e=t;const c=this;return function(p=u,...g){return c.produce(p,T=>e.call(this,T,...g))}}typeof e!="function"&&Pi(6),i!==void 0&&typeof i!="function"&&Pi(7);let o;if(Kr(t)){const u=Ub(this),c=Hg(t,void 0);let m=!0;try{o=e(c),m=!1}finally{m?jg(u):qg(u)}return Lb(u,i),zb(o,u)}else if(!t||typeof t!="object"){if(o=e(t),o===void 0&&(o=t),o===mw&&(o=void 0),this.autoFreeze_&&Zy(o,!0),i){const u=[],c=[];Za("Patches").generateReplacementPatches_(t,o,u,c),i(u,c)}return o}else Pi(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(c,...m)=>this.produceWithPatches(c,p=>t(p,...m));let i,o;return[this.produce(t,e,(c,m)=>{i=c,o=m}),i,o]},typeof s?.autoFreeze=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof s?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){Kr(s)||Pi(8),Wa(s)&&(s=p4(s));const t=Ub(this),e=Hg(s,void 0);return e[$n].isManual_=!0,qg(t),e}finishDraft(s,t){const e=s&&s[$n];(!e||!e.isManual_)&&Pi(9);const{scope_:i}=e;return Lb(i,t),zb(void 0,i)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,t){let e;for(e=t.length-1;e>=0;e--){const o=t[e];if(o.path.length===0&&o.op==="replace"){s=o.value;break}}e>-1&&(t=t.slice(e+1));const i=Za("Patches").applyPatches_;return Wa(s)?i(s,t):this.produce(s,o=>i(o,t))}};function Hg(s,t){const e=Lc(s)?Za("MapSet").proxyMap_(s,t):kd(s)?Za("MapSet").proxySet_(s,t):f4(s,t);return(t?t.scope_:yw()).drafts_.push(e),e}function p4(s){return Wa(s)||Pi(10,s),vw(s)}function vw(s){if(!Kr(s)||Ld(s))return s;const t=s[$n];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Bg(s,t.scope_.immer_.useStrictShallowCopy_)}else e=Bg(s,!0);return cd(e,(i,o)=>{gw(e,i,vw(o))}),t&&(t.finalized_=!1),e}var g4=new m4,Ew=g4.produce;function Tw(s){return({dispatch:e,getState:i})=>o=>u=>typeof u=="function"?u(e,i,s):o(u)}var y4=Tw(),_4=Tw,v4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ud:ud.apply(null,arguments)},E4=s=>s&&typeof s.match=="function";function ec(s,t){function e(...i){if(t){let o=t(...i);if(!o)throw new Error(jr(0));return{type:s,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:s,payload:i[0]}}return e.toString=()=>`${s}`,e.type=s,e.match=i=>a4(i)&&i.type===s,e}var bw=class Hu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hu.prototype)}static get[Symbol.species](){return Hu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hu(...t[0].concat(this)):new Hu(...t.concat(this))}};function jb(s){return Kr(s)?Ew(s,()=>{}):s}function yf(s,t,e){return s.has(t)?s.get(t):s.set(t,e(t)).get(t)}function T4(s){return typeof s=="boolean"}var b4=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=t??{};let c=new bw;return e&&(T4(e)?c.push(y4):c.push(_4(e.extraArgument))),c},S4="RTK_autoBatch",qb=s=>t=>{setTimeout(t,s)},A4=(s={type:"raf"})=>t=>(...e)=>{const i=t(...e);let o=!0,u=!1,c=!1;const m=new Set,p=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qb(10):s.type==="callback"?s.queueNotification:qb(s.timeout),g=()=>{c=!1,u&&(u=!1,m.forEach(T=>T()))};return Object.assign({},i,{subscribe(T){const v=()=>o&&T(),A=i.subscribe(v);return m.add(T),()=>{A(),m.delete(T)}},dispatch(T){try{return o=!T?.meta?.[S4],u=!o,u&&(c||(c=!0,p(g))),i.dispatch(T)}finally{o=!0}}})},w4=s=>function(e){const{autoBatch:i=!0}=e??{};let o=new bw(s);return i&&o.push(A4(typeof i=="object"?i:void 0)),o};function I4(s){const t=b4(),{reducer:e=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=s||{};let m;if(typeof e=="function")m=e;else if(Wy(e))m=r4(e);else throw new Error(jr(1));let p;typeof i=="function"?p=i(t):p=t();let g=ud;o&&(g=v4({trace:!1,...typeof o=="object"&&o}));const T=s4(...p),v=w4(T);let A=typeof c=="function"?c(v):v();const M=g(...A);return dw(m,u,M)}function Sw(s){const t={},e=[];let i;const o={addCase(u,c){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(jr(28));if(m in t)throw new Error(jr(29));return t[m]=c,o},addAsyncThunk(u,c){return c.pending&&(t[u.pending.type]=c.pending),c.rejected&&(t[u.rejected.type]=c.rejected),c.fulfilled&&(t[u.fulfilled.type]=c.fulfilled),c.settled&&e.push({matcher:u.settled,reducer:c.settled}),o},addMatcher(u,c){return e.push({matcher:u,reducer:c}),o},addDefaultCase(u){return i=u,o}};return s(o),[t,e,i]}function R4(s){return typeof s=="function"}function C4(s,t){let[e,i,o]=Sw(t),u;if(R4(s))u=()=>jb(s());else{const m=jb(s);u=()=>m}function c(m=u(),p){let g=[e[p.type],...i.filter(({matcher:T})=>T(p)).map(({reducer:T})=>T)];return g.filter(T=>!!T).length===0&&(g=[o]),g.reduce((T,v)=>{if(v)if(Wa(T)){const M=v(T,p);return M===void 0?T:M}else{if(Kr(T))return Ew(T,A=>v(A,p));{const A=v(T,p);if(A===void 0){if(T===null)return T;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return T},m)}return c.getInitialState=u,c}var D4=(s,t)=>E4(s)?s.match(t):s(t);function N4(...s){return t=>s.some(e=>D4(e,t))}var x4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",O4=(s=21)=>{let t="",e=s;for(;e--;)t+=x4[Math.random()*64|0];return t},V4=["name","message","stack","code"],rg=class{constructor(s,t){this.payload=s,this.meta=t}_type},Fb=class{constructor(s,t){this.payload=s,this.meta=t}_type},M4=s=>{if(typeof s=="object"&&s!==null){const t={};for(const e of V4)typeof s[e]=="string"&&(t[e]=s[e]);return t}return{message:String(s)}},Hb="External signal was aborted",P4=(()=>{function s(t,e,i){const o=ec(t+"/fulfilled",(p,g,T,v)=>({payload:p,meta:{...v||{},arg:T,requestId:g,requestStatus:"fulfilled"}})),u=ec(t+"/pending",(p,g,T)=>({payload:void 0,meta:{...T||{},arg:g,requestId:p,requestStatus:"pending"}})),c=ec(t+"/rejected",(p,g,T,v,A)=>({payload:v,error:(i&&i.serializeError||M4)(p||"Rejected"),meta:{...A||{},arg:T,requestId:g,rejectedWithValue:!!v,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(T,v,A)=>{const M=i?.idGenerator?i.idGenerator(p):O4(),F=new AbortController;let Z,K;function et(J){K=J,F.abort()}g&&(g.aborted?et(Hb):g.addEventListener("abort",()=>et(Hb),{once:!0}));const lt=(async function(){let J;try{let at=i?.condition?.(p,{getState:v,extra:A});if(L4(at)&&(at=await at),at===!1||F.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ct=new Promise((I,w)=>{Z=()=>{w({name:"AbortError",message:K||"Aborted"})},F.signal.addEventListener("abort",Z)});T(u(M,p,i?.getPendingMeta?.({requestId:M,arg:p},{getState:v,extra:A}))),J=await Promise.race([ct,Promise.resolve(e(p,{dispatch:T,getState:v,extra:A,requestId:M,signal:F.signal,abort:et,rejectWithValue:(I,w)=>new rg(I,w),fulfillWithValue:(I,w)=>new Fb(I,w)})).then(I=>{if(I instanceof rg)throw I;return I instanceof Fb?o(I.payload,M,p,I.meta):o(I,M,p)})])}catch(at){J=at instanceof rg?c(null,M,p,at.payload,at.meta):c(at,M,p)}finally{Z&&F.signal.removeEventListener("abort",Z)}return i&&!i.dispatchConditionRejection&&c.match(J)&&J.meta.condition||T(J),J})();return Object.assign(lt,{abort:et,requestId:M,arg:p,unwrap(){return lt.then(k4)}})}}return Object.assign(m,{pending:u,rejected:c,fulfilled:o,settled:N4(c,o),typePrefix:t})}return s.withTypes=()=>s,s})();function k4(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function L4(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var U4=Symbol.for("rtk-slice-createasyncthunk");function z4(s,t){return`${s}/${t}`}function B4({creators:s}={}){const t=s?.asyncThunk?.[U4];return function(i){const{name:o,reducerPath:u=o}=i;if(!o)throw new Error(jr(11));const c=(typeof i.reducers=="function"?i.reducers(F4()):i.reducers)||{},m=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(J,ft){const at=typeof J=="string"?J:J.type;if(!at)throw new Error(jr(12));if(at in p.sliceCaseReducersByType)throw new Error(jr(13));return p.sliceCaseReducersByType[at]=ft,g},addMatcher(J,ft){return p.sliceMatchers.push({matcher:J,reducer:ft}),g},exposeAction(J,ft){return p.actionCreators[J]=ft,g},exposeCaseReducer(J,ft){return p.sliceCaseReducersByName[J]=ft,g}};m.forEach(J=>{const ft=c[J],at={reducerName:J,type:z4(o,J),createNotation:typeof i.reducers=="function"};G4(ft)?Q4(at,ft,g,t):H4(at,ft,g)});function T(){const[J={},ft=[],at=void 0]=typeof i.extraReducers=="function"?Sw(i.extraReducers):[i.extraReducers],ct={...J,...p.sliceCaseReducersByType};return C4(i.initialState,I=>{for(let w in ct)I.addCase(w,ct[w]);for(let w of p.sliceMatchers)I.addMatcher(w.matcher,w.reducer);for(let w of ft)I.addMatcher(w.matcher,w.reducer);at&&I.addDefaultCase(at)})}const v=J=>J,A=new Map,M=new WeakMap;let F;function Z(J,ft){return F||(F=T()),F(J,ft)}function K(){return F||(F=T()),F.getInitialState()}function et(J,ft=!1){function at(I){let w=I[J];return typeof w>"u"&&ft&&(w=yf(M,at,K)),w}function ct(I=v){const w=yf(A,ft,()=>new WeakMap);return yf(w,I,()=>{const C={};for(const[V,N]of Object.entries(i.selectors??{}))C[V]=j4(N,I,()=>yf(M,I,K),ft);return C})}return{reducerPath:J,getSelectors:ct,get selectors(){return ct(at)},selectSlice:at}}const lt={name:o,reducer:Z,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:K,...et(u),injectInto(J,{reducerPath:ft,...at}={}){const ct=ft??u;return J.inject({reducerPath:ct,reducer:Z},at),{...lt,...et(ct,!0)}}};return lt}}function j4(s,t,e,i){function o(u,...c){let m=t(u);return typeof m>"u"&&i&&(m=e()),s(m,...c)}return o.unwrapped=s,o}var q4=B4();function F4(){function s(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return s.withTypes=()=>s,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:s}}function H4({type:s,reducerName:t,createNotation:e},i,o){let u,c;if("reducer"in i){if(e&&!K4(i))throw new Error(jr(17));u=i.reducer,c=i.prepare}else u=i;o.addCase(s,u).exposeCaseReducer(t,u).exposeAction(t,c?ec(s,c):ec(s))}function G4(s){return s._reducerDefinitionType==="asyncThunk"}function K4(s){return s._reducerDefinitionType==="reducerWithPrepare"}function Q4({type:s,reducerName:t},e,i,o){if(!o)throw new Error(jr(18));const{payloadCreator:u,fulfilled:c,pending:m,rejected:p,settled:g,options:T}=e,v=o(s,u,T);i.exposeAction(t,v),c&&i.addCase(v.fulfilled,c),m&&i.addCase(v.pending,m),p&&i.addCase(v.rejected,p),g&&i.addMatcher(v.settled,g),i.exposeCaseReducer(t,{fulfilled:c||_f,pending:m||_f,rejected:p||_f,settled:g||_f})}function _f(){}function jr(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var Y4=Xb();const X4=Yb(Y4);function $4(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}const J4=s=>{switch(s){case"success":return tP;case"info":return nP;case"warning":return eP;case"error":return iP;default:return null}},W4=Array(12).fill(0),Z4=({visible:s,className:t})=>ot.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},ot.createElement("div",{className:"sonner-spinner"},W4.map((e,i)=>ot.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),tP=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eP=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nP=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iP=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rP=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ot.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ot.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sP=()=>{const[s,t]=ot.useState(document.hidden);return ot.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),s};let Gg=1;class aP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...o}=t,u=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Gg++,c=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),c?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:i}),{...p,...t,id:u,dismissible:m,title:i}):p):this.addToast({title:i,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=i!==void 0,c;const m=o.then(async g=>{if(c=["resolve",g],ot.isValidElement(g))u=!1,this.create({id:i,type:"default",message:g});else if(lP(g)&&!g.ok){u=!1;const v=typeof e.error=="function"?await e.error(`HTTP error! status: ${g.status}`):e.error,A=typeof e.description=="function"?await e.description(`HTTP error! status: ${g.status}`):e.description,F=typeof v=="object"&&!ot.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:A,...F})}else if(g instanceof Error){u=!1;const v=typeof e.error=="function"?await e.error(g):e.error,A=typeof e.description=="function"?await e.description(g):e.description,F=typeof v=="object"&&!ot.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:A,...F})}else if(e.success!==void 0){u=!1;const v=typeof e.success=="function"?await e.success(g):e.success,A=typeof e.description=="function"?await e.description(g):e.description,F=typeof v=="object"&&!ot.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:A,...F})}}).catch(async g=>{if(c=["reject",g],e.error!==void 0){u=!1;const T=typeof e.error=="function"?await e.error(g):e.error,v=typeof e.description=="function"?await e.description(g):e.description,M=typeof T=="object"&&!ot.isValidElement(T)?T:{message:T};this.create({id:i,type:"error",description:v,...M})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),p=()=>new Promise((g,T)=>m.then(()=>c[0]==="reject"?T(c[1]):g(c[1])).catch(T));return typeof i!="string"&&typeof i!="number"?{unwrap:p}:Object.assign(i,{unwrap:p})},this.custom=(t,e)=>{const i=e?.id||Gg++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xn=new aP,oP=(s,t)=>{const e=t?.id||Gg++;return xn.addToast({title:s,...t,id:e}),e},lP=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",uP=oP,cP=()=>xn.toasts,hP=()=>xn.getActiveToasts(),fP=Object.assign(uP,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:cP,getToasts:hP});$4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vf(s){return s.label!==void 0}const dP=3,mP="24px",pP="16px",Gb=4e3,gP=356,yP=14,_P=45,vP=200;function ar(...s){return s.filter(Boolean).join(" ")}function EP(s){const[t,e]=s.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const TP=s=>{var t,e,i,o,u,c,m,p,g;const{invert:T,toast:v,unstyled:A,interacting:M,setHeights:F,visibleToasts:Z,heights:K,index:et,toasts:lt,expanded:J,removeToast:ft,defaultRichColors:at,closeButton:ct,style:I,cancelButtonStyle:w,actionButtonStyle:C,className:V="",descriptionClassName:N="",duration:k,position:R,gap:Zt,expandByDefault:he,classNames:q,icons:nt,closeButtonAriaLabel:gt="Close toast"}=s,[xt,Ot]=ot.useState(null),[x,X]=ot.useState(null),[tt,rt]=ot.useState(!1),[dt,Et]=ot.useState(!1),[Vt,Rt]=ot.useState(!1),[Qt,Jn]=ot.useState(!1),[_i,Vn]=ot.useState(!1),[Xr,Sn]=ot.useState(0),[ta,Ui]=ot.useState(0),vi=ot.useRef(v.duration||k||Gb),$r=ot.useRef(null),Jt=ot.useRef(null),Ie=et===0,zi=et+1<=Z,Je=v.type,Ei=v.dismissible!==!1,We=v.className||"",pr=v.descriptionClassName||"",Bi=ot.useMemo(()=>K.findIndex(bt=>bt.toastId===v.id)||0,[K,v.id]),ea=ot.useMemo(()=>{var bt;return(bt=v.closeButton)!=null?bt:ct},[v.closeButton,ct]),Ti=ot.useMemo(()=>v.duration||k||Gb,[v.duration,k]),na=ot.useRef(0),bi=ot.useRef(0),ia=ot.useRef(0),Si=ot.useRef(null),[Mn,je]=R.split("-"),pn=ot.useMemo(()=>K.reduce((bt,Wt,Ne)=>Ne>=Bi?bt:bt+Wt.height,0),[K,Bi]),pe=sP(),ro=v.invert||T,ji=Je==="loading";bi.current=ot.useMemo(()=>Bi*Zt+pn,[Bi,pn]),ot.useEffect(()=>{vi.current=Ti},[Ti]),ot.useEffect(()=>{rt(!0)},[]),ot.useEffect(()=>{const bt=Jt.current;if(bt){const Wt=bt.getBoundingClientRect().height;return Ui(Wt),F(Ne=>[{toastId:v.id,height:Wt,position:v.position},...Ne]),()=>F(Ne=>Ne.filter(Ke=>Ke.toastId!==v.id))}},[F,v.id]),ot.useLayoutEffect(()=>{if(!tt)return;const bt=Jt.current,Wt=bt.style.height;bt.style.height="auto";const Ne=bt.getBoundingClientRect().height;bt.style.height=Wt,Ui(Ne),F(Ke=>Ke.find(fe=>fe.toastId===v.id)?Ke.map(fe=>fe.toastId===v.id?{...fe,height:Ne}:fe):[{toastId:v.id,height:Ne,position:v.position},...Ke])},[tt,v.title,v.description,F,v.id,v.jsx,v.action,v.cancel]);const Pn=ot.useCallback(()=>{Et(!0),Sn(bi.current),F(bt=>bt.filter(Wt=>Wt.toastId!==v.id)),setTimeout(()=>{ft(v)},vP)},[v,ft,F,bi]);ot.useEffect(()=>{if(v.promise&&Je==="loading"||v.duration===1/0||v.type==="loading")return;let bt;return J||M||pe?(()=>{if(ia.current<na.current){const Ke=new Date().getTime()-na.current;vi.current=vi.current-Ke}ia.current=new Date().getTime()})():(()=>{vi.current!==1/0&&(na.current=new Date().getTime(),bt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Pn()},vi.current))})(),()=>clearTimeout(bt)},[J,M,v,Je,pe,Pn]),ot.useEffect(()=>{v.delete&&(Pn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Pn,v.delete]);function Wn(){var bt;if(nt?.loading){var Wt;return ot.createElement("div",{className:ar(q?.loader,v==null||(Wt=v.classNames)==null?void 0:Wt.loader,"sonner-loader"),"data-visible":Je==="loading"},nt.loading)}return ot.createElement(Z4,{className:ar(q?.loader,v==null||(bt=v.classNames)==null?void 0:bt.loader),visible:Je==="loading"})}const gr=v.icon||nt?.[Je]||J4(Je);var Ee,kn;return ot.createElement("li",{tabIndex:0,ref:Jt,className:ar(V,We,q?.toast,v==null||(t=v.classNames)==null?void 0:t.toast,q?.default,q?.[Je],v==null||(e=v.classNames)==null?void 0:e[Je]),"data-sonner-toast":"","data-rich-colors":(Ee=v.richColors)!=null?Ee:at,"data-styled":!(v.jsx||v.unstyled||A),"data-mounted":tt,"data-promise":!!v.promise,"data-swiped":_i,"data-removed":dt,"data-visible":zi,"data-y-position":Mn,"data-x-position":je,"data-index":et,"data-front":Ie,"data-swiping":Vt,"data-dismissible":Ei,"data-type":Je,"data-invert":ro,"data-swipe-out":Qt,"data-swipe-direction":x,"data-expanded":!!(J||he&&tt),"data-testid":v.testId,style:{"--index":et,"--toasts-before":et,"--z-index":lt.length-et,"--offset":`${dt?Xr:bi.current}px`,"--initial-height":he?"auto":`${ta}px`,...I,...v.style},onDragEnd:()=>{Rt(!1),Ot(null),Si.current=null},onPointerDown:bt=>{bt.button!==2&&(ji||!Ei||($r.current=new Date,Sn(bi.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(Rt(!0),Si.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,Wt,Ne;if(Qt||!Ei)return;Si.current=null;const Ke=Number(((bt=Jt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gn=Number(((Wt=Jt.current)==null?void 0:Wt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fe=new Date().getTime()-((Ne=$r.current)==null?void 0:Ne.getTime()),cn=xt==="x"?Ke:gn,Zn=Math.abs(cn)/fe;if(Math.abs(cn)>=_P||Zn>.11){Sn(bi.current),v.onDismiss==null||v.onDismiss.call(v,v),X(xt==="x"?Ke>0?"right":"left":gn>0?"down":"up"),Pn(),Jn(!0);return}else{var Ze,tn;(Ze=Jt.current)==null||Ze.style.setProperty("--swipe-amount-x","0px"),(tn=Jt.current)==null||tn.style.setProperty("--swipe-amount-y","0px")}Vn(!1),Rt(!1),Ot(null)},onPointerMove:bt=>{var Wt,Ne,Ke;if(!Si.current||!Ei||((Wt=window.getSelection())==null?void 0:Wt.toString().length)>0)return;const fe=bt.clientY-Si.current.y,cn=bt.clientX-Si.current.x;var Zn;const Ze=(Zn=s.swipeDirections)!=null?Zn:EP(R);!xt&&(Math.abs(cn)>1||Math.abs(fe)>1)&&Ot(Math.abs(cn)>Math.abs(fe)?"x":"y");let tn={x:0,y:0};const qi=en=>1/(1.5+Math.abs(en)/20);if(xt==="y"){if(Ze.includes("top")||Ze.includes("bottom"))if(Ze.includes("top")&&fe<0||Ze.includes("bottom")&&fe>0)tn.y=fe;else{const en=fe*qi(fe);tn.y=Math.abs(en)<Math.abs(fe)?en:fe}}else if(xt==="x"&&(Ze.includes("left")||Ze.includes("right")))if(Ze.includes("left")&&cn<0||Ze.includes("right")&&cn>0)tn.x=cn;else{const en=cn*qi(cn);tn.x=Math.abs(en)<Math.abs(cn)?en:cn}(Math.abs(tn.x)>0||Math.abs(tn.y)>0)&&Vn(!0),(Ne=Jt.current)==null||Ne.style.setProperty("--swipe-amount-x",`${tn.x}px`),(Ke=Jt.current)==null||Ke.style.setProperty("--swipe-amount-y",`${tn.y}px`)}},ea&&!v.jsx&&Je!=="loading"?ot.createElement("button",{"aria-label":gt,"data-disabled":ji,"data-close-button":!0,onClick:ji||!Ei?()=>{}:()=>{Pn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:ar(q?.closeButton,v==null||(i=v.classNames)==null?void 0:i.closeButton)},(kn=nt?.close)!=null?kn:rP):null,(Je||v.icon||v.promise)&&v.icon!==null&&(nt?.[Je]!==null||v.icon)?ot.createElement("div",{"data-icon":"",className:ar(q?.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Wn():null,v.type!=="loading"?gr:null):null,ot.createElement("div",{"data-content":"",className:ar(q?.content,v==null||(u=v.classNames)==null?void 0:u.content)},ot.createElement("div",{"data-title":"",className:ar(q?.title,v==null||(c=v.classNames)==null?void 0:c.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ot.createElement("div",{"data-description":"",className:ar(N,pr,q?.description,v==null||(m=v.classNames)==null?void 0:m.description)},typeof v.description=="function"?v.description():v.description):null),ot.isValidElement(v.cancel)?v.cancel:v.cancel&&vf(v.cancel)?ot.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||w,onClick:bt=>{vf(v.cancel)&&Ei&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,bt),Pn())},className:ar(q?.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ot.isValidElement(v.action)?v.action:v.action&&vf(v.action)?ot.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||C,onClick:bt=>{vf(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,bt),!bt.defaultPrevented&&Pn())},className:ar(q?.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function Kb(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function bP(s,t){const e={};return[s,t].forEach((i,o)=>{const u=o===1,c=u?"--mobile-offset":"--offset",m=u?pP:mP;function p(g){["top","right","bottom","left"].forEach(T=>{e[`${c}-${T}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?p(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?e[`${c}-${g}`]=m:e[`${c}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):p(m)}),e}const zP=ot.forwardRef(function(t,e){const{id:i,invert:o,position:u="bottom-right",hotkey:c=["altKey","KeyT"],expand:m,closeButton:p,className:g,offset:T,mobileOffset:v,theme:A="light",richColors:M,duration:F,style:Z,visibleToasts:K=dP,toastOptions:et,dir:lt=Kb(),gap:J=yP,icons:ft,containerAriaLabel:at="Notifications"}=t,[ct,I]=ot.useState([]),w=ot.useMemo(()=>i?ct.filter(tt=>tt.toasterId===i):ct.filter(tt=>!tt.toasterId),[ct,i]),C=ot.useMemo(()=>Array.from(new Set([u].concat(w.filter(tt=>tt.position).map(tt=>tt.position)))),[w,u]),[V,N]=ot.useState([]),[k,R]=ot.useState(!1),[Zt,he]=ot.useState(!1),[q,nt]=ot.useState(A!=="system"?A:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),gt=ot.useRef(null),xt=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ot=ot.useRef(null),x=ot.useRef(!1),X=ot.useCallback(tt=>{I(rt=>{var dt;return(dt=rt.find(Et=>Et.id===tt.id))!=null&&dt.delete||xn.dismiss(tt.id),rt.filter(({id:Et})=>Et!==tt.id)})},[]);return ot.useEffect(()=>xn.subscribe(tt=>{if(tt.dismiss){requestAnimationFrame(()=>{I(rt=>rt.map(dt=>dt.id===tt.id?{...dt,delete:!0}:dt))});return}setTimeout(()=>{X4.flushSync(()=>{I(rt=>{const dt=rt.findIndex(Et=>Et.id===tt.id);return dt!==-1?[...rt.slice(0,dt),{...rt[dt],...tt},...rt.slice(dt+1)]:[tt,...rt]})})})}),[ct]),ot.useEffect(()=>{if(A!=="system"){nt(A);return}if(A==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?nt("dark"):nt("light")),typeof window>"u")return;const tt=window.matchMedia("(prefers-color-scheme: dark)");try{tt.addEventListener("change",({matches:rt})=>{nt(rt?"dark":"light")})}catch{tt.addListener(({matches:dt})=>{try{nt(dt?"dark":"light")}catch(Et){console.error(Et)}})}},[A]),ot.useEffect(()=>{ct.length<=1&&R(!1)},[ct]),ot.useEffect(()=>{const tt=rt=>{var dt;if(c.every(Rt=>rt[Rt]||rt.code===Rt)){var Vt;R(!0),(Vt=gt.current)==null||Vt.focus()}rt.code==="Escape"&&(document.activeElement===gt.current||(dt=gt.current)!=null&&dt.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[c]),ot.useEffect(()=>{if(gt.current)return()=>{Ot.current&&(Ot.current.focus({preventScroll:!0}),Ot.current=null,x.current=!1)}},[gt.current]),ot.createElement("section",{ref:e,"aria-label":`${at} ${xt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((tt,rt)=>{var dt;const[Et,Vt]=tt.split("-");return w.length?ot.createElement("ol",{key:tt,dir:lt==="auto"?Kb():lt,tabIndex:-1,ref:gt,className:g,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":Et,"data-x-position":Vt,style:{"--front-toast-height":`${((dt=V[0])==null?void 0:dt.height)||0}px`,"--width":`${gP}px`,"--gap":`${J}px`,...Z,...bP(T,v)},onBlur:Rt=>{x.current&&!Rt.currentTarget.contains(Rt.relatedTarget)&&(x.current=!1,Ot.current&&(Ot.current.focus({preventScroll:!0}),Ot.current=null))},onFocus:Rt=>{Rt.target instanceof HTMLElement&&Rt.target.dataset.dismissible==="false"||x.current||(x.current=!0,Ot.current=Rt.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{Zt||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Rt=>{Rt.target instanceof HTMLElement&&Rt.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},w.filter(Rt=>!Rt.position&&rt===0||Rt.position===tt).map((Rt,Qt)=>{var Jn,_i;return ot.createElement(TP,{key:Rt.id,icons:ft,index:Qt,toast:Rt,defaultRichColors:M,duration:(Jn=et?.duration)!=null?Jn:F,className:et?.className,descriptionClassName:et?.descriptionClassName,invert:o,visibleToasts:K,closeButton:(_i=et?.closeButton)!=null?_i:p,interacting:Zt,position:tt,style:et?.style,unstyled:et?.unstyled,classNames:et?.classNames,cancelButtonStyle:et?.cancelButtonStyle,actionButtonStyle:et?.actionButtonStyle,closeButtonAriaLabel:et?.closeButtonAriaLabel,removeToast:X,toasts:w.filter(Vn=>Vn.position==Rt.position),heights:V.filter(Vn=>Vn.position==Rt.position),setHeights:N,expandByDefault:m,gap:J,expanded:k,swipeDirections:t.swipeDirections})})):null}))});function SP(s){fP.success(s,{classNames:{toast:"flex justify-center !w-fit relative left-[50%] translate-x-[-50%] ",title:"text-base ml-2 text-nowrap"}})}const AP=async s=>{if(Ec.currentUser)await GM(AM(fw,Ec.currentUser.uid,rl()),s);else{localStorage.setItem(Ug,JSON.stringify(s));const t=localStorage.getItem(tg);if(t){const e=JSON.parse(t);localStorage.setItem(tg,JSON.stringify({...e,[rl()]:s}))}else localStorage.setItem(tg,JSON.stringify({[rl()]:s}))}SP("")},wP=P4("storage/initialState",async()=>await t4()),Aw=q4({name:"storage",initialState:i1(),reducers:{handleSave:(s,t)=>{const e={...s,...t.payload};return AP(e),e}},extraReducers(s){s.addCase(wP.fulfilled,(t,e)=>{t=e.payload,console.log(t)})}}),{handleSave:BP}=Aw.actions,IP=I4({reducer:{storage:Aw.reducer}}),RP=be.lazy(()=>Qb(()=>import("./App-Cw7Gb7FH.js").then(s=>s.A),[]));fR.createRoot(document.getElementById("root")).render(Ht.jsx(be.StrictMode,{children:Ht.jsx(NR,{store:IP,children:Ht.jsx(be.Suspense,{fallback:Ht.jsx(dR,{}),children:Ht.jsx(RP,{})})})}));export{AM as A,xP as B,fw as C,NP as D,dR as H,ot as R,zP as T,Qb as _,VP as a,e1 as b,yi as c,CP as d,rl as e,PP as f,ex as g,BP as h,wP as i,Ht as j,MP as k,Ug as l,Ec as m,fP as n,kP as o,DP as p,X4 as q,be as r,SP as s,n1 as t,OP as u,Y4 as v,FR as w,LP as x,tg as y,GM as z};
