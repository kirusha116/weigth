const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WarningDialog-C6tLZJMY.js","assets/index-DOlGj5kJ.js","assets/index-BUjQ1emK.css","assets/button-CMLBj1LT.js","assets/utils-CoKGmzPW.js","assets/dialog-CUAiOljo.js","assets/index-D22BzwV4.js"])))=>i.map(i=>d[i]);
import{r as i,j as a,H as S,f as W,k,l as I,s as E,_ as N,m as d}from"./index-DOlGj5kJ.js";import{D as O,a as F,b as H,c as y,d as A}from"./dialog-CUAiOljo.js";import{I as f}from"./input-BIQkwRDD.js";import{u as L}from"./index.esm-QRDgDFOw.js";import{L as p}from"./label-DAQCWSAs.js";import{B as h}from"./button-CMLBj1LT.js";import{w as n}from"./warningToast-Cq0UQjIb.js";import"./utils-CoKGmzPW.js";import"./index-D22BzwV4.js";function G({isOpen:g,onOpenChange:r}){const[x,e]=i.useState(!1),j=({email:s,password:t})=>{e(!0),W(d,s,t).then(m).catch(u=>{switch(u.code){case"auth/invalid-credential":k(d,s,t).then(m).catch(v=>{e(!1),n(v.code)});break;case"auth/weak-password":e(!1),n("Неверный пароль");break;case"auth/invalid-email":e(!1),n("Неверный email");break;default:e(!1),n(u.code);break}})},{register:o,handleSubmit:b}=L(),[l,_]=i.useState(null),w=async()=>{e(!0);const s=(await N(async()=>{const{default:t}=await import("./WarningDialog-C6tLZJMY.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6]))).default;_(()=>s),e(!1)},[D,c]=i.useState(!1),m=async()=>{r(!1),e(!1),localStorage.getItem(I)?await w().then(()=>c(!0)):E("Успешно!")};return a.jsxs(a.Fragment,{children:[a.jsx(O,{open:g,onOpenChange:r,children:a.jsx(F,{showCloseButton:!1,className:"sm:max-w-[425px]",onOpenAutoFocus:s=>s.preventDefault(),children:a.jsxs("form",{onSubmit:b(j),children:[a.jsx(H,{className:"mb-7",children:a.jsx(y,{children:"Вход по почте"})}),a.jsx(p,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(f,{...o("email"),className:"mb-5"}),a.jsx(p,{className:"mb-2",children:"Пароль"}),a.jsx(f,{...o("password"),className:"mb-5"}),a.jsxs(A,{children:[a.jsx(h,{variant:"outline",onClick:s=>{s.preventDefault(),r(!1)},children:"Отмена"}),a.jsx(h,{type:"submit",variant:"rose",children:"Войти"})]})]})})}),x&&a.jsx(S,{}),l&&a.jsx(l,{isOpen:D,onOpenChange:c,variant:"delete"})]})}export{G as default};
