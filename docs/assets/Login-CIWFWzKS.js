const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WarningDialog-BXAOgyr-.js","assets/index-Bgq_ywzq.js","assets/index-BUjQ1emK.css","assets/button-Dkq7xvrX.js","assets/utils-B_leD4Hh.js","assets/dialog-CyXiTgmv.js","assets/index-BUmtKv4T.js"])))=>i.map(i=>d[i]);
import{r as n,j as a,H as S,f as W,k,l as I,s as E,_ as N,m as d}from"./index-Bgq_ywzq.js";import{D as H,a as O,b as y,c as F,d as L}from"./dialog-CyXiTgmv.js";import{I as f}from"./input-reTMGzZH.js";import{u as P}from"./index.esm-CF5HByMw.js";import{L as h}from"./label-C22UddiN.js";import{B as p}from"./button-Dkq7xvrX.js";import{w as r}from"./warningToast-CbJgSEaT.js";import"./utils-B_leD4Hh.js";import"./index-BUmtKv4T.js";function G({isOpen:g,onOpenChange:i}){const[x,e]=n.useState(!1),j=({email:s,password:t})=>{e(!0),W(d,s,t).then(m).catch(u=>{switch(u.code){case"auth/invalid-credential":k(d,s,t).then(m).catch(v=>{e(!1),r(v.code)});break;case"auth/weak-password":e(!1),r("Неверный пароль");break;case"auth/invalid-email":e(!1),r("Неверный email");break;default:e(!1),r(u.code);break}})},{register:l,handleSubmit:b}=P(),[o,_]=n.useState(null),w=async()=>{e(!0);const s=(await N(async()=>{const{default:t}=await import("./WarningDialog-BXAOgyr-.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6]))).default;_(()=>s),e(!1)},[D,c]=n.useState(!1),m=async()=>{i(!1),e(!1),localStorage.getItem(I)?await w().then(()=>c(!0)):E("Успешно!")};return a.jsxs(a.Fragment,{children:[a.jsx(H,{open:g,onOpenChange:i,children:a.jsx(O,{showCloseButton:!1,className:"sm:max-w-[425px]",children:a.jsxs("form",{onSubmit:b(j),children:[a.jsx(y,{className:"mb-7",children:a.jsx(F,{children:"Вход по почте"})}),a.jsx(h,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(f,{...l("email"),className:"mb-5"}),a.jsx(h,{className:"mb-2",children:"Пароль"}),a.jsx(f,{...l("password"),className:"mb-5"}),a.jsxs(L,{children:[a.jsx(p,{variant:"outline",onClick:s=>{s.preventDefault(),i(!1)},children:"Отмена"}),a.jsx(p,{type:"submit",variant:"rose",children:"Войти"})]})]})})}),x&&a.jsx(S,{}),o&&a.jsx(o,{isOpen:D,onOpenChange:c,variant:"delete"})]})}export{G as default};
