const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InputString-CHXGrKwG.js","assets/index-ChL8QKdY.js","assets/index-B3MVZZcz.css","assets/App-emmywXQ2.js","assets/InputWeight-5zRA7-s9.js","assets/InputCallories-DmXf0sfu.js","assets/FormButtons-4Hf-MkpW.js"])))=>i.map(i=>d[i]);
import{p as b,i as l,r as a,k as S,j as s,q as j,h as E,_ as o}from"./index-ChL8QKdY.js";import{a as C,u as d,c as D,s as O}from"./App-emmywXQ2.js";const e={name:"name",startWeight:"startWeight",targetWeight:"targetWeight",maxCallories:"maxCallories"},z={[e.name]:"Имя",[e.startWeight]:"Начальный вес",[e.targetWeight]:"Цель",[e.maxCallories]:"Допустимое количество каллорий в день"};function v(r,n){const t={};return r.startWeight&&(t.startWeight=Number(r.startWeight)),r.targetWeight&&(t.targetWeight=Number(r.targetWeight)),r.maxCallories&&(t.maxCallories=Number(r.maxCallories)),!n&&t.startWeight&&(t.startWeightDate=b(),t.currentWeightDate=t.startWeightDate,t.currentWeight=t.startWeight),t}const I=a.lazy(()=>o(()=>import("./InputString-CHXGrKwG.js"),__vite__mapDeps([0,1,2,3]))),u=a.lazy(()=>o(()=>import("./InputWeight-5zRA7-s9.js"),__vite__mapDeps([4,1,2,3]))),N=a.lazy(()=>o(()=>import("./InputCallories-DmXf0sfu.js"),__vite__mapDeps([5,1,2,3]))),P=a.lazy(()=>o(()=>import("./FormButtons-4Hf-MkpW.js"),__vite__mapDeps([6,1,2,3])));function F(){const r=C(),n=l.currentUser?.displayName,{startWeight:t,targetWeight:h,maxCallories:c,startWeightDate:W}=d(),{register:i,handleSubmit:_,reset:p,setValue:g}=D({defaultValues:{name:n,startWeight:t?.toString(),targetWeight:h?.toString(),maxCallories:c?.toString()}}),x=async m=>{l.currentUser?.displayName!==m.name&&await j(l.currentUser,{displayName:m.name});const f=Object.fromEntries(Object.entries(m).filter(y=>y[0]!=="name"));r(E(v(f,W))),O("Сохранено!")};return a.useEffect(()=>{r(S())},[r]),s.jsxs("form",{onSubmit:_(x),children:[s.jsx(I,{settingsKey:e.name,register:i(e.name)}),s.jsx(u,{settingsKey:e.startWeight,register:i(e.startWeight),setValue:g}),s.jsx(u,{settingsKey:e.targetWeight,register:i(e.targetWeight),setValue:g}),s.jsx(N,{settingsKey:e.maxCallories,register:i(e.maxCallories),setValue:g}),s.jsx(P,{reset:p})]})}const A=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{A as F,z as s};
