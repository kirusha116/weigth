const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InputString-DkgCN4Qb.js","assets/index-CN-4iMuD.js","assets/index-CU9gHhOx.css","assets/input-lg6fQFwK.js","assets/utils-D_EGMbRk.js","assets/label-vPRxF0lV.js","assets/index-Dcn99abW.js","assets/App-BZekypBN.js","assets/index.esm-ZgqKDfhO.js","assets/successToast-BCacWXXi.js","assets/InputWeight-BrAa_p6z.js","assets/InputCallories-BAcRodsL.js","assets/FormButtons-BWxd6Sje.js","assets/button-CfQGQ6Ll.js"])))=>i.map(i=>d[i]);
import{l as y,e as i,o as b,r as o,j as s,m as C,h as d,_ as m}from"./index-CN-4iMuD.js";import{u as j}from"./index.esm-ZgqKDfhO.js";import{b as E,u as D}from"./App-BZekypBN.js";import{s as O}from"./successToast-BCacWXXi.js";const e={name:"name",startWeight:"startWeight",targetWeight:"targetWeight",maxCallories:"maxCallories"},L={[e.name]:"Имя",[e.startWeight]:"Начальный вес",[e.targetWeight]:"Цель",[e.maxCallories]:"Допустимое количество каллорий в день"};function N(r,a){const t={};return r.startWeight&&(t.startWeight=Number(r.startWeight)),r.targetWeight&&(t.targetWeight=Number(r.targetWeight)),r.maxCallories&&(t.maxCallories=Number(r.maxCallories)),!a&&t.startWeight&&(t.startWeightDate=y(),t.currentWeightDate=t.startWeightDate,t.currentWeight=t.startWeight),t}const v=o.lazy(()=>m(()=>import("./InputString-DkgCN4Qb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),W=o.lazy(()=>m(()=>import("./InputWeight-BrAa_p6z.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]))),I=o.lazy(()=>m(()=>import("./InputCallories-BAcRodsL.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9]))),P=o.lazy(()=>m(()=>import("./FormButtons-BWxd6Sje.js"),__vite__mapDeps([12,1,2,13,4])));function A(){const r=E(),a=i.currentUser?.displayName,{startWeight:t,targetWeight:l,maxCallories:u,startWeightDate:_}=D(),{register:n,handleSubmit:p,reset:h,setValue:g}=j({defaultValues:{name:a,startWeight:t?.toString(),targetWeight:l?.toString(),maxCallories:u?.toString()}});b(i,()=>{g("name",i.currentUser?.displayName)}),o.useEffect(()=>{h({name:a,startWeight:t?.toString(),targetWeight:l?.toString(),maxCallories:u?.toString()})},[r,u,a,h,t,l]);const f=async c=>{i.currentUser?.displayName!==c.name&&await C(i.currentUser,{displayName:c.name});const x=Object.fromEntries(Object.entries(c).filter(S=>S[0]!=="name"));r(d(N(x,_))),O("Сохранено!")};return s.jsxs("form",{onSubmit:p(f),children:[s.jsx(v,{settingsKey:e.name,register:n(e.name)}),s.jsx(W,{settingsKey:e.startWeight,register:n(e.startWeight),setValue:g}),s.jsx(W,{settingsKey:e.targetWeight,register:n(e.targetWeight),setValue:g}),s.jsx(I,{settingsKey:e.maxCallories,register:n(e.maxCallories),setValue:g}),s.jsx(P,{reset:h})]})}const R=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{R as F,L as s};
