function W1(s,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();const tR="modulepreload",eR=function(s){return"/weight/"+s},AT={},GS=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(e.map(g=>{if(g=eR(g),g in AT)return;AT[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const b=document.createElement("link");if(b.rel=E?"stylesheet":tR,E||(b.as="script"),b.crossOrigin="",b.href=g,m&&b.setAttribute("nonce",m),document.head.appendChild(b),E)return new Promise((x,H)=>{b.addEventListener("load",x),b.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};var vP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nR(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Op={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function iR(){if(bT)return pu;bT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return pu.Fragment=t,pu.jsx=e,pu.jsxs=e,pu}var wT;function rR(){return wT||(wT=1,Op.exports=iR()),Op.exports}var De=rR(),Vp={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function sR(){if(IT)return bt;IT=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function it(V,J,lt){this.props=V,this.context=J,this.refs=K,this.updater=lt||H}it.prototype.isReactComponent={},it.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},it.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function at(){}at.prototype=it.prototype;function W(V,J,lt){this.props=V,this.context=J,this.refs=K,this.updater=lt||H}var ut=W.prototype=new at;ut.constructor=W,Z(ut,it.prototype),ut.isPureReactComponent=!0;var rt=Array.isArray;function ct(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(V,J,lt){var ht=lt.ref;return{$$typeof:s,type:V,key:J,ref:ht!==void 0?ht:null,props:lt}}function M(V,J){return D(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return J[lt]})}var R=/\/+/g;function se(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ct,ct):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,J,lt,ht,Tt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case E:return Lt=V._init,Y(Lt(V._payload),J,lt,ht,Tt)}}if(Lt)return Tt=Tt(V),Lt=ht===""?"."+se(V,0):ht,rt(Tt)?(lt="",Lt!=null&&(lt=Lt.replace(R,"$&/")+"/"),Y(Tt,J,lt,"",function(Is){return Is})):Tt!=null&&(O(Tt)&&(Tt=M(Tt,lt+(Tt.key==null||V&&V.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Lt)),J.push(Tt)),1;Lt=0;var xe=ht===""?".":ht+":";if(rt(V))for(var ae=0;ae<V.length;ae++)ht=V[ae],Rt=xe+se(ht,ae),Lt+=Y(ht,J,lt,Rt,Tt);else if(ae=x(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(ht=V.next()).done;)ht=ht.value,Rt=xe+se(ht,ae++),Lt+=Y(ht,J,lt,Rt,Tt);else if(Rt==="object"){if(typeof V.then=="function")return Y(Me(V),J,lt,ht,Tt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function ot(V,J,lt){if(V==null)return V;var ht=[],Tt=0;return Y(V,ht,"","",function(Rt){return J.call(lt,Rt,Tt++)}),ht}function _t(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:ot,forEach:function(V,J,lt){ot(V,function(){J.apply(this,arguments)},lt)},count:function(V){var J=0;return ot(V,function(){J++}),J},toArray:function(V){return ot(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return bt.Activity=T,bt.Children=Gt,bt.Component=it,bt.Fragment=e,bt.Profiler=o,bt.PureComponent=W,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(V,J,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ht=Z({},V.props),Tt=V.key;if(J!=null)for(Rt in J.key!==void 0&&(Tt=""+J.key),J)!w.call(J,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&J.ref===void 0||(ht[Rt]=J[Rt]);var Rt=arguments.length-2;if(Rt===1)ht.children=lt;else if(1<Rt){for(var Lt=Array(Rt),xe=0;xe<Rt;xe++)Lt[xe]=arguments[xe+2];ht.children=Lt}return D(V.type,Tt,ht)},bt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},bt.createElement=function(V,J,lt){var ht,Tt={},Rt=null;if(J!=null)for(ht in J.key!==void 0&&(Rt=""+J.key),J)w.call(J,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Tt[ht]=J[ht]);var Lt=arguments.length-2;if(Lt===1)Tt.children=lt;else if(1<Lt){for(var xe=Array(Lt),ae=0;ae<Lt;ae++)xe[ae]=arguments[ae+2];Tt.children=xe}if(V&&V.defaultProps)for(ht in Lt=V.defaultProps,Lt)Tt[ht]===void 0&&(Tt[ht]=Lt[ht]);return D(V,Rt,Tt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:m,render:V}},bt.isValidElement=O,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:_t}},bt.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},bt.startTransition=function(V){var J=I.T,lt={};I.T=lt;try{var ht=V(),Tt=I.S;Tt!==null&&Tt(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ct,zt)}catch(Rt){zt(Rt)}finally{J!==null&&lt.types!==null&&(J.types=lt.types),I.T=J}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(V){return I.H.use(V)},bt.useActionState=function(V,J,lt){return I.H.useActionState(V,J,lt)},bt.useCallback=function(V,J){return I.H.useCallback(V,J)},bt.useContext=function(V){return I.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,J){return I.H.useDeferredValue(V,J)},bt.useEffect=function(V,J){return I.H.useEffect(V,J)},bt.useEffectEvent=function(V){return I.H.useEffectEvent(V)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(V,J,lt){return I.H.useImperativeHandle(V,J,lt)},bt.useInsertionEffect=function(V,J){return I.H.useInsertionEffect(V,J)},bt.useLayoutEffect=function(V,J){return I.H.useLayoutEffect(V,J)},bt.useMemo=function(V,J){return I.H.useMemo(V,J)},bt.useOptimistic=function(V,J){return I.H.useOptimistic(V,J)},bt.useReducer=function(V,J,lt){return I.H.useReducer(V,J,lt)},bt.useRef=function(V){return I.H.useRef(V)},bt.useState=function(V){return I.H.useState(V)},bt.useSyncExternalStore=function(V,J,lt){return I.H.useSyncExternalStore(V,J,lt)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.0",bt}var RT;function nd(){return RT||(RT=1,Vp.exports=sR()),Vp.exports}var He=nd();const aR=nR(He),EP=W1({__proto__:null,default:aR},[He]);var Mp={exports:{}},gu={},xp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function oR(){return CT||(CT=1,(function(s){function t(Y,ot){var _t=Y.length;Y.push(ot);t:for(;0<_t;){var zt=_t-1>>>1,Gt=Y[zt];if(0<o(Gt,ot))Y[zt]=ot,Y[_t]=Gt,_t=zt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ot=Y[0],_t=Y.pop();if(_t!==ot){Y[0]=_t;t:for(var zt=0,Gt=Y.length,V=Gt>>>1;zt<V;){var J=2*(zt+1)-1,lt=Y[J],ht=J+1,Tt=Y[ht];if(0>o(lt,_t))ht<Gt&&0>o(Tt,lt)?(Y[zt]=Tt,Y[ht]=_t,zt=ht):(Y[zt]=lt,Y[J]=_t,zt=J);else if(ht<Gt&&0>o(Tt,_t))Y[zt]=Tt,Y[ht]=_t,zt=ht;else break t}}return ot}function o(Y,ot){var _t=Y.sortIndex-ot.sortIndex;return _t!==0?_t:Y.id-ot.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();s.unstable_now=function(){return c.now()-m}}var p=[],g=[],E=1,T=null,b=3,x=!1,H=!1,Z=!1,K=!1,it=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ut(Y){for(var ot=e(g);ot!==null;){if(ot.callback===null)r(g);else if(ot.startTime<=Y)r(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=e(g)}}function rt(Y){if(Z=!1,ut(Y),!H)if(e(p)!==null)H=!0,ct||(ct=!0,k());else{var ot=e(g);ot!==null&&Me(rt,ot.startTime-Y)}}var ct=!1,I=-1,w=5,D=-1;function M(){return K?!0:!(s.unstable_now()-D<w)}function O(){if(K=!1,ct){var Y=s.unstable_now();D=Y;var ot=!0;try{t:{H=!1,Z&&(Z=!1,at(I),I=-1),x=!0;var _t=b;try{e:{for(ut(Y),T=e(p);T!==null&&!(T.expirationTime>Y&&M());){var zt=T.callback;if(typeof zt=="function"){T.callback=null,b=T.priorityLevel;var Gt=zt(T.expirationTime<=Y);if(Y=s.unstable_now(),typeof Gt=="function"){T.callback=Gt,ut(Y),ot=!0;break e}T===e(p)&&r(p),ut(Y)}else r(p);T=e(p)}if(T!==null)ot=!0;else{var V=e(g);V!==null&&Me(rt,V.startTime-Y),ot=!1}}break t}finally{T=null,b=_t,x=!1}ot=void 0}}finally{ot?k():ct=!1}}}var k;if(typeof W=="function")k=function(){W(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=O,k=function(){se.postMessage(null)}}else k=function(){it(O,0)};function Me(Y,ot){I=it(function(){Y(s.unstable_now())},ot)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var _t=b;b=ot;try{return Y()}finally{b=_t}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(Y,ot){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var _t=b;b=Y;try{return ot()}finally{b=_t}},s.unstable_scheduleCallback=function(Y,ot,_t){var zt=s.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?zt+_t:zt):_t=zt,Y){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=_t+Gt,Y={id:E++,callback:ot,priorityLevel:Y,startTime:_t,expirationTime:Gt,sortIndex:-1},_t>zt?(Y.sortIndex=_t,t(g,Y),e(p)===null&&Y===e(g)&&(Z?(at(I),I=-1):Z=!0,Me(rt,_t-zt))):(Y.sortIndex=Gt,t(p,Y),H||x||(H=!0,ct||(ct=!0,k()))),Y},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Y){var ot=b;return function(){var _t=b;b=ot;try{return Y.apply(this,arguments)}finally{b=_t}}}})(Pp)),Pp}var DT;function lR(){return DT||(DT=1,xp.exports=oR()),xp.exports}var kp={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function uR(){if(NT)return We;NT=1;var s=nd();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},We.flushSync=function(p){var g=c.T,E=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=E,r.d.f()}},We.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},We.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},We.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},We.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},We.requestFormReset=function(p){r.d.r(p)},We.unstable_batchedUpdates=function(p,g){return p(g)},We.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},We.useFormStatus=function(){return c.H.useHostTransitionStatus()},We.version="19.2.0",We}var OT;function cR(){if(OT)return kp.exports;OT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kp.exports=uR(),kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function hR(){if(VT)return gu;VT=1;var s=lR(),t=nd(),e=cR();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function E(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=E(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case it:return"Profiler";case K:return"StrictMode";case rt:return"Suspense";case ct:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case H:return"Portal";case W:return n.displayName||"Context";case at:return(n._context.displayName||"Context")+".Consumer";case ut:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:se(n.type)||"Memo";case w:i=n._payload,n=n._init;try{return se(n(i))}catch{}}return null}var Me=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function V(n){return{current:n}}function J(n){0>Gt||(n.current=zt[Gt],zt[Gt]=null,Gt--)}function lt(n,i){Gt++,zt[Gt]=n.current,n.current=i}var ht=V(null),Tt=V(null),Rt=V(null),Lt=V(null);function xe(n,i){switch(lt(Rt,i),lt(Tt,n),lt(ht,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?KE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=KE(i),n=QE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(ht),lt(ht,n)}function ae(){J(ht),J(Tt),J(Rt)}function Is(n){n.memoizedState!==null&&lt(Lt,n);var i=ht.current,a=QE(i,n.type);i!==a&&(lt(Tt,n),lt(ht,a))}function Va(n){Tt.current===n&&(J(ht),J(Tt)),Lt.current===n&&(J(Lt),hu._currentValue=_t)}var Ma,xa;function fi(n){if(Ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ma=i&&i[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+n+xa}var hl=!1;function Rs(n,i){if(!n||hl)return"";hl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(n,[],$)}else{try{$.call()}catch(F){q=F}n.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var C=_.split(`
`),B=S.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var G=`
`+C[l].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=l&&0<=f);break}}}finally{hl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?fi(a):""}function fl(n,i){switch(n.tag){case 26:case 27:case 5:return fi(n.type);case 16:return fi("Lazy");case 13:return n.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return fi("Activity");default:return""}}function dl(n){try{var i="",a=null;do i+=fl(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Pe=s.unstable_scheduleCallback,Sr=s.unstable_cancelCallback,Md=s.unstable_shouldYield,Tc=s.unstable_requestPaint,sn=s.unstable_now,Cs=s.unstable_getCurrentPriorityLevel,ml=s.unstable_ImmediatePriority,pl=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,xd=s.unstable_LowPriority,Sc=s.unstable_IdlePriority,Ac=s.log,bc=s.unstable_setDisableYieldValue,$n=null,Ge=null;function Mn(n){if(typeof Ac=="function"&&bc(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($n,n)}catch{}}var pe=Math.clz32?Math.clz32:Ic,wc=Math.log,Pa=Math.LN2;function Ic(n){return n>>>=0,n===0?32:31-(wc(n)/Pa|0)|0}var di=256,Ds=262144,Ee=4194304;function mi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pi(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=mi(l):(_&=S,_!==0?f=mi(_):a||(a=S&~n,a!==0&&(f=mi(a))))):(S=l&~d,S!==0?f=mi(S):_!==0?f=mi(_):a||(a=l&~n,a!==0&&(f=mi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Jn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Pd(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rc(){var n=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),n}function gi(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ns(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function kd(n,i,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,C=n.expirationTimes,B=n.hiddenUpdates;for(a=_&~a;0<a;){var G=31-pe(a),$=1<<G;S[G]=0,C[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Os(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function Os(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-pe(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function gl(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-pe(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function yl(n,i){var a=i&-i;return a=(a&42)!==0?1:Vs(a),(a&(n.suspendedLanes|i))!==0?0:a}function Vs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ji(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cc(){var n=ot.p;return n!==0?n:(n=window.event,n===void 0?32:gT(n.type))}function Zn(n,i){var a=ot.p;try{return ot.p=n,i()}finally{ot.p=a}}var Wn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Wn,Be="__reactProps$"+Wn,yi="__reactContainer$"+Wn,ka="__reactEvents$"+Wn,Ld="__reactListeners$"+Wn,Dc="__reactHandles$"+Wn,Nc="__reactResources$"+Wn,_i="__reactMarker$"+Wn;function La(n){delete n[Te],delete n[Be],delete n[ka],delete n[Ld],delete n[Dc]}function vi(n){var i=n[Te];if(i)return i;for(var a=n.parentNode;a;){if(i=a[yi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=tT(n);n!==null;){if(a=n[Te])return a;n=tT(n)}return i}n=a,a=n.parentNode}return null}function xn(n){if(n=n[Te]||n[yi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function En(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Ei(n){var i=n[Nc];return i||(i=n[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(n){n[_i]=!0}var _l=new Set,vl={};function Ti(n,i){Si(n,i),Si(n+"Capture",i)}function Si(n,i){for(vl[n]=i,n=0;n<i.length;n++)_l.add(i[n])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},Sl={};function Oc(n){return ve.call(Sl,n)?!0:ve.call(Tl,n)?!1:El.test(n)?Sl[n]=!0:(Tl[n]=!0,!1)}function Ua(n,i,a){if(Oc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Tn(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Ae(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function qe(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function br(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Al(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Kt(n){if(!n._valueTracker){var i=br(n)?"checked":"value";n._valueTracker=Al(n,i,""+n[i])}}function Ms(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=br(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ai(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xs=/[\n"\\]/g;function hn(n){return n.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function za(n,i,a,l,f,d,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+qe(i)):n.value!==""+qe(i)&&(n.value=""+qe(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?bl(n,_,qe(i)):a!=null?bl(n,_,qe(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+qe(S):n.removeAttribute("name")}function Vc(n,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(n);return}a=a!=null?""+qe(a):"",i=i!=null?""+qe(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Kt(n)}function bl(n,i,a){i==="number"&&Ai(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function wr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+qe(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Mc(n,i,a){if(i!=null&&(i=""+qe(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+qe(a):""}function Ir(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Me(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qe(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Kt(n)}function fn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||xc.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Il(n,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&wl(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&wl(n,d,i[d])}function Ba(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(n){return Rr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var Rl=null;function Pn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Cr=null,bi=null;function Ps(n){var i=xn(n);if(i&&(n=i.stateNode)){var a=n[Be]||null;t:switch(n=i.stateNode,i.type){case"input":if(za(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Be]||null;if(!f)throw Error(r(90));za(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ms(l)}break t;case"textarea":Mc(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&wr(n,!!a.multiple,i,!1)}}}var ja=!1;function Dr(n,i,a){if(ja)return n(i,a);ja=!0;try{var l=n(i);return l}finally{if(ja=!1,(Cr!==null||bi!==null)&&(Ch(),Cr&&(i=Cr,n=bi,bi=Cr=null,Ps(i),n)))for(i=0;i<n.length;i++)Ps(n[i])}}function ei(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Be]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(kn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{ks=!1}var wi=null,Cl=null,Ls=null;function Dl(){if(Ls)return Ls;var n,i=Cl,a=i.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ls=f.slice(n,1<l?1-l:void 0)}function Us(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Fi(){return!0}function ni(){return!1}function Ke(n){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:ni,this.isPropagationStopped=ni,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ke(Hi),Nr=T({},Hi,{view:0,detail:0}),Nl=Ke(Nr),Or,Fa,Ri,Ha=T({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ri&&(Ri&&n.type==="mousemove"?(Or=n.screenX-Ri.screenX,Fa=n.screenY-Ri.screenY):Fa=Or=0,Ri=n),Or)},movementY:function(n){return"movementY"in n?n.movementY:Fa}}),Ol=Ke(Ha),zs=T({},Ha,{dataTransfer:0}),kc=Ke(zs),Lc=T({},Nr,{relatedTarget:0}),Bs=Ke(Lc),Vl=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=Ke(Vl),Ga=T({},Hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zc=Ke(Ga),Bc=T({},Hi,{data:0}),Ci=Ke(Bc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Fc[n])?!!i[n]:!1}function Vr(){return Hc}var an=T({},Nr,{key:function(n){if(n.key){var i=qc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Us(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(n){return n.type==="keypress"?Us(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Us(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Gc=Ke(an),Kc=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ke(Kc),h=T({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),y=Ke(h),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(v),U=T({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Ke(U),et=T({},Hi,{newState:0,oldState:0}),wt=Ke(et),ge=[9,13,27,32],jt=kn&&"CompositionEvent"in window,oe=null;kn&&"documentMode"in document&&(oe=document.documentMode);var Ln=kn&&"TextEvent"in window&&!oe,Di=kn&&(!jt||oe&&8<oe&&11>=oe),ii=" ",ri=!1;function qs(n,i){switch(n){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qa=!1;function AI(n,i){switch(n){case"compositionend":return Ka(i);case"keypress":return i.which!==32?null:(ri=!0,ii);case"textInput":return n=i.data,n===ii&&ri?null:n;default:return null}}function bI(n,i){if(Qa)return n==="compositionend"||!jt&&qs(n,i)?(n=Dl(),Ls=Cl=wi=null,Qa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var wI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!wI[n.type]:i==="textarea"}function r_(n,i,a,l){Cr?bi?bi.push(l):bi=[l]:Cr=l,i=Ph(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Ml=null,xl=null;function II(n){BE(n,0)}function Qc(n){var i=En(n);if(Ms(i))return n}function s_(n,i){if(n==="change")return i}var a_=!1;if(kn){var Ud;if(kn){var zd="oninput"in document;if(!zd){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),zd=typeof o_.oninput=="function"}Ud=zd}else Ud=!1;a_=Ud&&(!document.documentMode||9<document.documentMode)}function l_(){Ml&&(Ml.detachEvent("onpropertychange",u_),xl=Ml=null)}function u_(n){if(n.propertyName==="value"&&Qc(xl)){var i=[];r_(i,xl,n,Pn(n)),Dr(II,i)}}function RI(n,i,a){n==="focusin"?(l_(),Ml=i,xl=a,Ml.attachEvent("onpropertychange",u_)):n==="focusout"&&l_()}function CI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qc(xl)}function DI(n,i){if(n==="click")return Qc(i)}function NI(n,i){if(n==="input"||n==="change")return Qc(i)}function OI(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Sn=typeof Object.is=="function"?Object.is:OI;function Pl(n,i){if(Sn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ve.call(i,f)||!Sn(n[f],i[f]))return!1}return!0}function c_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function h_(n,i){var a=c_(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=c_(a)}}function f_(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?f_(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function d_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ai(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ai(n.document)}return i}function Bd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var VI=kn&&"documentMode"in document&&11>=document.documentMode,Ya=null,qd=null,kl=null,jd=!1;function m_(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jd||Ya==null||Ya!==Ai(l)||(l=Ya,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Pl(kl,l)||(kl=l,l=Ph(qd,"onSelect"),0<l.length&&(i=new Ii("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ya)))}function js(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Xa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Fd={},p_={};kn&&(p_=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Fs(n){if(Fd[n])return Fd[n];if(!Xa[n])return n;var i=Xa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in p_)return Fd[n]=i[a];return n}var g_=Fs("animationend"),y_=Fs("animationiteration"),__=Fs("animationstart"),MI=Fs("transitionrun"),xI=Fs("transitionstart"),PI=Fs("transitioncancel"),v_=Fs("transitionend"),E_=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function si(n,i){E_.set(n,i),Ti(i,[n])}var Yc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Un=[],$a=0,Gd=0;function Xc(){for(var n=$a,i=Gd=$a=0;i<n;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var f=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&T_(a,f,d)}}function $c(n,i,a,l){Un[$a++]=n,Un[$a++]=i,Un[$a++]=a,Un[$a++]=l,Gd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Kd(n,i,a,l){return $c(n,i,a,l),Jc(n)}function Hs(n,i){return $c(n,null,null,i),Jc(n)}function T_(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-pe(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Jc(n){if(50<ru)throw ru=0,ep=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ja={};function kI(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,i,a,l){return new kI(n,i,a,l)}function Qd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ki(n,i){var a=n.alternate;return a===null?(a=An(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function S_(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Zc(n,i,a,l,f,d){var _=0;if(l=n,typeof n=="function")Qd(n)&&(_=1);else if(typeof n=="string")_=q1(n,a,ht.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case D:return n=An(31,a,i,f),n.elementType=D,n.lanes=d,n;case Z:return Gs(a.children,f,d,i);case K:_=8,f|=24;break;case it:return n=An(12,a,i,f|2),n.elementType=it,n.lanes=d,n;case rt:return n=An(13,a,i,f),n.elementType=rt,n.lanes=d,n;case ct:return n=An(19,a,i,f),n.elementType=ct,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W:_=10;break t;case at:_=9;break t;case ut:_=11;break t;case I:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return i=An(_,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Gs(n,i,a,l){return n=An(7,n,l,i),n.lanes=a,n}function Yd(n,i,a){return n=An(6,n,null,i),n.lanes=a,n}function A_(n){var i=An(18,null,null,0);return i.stateNode=n,i}function Xd(n,i,a){return i=An(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var b_=new WeakMap;function zn(n,i){if(typeof n=="object"&&n!==null){var a=b_.get(n);return a!==void 0?a:(i={value:n,source:i,stack:dl(i)},b_.set(n,i),i)}return{value:n,source:i,stack:dl(i)}}var Za=[],Wa=0,Wc=null,Ll=0,Bn=[],qn=0,Mr=null,Ni=1,Oi="";function Qi(n,i){Za[Wa++]=Ll,Za[Wa++]=Wc,Wc=n,Ll=i}function w_(n,i,a){Bn[qn++]=Ni,Bn[qn++]=Oi,Bn[qn++]=Mr,Mr=n;var l=Ni;n=Oi;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-pe(i)+f|a<<f|l,Oi=d+n}else Ni=1<<d|a<<f|l,Oi=n}function $d(n){n.return!==null&&(Qi(n,1),w_(n,1,0))}function Jd(n){for(;n===Wc;)Wc=Za[--Wa],Za[Wa]=null,Ll=Za[--Wa],Za[Wa]=null;for(;n===Mr;)Mr=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null}function I_(n,i){Bn[qn++]=Ni,Bn[qn++]=Oi,Bn[qn++]=Mr,Ni=i.id,Oi=i.overflow,Mr=n}var Qe=null,ie=null,kt=!1,xr=null,jn=!1,Zd=Error(r(519));function Pr(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(zn(i,n)),Zd}function R_(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Te]=n,i[Be]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<au.length;a++)Ot(au[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Vc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),Ir(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||HE(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Pr(n,!0)}function C_(n){for(Qe=n.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Qe=Qe.return}}function to(n){if(n!==Qe)return!1;if(!kt)return C_(n),kt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||gp(n.type,n.memoizedProps)),a=!a),a&&ie&&Pr(n),C_(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ie=WE(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ie=WE(n)}else i===27?(i=ie,Xr(n.type)?(n=Tp,Tp=null,ie=n):ie=i):ie=Qe?Hn(n.stateNode.nextSibling):null;return!0}function Ks(){ie=Qe=null,kt=!1}function Wd(){var n=xr;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),xr=null),n}function Ul(n){xr===null?xr=[n]:xr.push(n)}var tm=V(null),Qs=null,Yi=null;function kr(n,i,a){lt(tm,i._currentValue),i._currentValue=a}function Xi(n){n._currentValue=tm.current,J(tm)}function em(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function nm(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),em(d.return,a,n),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),em(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function eo(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;Sn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===Lt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(hu):n=[hu])}f=f.return}n!==null&&nm(i,n,a,l),i.flags|=262144}function th(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ys(n){Qs=n,Yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ye(n){return D_(Qs,n)}function eh(n,i){return Qs===null&&Ys(n),D_(n,i)}function D_(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(n===null)throw Error(r(308));Yi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Yi=Yi.next=i;return a}var LI=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},UI=s.unstable_scheduleCallback,zI=s.unstable_NormalPriority,be={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new LI,data:new Map,refCount:0}}function zl(n){n.refCount--,n.refCount===0&&UI(zI,function(){n.controller.abort()})}var Bl=null,rm=0,no=0,io=null;function BI(n,i){if(Bl===null){var a=Bl=[];rm=0,no=op(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rm++,i.then(N_,N_),i}function N_(){if(--rm===0&&Bl!==null){io!==null&&(io.status="fulfilled");var n=Bl;Bl=null,no=0,io=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function qI(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var O_=Y.S;Y.S=function(n,i){mE=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BI(n,i),O_!==null&&O_(n,i)};var Xs=V(null);function sm(){var n=Xs.current;return n!==null?n:ne.pooledCache}function nh(n,i){i===null?lt(Xs,Xs.current):lt(Xs,i.pool)}function V_(){var n=sm();return n===null?null:{parent:be._currentValue,pool:n}}var ro=Error(r(460)),am=Error(r(474)),ih=Error(r(542)),rh={then:function(){}};function M_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function x_(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,k_(n),n;default:if(typeof i.status=="string")i.then(ti,ti);else{if(n=ne,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,k_(n),n}throw Js=i,ro}}function $s(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Js=a,ro):a}}var Js=null;function P_(){if(Js===null)throw Error(r(459));var n=Js;return Js=null,n}function k_(n){if(n===ro||n===ih)throw Error(r(483))}var so=null,ql=0;function sh(n){var i=ql;return ql+=1,so===null&&(so=[]),x_(so,n,i)}function jl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function ah(n,i){throw i.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function L_(n){function i(P,N){if(n){var z=P.deletions;z===null?(P.deletions=[N],P.flags|=16):z.push(N)}}function a(P,N){if(!n)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function f(P,N){return P=Ki(P,N),P.index=0,P.sibling=null,P}function d(P,N,z){return P.index=z,n?(z=P.alternate,z!==null?(z=z.index,z<N?(P.flags|=67108866,N):z):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function S(P,N,z,X){return N===null||N.tag!==6?(N=Yd(z,P.mode,X),N.return=P,N):(N=f(N,z),N.return=P,N)}function C(P,N,z,X){var gt=z.type;return gt===Z?G(P,N,z.props.children,X,z.key):N!==null&&(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&$s(gt)===N.type)?(N=f(N,z.props),jl(N,z),N.return=P,N):(N=Zc(z.type,z.key,z.props,null,P.mode,X),jl(N,z),N.return=P,N)}function B(P,N,z,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Xd(z,P.mode,X),N.return=P,N):(N=f(N,z.children||[]),N.return=P,N)}function G(P,N,z,X,gt){return N===null||N.tag!==7?(N=Gs(z,P.mode,X,gt),N.return=P,N):(N=f(N,z),N.return=P,N)}function $(P,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yd(""+N,P.mode,z),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return z=Zc(N.type,N.key,N.props,null,P.mode,z),jl(z,N),z.return=P,z;case H:return N=Xd(N,P.mode,z),N.return=P,N;case w:return N=$s(N),$(P,N,z)}if(Me(N)||k(N))return N=Gs(N,P.mode,z,null),N.return=P,N;if(typeof N.then=="function")return $(P,sh(N),z);if(N.$$typeof===W)return $(P,eh(P,N),z);ah(P,N)}return null}function q(P,N,z,X){var gt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:S(P,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===gt?C(P,N,z,X):null;case H:return z.key===gt?B(P,N,z,X):null;case w:return z=$s(z),q(P,N,z,X)}if(Me(z)||k(z))return gt!==null?null:G(P,N,z,X,null);if(typeof z.then=="function")return q(P,N,sh(z),X);if(z.$$typeof===W)return q(P,N,eh(P,z),X);ah(P,z)}return null}function F(P,N,z,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,S(N,P,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return P=P.get(X.key===null?z:X.key)||null,C(N,P,X,gt);case H:return P=P.get(X.key===null?z:X.key)||null,B(N,P,X,gt);case w:return X=$s(X),F(P,N,z,X,gt)}if(Me(X)||k(X))return P=P.get(z)||null,G(N,P,X,gt,null);if(typeof X.then=="function")return F(P,N,z,sh(X),gt);if(X.$$typeof===W)return F(P,N,z,eh(N,X),gt);ah(N,X)}return null}function ft(P,N,z,X){for(var gt=null,Bt=null,mt=N,Ct=N=0,Mt=null;mt!==null&&Ct<z.length;Ct++){mt.index>Ct?(Mt=mt,mt=null):Mt=mt.sibling;var qt=q(P,mt,z[Ct],X);if(qt===null){mt===null&&(mt=Mt);break}n&&mt&&qt.alternate===null&&i(P,mt),N=d(qt,N,Ct),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt,mt=Mt}if(Ct===z.length)return a(P,mt),kt&&Qi(P,Ct),gt;if(mt===null){for(;Ct<z.length;Ct++)mt=$(P,z[Ct],X),mt!==null&&(N=d(mt,N,Ct),Bt===null?gt=mt:Bt.sibling=mt,Bt=mt);return kt&&Qi(P,Ct),gt}for(mt=l(mt);Ct<z.length;Ct++)Mt=F(mt,P,Ct,z[Ct],X),Mt!==null&&(n&&Mt.alternate!==null&&mt.delete(Mt.key===null?Ct:Mt.key),N=d(Mt,N,Ct),Bt===null?gt=Mt:Bt.sibling=Mt,Bt=Mt);return n&&mt.forEach(function(ts){return i(P,ts)}),kt&&Qi(P,Ct),gt}function vt(P,N,z,X){if(z==null)throw Error(r(151));for(var gt=null,Bt=null,mt=N,Ct=N=0,Mt=null,qt=z.next();mt!==null&&!qt.done;Ct++,qt=z.next()){mt.index>Ct?(Mt=mt,mt=null):Mt=mt.sibling;var ts=q(P,mt,qt.value,X);if(ts===null){mt===null&&(mt=Mt);break}n&&mt&&ts.alternate===null&&i(P,mt),N=d(ts,N,Ct),Bt===null?gt=ts:Bt.sibling=ts,Bt=ts,mt=Mt}if(qt.done)return a(P,mt),kt&&Qi(P,Ct),gt;if(mt===null){for(;!qt.done;Ct++,qt=z.next())qt=$(P,qt.value,X),qt!==null&&(N=d(qt,N,Ct),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return kt&&Qi(P,Ct),gt}for(mt=l(mt);!qt.done;Ct++,qt=z.next())qt=F(mt,P,Ct,qt.value,X),qt!==null&&(n&&qt.alternate!==null&&mt.delete(qt.key===null?Ct:qt.key),N=d(qt,N,Ct),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return n&&mt.forEach(function(Z1){return i(P,Z1)}),kt&&Qi(P,Ct),gt}function ee(P,N,z,X){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:t:{for(var gt=z.key;N!==null;){if(N.key===gt){if(gt=z.type,gt===Z){if(N.tag===7){a(P,N.sibling),X=f(N,z.props.children),X.return=P,P=X;break t}}else if(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&$s(gt)===N.type){a(P,N.sibling),X=f(N,z.props),jl(X,z),X.return=P,P=X;break t}a(P,N);break}else i(P,N);N=N.sibling}z.type===Z?(X=Gs(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=Zc(z.type,z.key,z.props,null,P.mode,X),jl(X,z),X.return=P,P=X)}return _(P);case H:t:{for(gt=z.key;N!==null;){if(N.key===gt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(P,N.sibling),X=f(N,z.children||[]),X.return=P,P=X;break t}else{a(P,N);break}else i(P,N);N=N.sibling}X=Xd(z,P.mode,X),X.return=P,P=X}return _(P);case w:return z=$s(z),ee(P,N,z,X)}if(Me(z))return ft(P,N,z,X);if(k(z)){if(gt=k(z),typeof gt!="function")throw Error(r(150));return z=gt.call(z),vt(P,N,z,X)}if(typeof z.then=="function")return ee(P,N,sh(z),X);if(z.$$typeof===W)return ee(P,N,eh(P,z),X);ah(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(P,N.sibling),X=f(N,z),X.return=P,P=X):(a(P,N),X=Yd(z,P.mode,X),X.return=P,P=X),_(P)):a(P,N)}return function(P,N,z,X){try{ql=0;var gt=ee(P,N,z,X);return so=null,gt}catch(mt){if(mt===ro||mt===ih)throw mt;var Bt=An(29,mt,null,P.mode);return Bt.lanes=X,Bt.return=P,Bt}finally{}}}var Zs=L_(!0),U_=L_(!1),Lr=!1;function om(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ur(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Jc(n),T_(n,null,a),i}return $c(n,l,i,a),Jc(n)}function Fl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,gl(n,a)}}function um(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var cm=!1;function Hl(){if(cm){var n=io;if(n!==null)throw n}}function Gl(n,i,a,l){cm=!1;var f=n.updateQueue;Lr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var G=n.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==_&&(S===null?G.firstBaseUpdate=B:S.next=B,G.lastBaseUpdate=C))}if(d!==null){var $=f.baseState;_=0,G=B=C=null,S=d;do{var q=S.lane&-536870913,F=q!==S.lane;if(F?(Vt&q)===q:(l&q)===q){q!==0&&q===no&&(cm=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=n,vt=S;q=i;var ee=a;switch(vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){$=ft.call(ee,$,q);break t}$=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,q=typeof ft=="function"?ft.call(ee,$,q):ft,q==null)break t;$=T({},$,q);break t;case 2:Lr=!0}}q=S.callback,q!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[q]:F.push(q))}else F={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(B=G=F,C=$):G=G.next=F,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;F=S,S=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);G===null&&(C=$),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=G,d===null&&(f.shared.lanes=0),Hr|=_,n.lanes=_,n.memoizedState=$}}function z_(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function B_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)z_(a[n],i)}var ao=V(null),oh=V(0);function q_(n,i){n=rr,lt(oh,n),lt(ao,i),rr=n|i.baseLanes}function hm(){lt(oh,rr),lt(ao,ao.current)}function fm(){rr=oh.current,J(ao),J(oh)}var bn=V(null),Fn=null;function Br(n){var i=n.alternate;lt(ye,ye.current&1),lt(bn,n),Fn===null&&(i===null||ao.current!==null||i.memoizedState!==null)&&(Fn=n)}function dm(n){lt(ye,ye.current),lt(bn,n),Fn===null&&(Fn=n)}function j_(n){n.tag===22?(lt(ye,ye.current),lt(bn,n),Fn===null&&(Fn=n)):qr()}function qr(){lt(ye,ye.current),lt(bn,bn.current)}function wn(n){J(bn),Fn===n&&(Fn=null),J(ye)}var ye=V(0);function lh(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vp(a)||Ep(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,It=null,Wt=null,we=null,uh=!1,oo=!1,Ws=!1,ch=0,Kl=0,lo=null,jI=0;function fe(){throw Error(r(321))}function mm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Sn(n[a],i[a]))return!1;return!0}function pm(n,i,a,l,f,d){return $i=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=n===null||n.memoizedState===null?wv:Nm,Ws=!1,d=a(l,f),Ws=!1,oo&&(d=H_(i,a,l,f)),F_(n),d}function F_(n){Y.H=Xl;var i=Wt!==null&&Wt.next!==null;if($i=0,we=Wt=It=null,uh=!1,Kl=0,lo=null,i)throw Error(r(300));n===null||Ie||(n=n.dependencies,n!==null&&th(n)&&(Ie=!0))}function H_(n,i,a,l){It=n;var f=0;do{if(oo&&(lo=null),Kl=0,oo=!1,25<=f)throw Error(r(301));if(f+=1,we=Wt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Iv,d=i(a,l)}while(oo);return d}function FI(){var n=Y.H,i=n.useState()[0];return i=typeof i.then=="function"?Ql(i):i,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(It.flags|=1024),i}function gm(){var n=ch!==0;return ch=0,n}function ym(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function _m(n){if(uh){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uh=!1}$i=0,we=Wt=It=null,oo=!1,Kl=ch=0,lo=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?It.memoizedState=we=n:we=we.next=n,we}function _e(){if(Wt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var i=we===null?It.memoizedState:we.next;if(i!==null)we=i,Wt=n;else{if(n===null)throw It.alternate===null?Error(r(467)):Error(r(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?It.memoizedState=we=n:we=we.next=n}return we}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(n){var i=Kl;return Kl+=1,lo===null&&(lo=[]),n=x_(lo,n,i),i=It,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?wv:Nm),n}function fh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ql(n);if(n.$$typeof===W)return Ye(n)}throw Error(r(438,String(n)))}function vm(n){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hh(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function Ji(n,i){return typeof i=="function"?i(n):i}function dh(n){var i=_e();return Em(i,Wt,n)}function Em(n,i,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var S=_=null,C=null,B=i,G=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Vt&$)===$:($i&$)===$){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===no&&(G=!0);else if(($i&q)===q){B=B.next,q===no&&(G=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=$,_=d):C=C.next=$,It.lanes|=q,Hr|=q;$=B.action,Ws&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=q,_=d):C=C.next=q,It.lanes|=$,Hr|=$;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=S,!Sn(d,n.memoizedState)&&(Ie=!0,G&&(a=io,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Tm(n){var i=_e(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Sn(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function G_(n,i,a){var l=It,f=_e(),d=kt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Sn((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,bm(Y_.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},Q_.bind(null,l,f,a,i),null),ne===null)throw Error(r(349));d||($i&127)!==0||K_(l,i,a)}return a}function K_(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=hh(),It.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Q_(n,i,a,l){i.value=a,i.getSnapshot=l,X_(i)&&$_(n)}function Y_(n,i,a){return a(function(){X_(i)&&$_(n)})}function X_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Sn(n,a)}catch{return!0}}function $_(n){var i=Hs(n,2);i!==null&&yn(i,n,2)}function Sm(n){var i=on();if(typeof n=="function"){var a=n;if(n=a(),Ws){Mn(!0);try{a()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},i}function J_(n,i,a,l){return n.baseState=a,Em(n,Wt,typeof l=="function"?l:Ji)}function HI(n,i,a,l,f){if(gh(n))throw Error(r(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Z_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Z_(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(f,l),C=Y.S;C!==null&&C(_,S),W_(n,i,S)}catch(B){Am(n,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(f,l),W_(n,i,d)}catch(B){Am(n,i,B)}}function W_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){tv(n,i,l)},function(l){return Am(n,i,l)}):tv(n,i,a)}function tv(n,i,a){i.status="fulfilled",i.value=a,ev(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Z_(n,a)))}function Am(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ev(i),i=i.next;while(i!==l)}n.action=null}function ev(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function nv(n,i){return i}function iv(n,i){if(kt){var a=ne.formState;if(a!==null){t:{var l=It;if(kt){if(ie){e:{for(var f=ie,d=jn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Hn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ie=Hn(f.nextSibling),l=f.data==="F!";break t}}Pr(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:i},a.queue=l,a=Sv.bind(null,It,l),l.dispatch=a,l=Sm(!1),d=Dm.bind(null,It,!1,l.queue),l=on(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=HI.bind(null,It,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function rv(n){var i=_e();return sv(i,Wt,n)}function sv(n,i,a){if(i=Em(n,i,nv)[0],n=dh(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ql(i)}catch(_){throw _===ro?ih:_}else l=i;i=_e();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(It.flags|=2048,uo(9,{destroy:void 0},GI.bind(null,f,a),null)),[l,d,n]}function GI(n,i){n.action=i}function av(n){var i=_e(),a=Wt;if(a!==null)return sv(i,a,n);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function uo(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=hh(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function ov(){return _e().memoizedState}function mh(n,i,a,l){var f=on();It.flags|=n,f.memoizedState=uo(1|i,{destroy:void 0},a,l===void 0?null:l)}function ph(n,i,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&mm(l,Wt.memoizedState.deps)?f.memoizedState=uo(i,d,a,l):(It.flags|=n,f.memoizedState=uo(1|i,d,a,l))}function lv(n,i){mh(8390656,8,n,i)}function bm(n,i){ph(2048,8,n,i)}function KI(n){It.flags|=4;var i=It.updateQueue;if(i===null)i=hh(),It.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function uv(n){var i=_e().memoizedState;return KI({ref:i,nextImpl:n}),function(){if((Ft&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function cv(n,i){return ph(4,2,n,i)}function hv(n,i){return ph(4,4,n,i)}function fv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function dv(n,i,a){a=a!=null?a.concat([n]):null,ph(4,4,fv.bind(null,i,n),a)}function wm(){}function mv(n,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&mm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function pv(n,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&mm(i,l[1]))return l[0];if(l=n(),Ws){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,i],l}function Im(n,i,a){return a===void 0||($i&1073741824)!==0&&(Vt&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=gE(),It.lanes|=n,Hr|=n,a)}function gv(n,i,a,l){return Sn(a,i)?a:ao.current!==null?(n=Im(n,a,l),Sn(n,i)||(Ie=!0),n):($i&42)===0||($i&1073741824)!==0&&(Vt&261930)===0?(Ie=!0,n.memoizedState=a):(n=gE(),It.lanes|=n,Hr|=n,i)}function yv(n,i,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,Dm(n,!1,i,a);try{var C=f(),B=Y.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=qI(C,l);Yl(n,i,G,Cn(n))}else Yl(n,i,l,Cn(n))}catch($){Yl(n,i,{then:function(){},status:"rejected",reason:$},Cn())}finally{ot.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function QI(){}function Rm(n,i,a,l){if(n.tag!==5)throw Error(r(476));var f=_v(n).queue;yv(n,f,i,_t,a===null?QI:function(){return vv(n),a(l)})}function _v(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:_t},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function vv(n){var i=_v(n);i.next===null&&(i=n.alternate.memoizedState),Yl(n,i.next.queue,{},Cn())}function Cm(){return Ye(hu)}function Ev(){return _e().memoizedState}function Tv(){return _e().memoizedState}function YI(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();n=Ur(a);var l=zr(i,n,a);l!==null&&(yn(l,i,a),Fl(l,i,a)),i={cache:im()},n.payload=i;return}i=i.return}}function XI(n,i,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gh(n)?Av(i,a):(a=Kd(n,i,a,l),a!==null&&(yn(a,n,l),bv(a,i,l)))}function Sv(n,i,a){var l=Cn();Yl(n,i,a,l)}function Yl(n,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gh(n))Av(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,Sn(S,_))return $c(n,i,f,0),ne===null&&Xc(),!1}catch{}finally{}if(a=Kd(n,i,f,l),a!==null)return yn(a,n,l),bv(a,i,l),!0}return!1}function Dm(n,i,a,l){if(l={lane:2,revertLane:op(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gh(n)){if(i)throw Error(r(479))}else i=Kd(n,a,l,2),i!==null&&yn(i,n,2)}function gh(n){var i=n.alternate;return n===It||i!==null&&i===It}function Av(n,i){oo=uh=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function bv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,gl(n,a)}}var Xl={readContext:Ye,use:fh,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Xl.useEffectEvent=fe;var wv={readContext:Ye,use:fh,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:Ye,useEffect:lv,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,mh(4194308,4,fv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return mh(4194308,4,n,i)},useInsertionEffect:function(n,i){mh(4,2,n,i)},useMemo:function(n,i){var a=on();i=i===void 0?null:i;var l=n();if(Ws){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=on();if(a!==void 0){var f=a(i);if(Ws){Mn(!0);try{a(i)}finally{Mn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=XI.bind(null,It,n),[l.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=Sm(n);var i=n.queue,a=Sv.bind(null,It,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:wm,useDeferredValue:function(n,i){var a=on();return Im(a,n,i)},useTransition:function(){var n=Sm(!1);return n=yv.bind(null,It,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=It,f=on();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(Vt&127)!==0||K_(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,lv(Y_.bind(null,l,d,n),[n]),l.flags|=2048,uo(9,{destroy:void 0},Q_.bind(null,l,d,a,i),null),a},useId:function(){var n=on(),i=ne.identifierPrefix;if(kt){var a=Oi,l=Ni;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ch++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=jI++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Cm,useFormState:iv,useActionState:iv,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Dm.bind(null,It,!0,a),a.dispatch=i,[n,i]},useMemoCache:vm,useCacheRefresh:function(){return on().memoizedState=YI.bind(null,It)},useEffectEvent:function(n){var i=on(),a={impl:n};return i.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Nm={readContext:Ye,use:fh,useCallback:mv,useContext:Ye,useEffect:bm,useImperativeHandle:dv,useInsertionEffect:cv,useLayoutEffect:hv,useMemo:pv,useReducer:dh,useRef:ov,useState:function(){return dh(Ji)},useDebugValue:wm,useDeferredValue:function(n,i){var a=_e();return gv(a,Wt.memoizedState,n,i)},useTransition:function(){var n=dh(Ji)[0],i=_e().memoizedState;return[typeof n=="boolean"?n:Ql(n),i]},useSyncExternalStore:G_,useId:Ev,useHostTransitionStatus:Cm,useFormState:rv,useActionState:rv,useOptimistic:function(n,i){var a=_e();return J_(a,Wt,n,i)},useMemoCache:vm,useCacheRefresh:Tv};Nm.useEffectEvent=uv;var Iv={readContext:Ye,use:fh,useCallback:mv,useContext:Ye,useEffect:bm,useImperativeHandle:dv,useInsertionEffect:cv,useLayoutEffect:hv,useMemo:pv,useReducer:Tm,useRef:ov,useState:function(){return Tm(Ji)},useDebugValue:wm,useDeferredValue:function(n,i){var a=_e();return Wt===null?Im(a,n,i):gv(a,Wt.memoizedState,n,i)},useTransition:function(){var n=Tm(Ji)[0],i=_e().memoizedState;return[typeof n=="boolean"?n:Ql(n),i]},useSyncExternalStore:G_,useId:Ev,useHostTransitionStatus:Cm,useFormState:av,useActionState:av,useOptimistic:function(n,i){var a=_e();return Wt!==null?J_(a,Wt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:vm,useCacheRefresh:Tv};Iv.useEffectEvent=uv;function Om(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Vm={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Cn(),f=Ur(l);f.payload=i,a!=null&&(f.callback=a),i=zr(n,f,l),i!==null&&(yn(i,n,l),Fl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Cn(),f=Ur(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=zr(n,f,l),i!==null&&(yn(i,n,l),Fl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Cn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=zr(n,l,a),i!==null&&(yn(i,n,a),Fl(i,n,a))}};function Rv(n,i,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Pl(a,l)||!Pl(f,d):!0}function Cv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Vm.enqueueReplaceState(i,i.state,null)}function ta(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Dv(n){Yc(n)}function Nv(n){console.error(n)}function Ov(n){Yc(n)}function yh(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mm(n,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){yh(n,i)},a}function Mv(n){return n=Ur(n),n.tag=3,n}function xv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Vv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Vv(i,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $I(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&eo(i,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Dh():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rp(n,l,f)),!1;case 22:return a.flags|=65536,l===rh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rp(n,l,f)),!1}throw Error(r(435,a.tag))}return rp(n,l,f),Dh(),!1}if(kt)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Zd&&(n=Error(r(422),{cause:l}),Ul(zn(n,a)))):(l!==Zd&&(i=Error(r(423),{cause:l}),Ul(zn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=zn(l,a),f=Mm(n.stateNode,l,f),um(n,f),de!==4&&(de=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,a),iu===null?iu=[d]:iu.push(d),de!==4&&(de=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Mm(a.stateNode,l,n),um(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Mv(f),xv(f,n,a,l),um(a,f),!1}a=a.return}while(a!==null);return!1}var xm=Error(r(461)),Ie=!1;function Xe(n,i,a,l){i.child=n===null?U_(i,null,a,l):Zs(i,n.child,a,l)}function Pv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ys(i),l=pm(n,i,a,_,d,f),S=gm(),n!==null&&!Ie?(ym(n,i,f),Zi(n,i,f)):(kt&&S&&$d(i),i.flags|=1,Xe(n,i,l,f),i.child)}function kv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Qd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Lv(n,i,d,l,f)):(n=Zc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!jm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(_,l)&&n.ref===i.ref)return Zi(n,i,f)}return i.flags|=1,n=Ki(d,l),n.ref=i.ref,n.return=i,i.child=n}function Lv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(Pl(d,l)&&n.ref===i.ref)if(Ie=!1,i.pendingProps=l=d,jm(n,f))(n.flags&131072)!==0&&(Ie=!0);else return i.lanes=n.lanes,Zi(n,i,f)}return Pm(n,i,a,l,f)}function Uv(n,i,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return zv(n,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&nh(i,d!==null?d.cachePool:null),d!==null?q_(i,d):hm(),j_(i);else return l=i.lanes=536870912,zv(n,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nh(i,d.cachePool),q_(i,d),qr(),i.memoizedState=null):(n!==null&&nh(i,null),hm(),qr());return Xe(n,i,f,a),i.child}function $l(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zv(n,i,a,l,f){var d=sm();return d=d===null?null:{parent:be._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&nh(i,null),hm(),j_(i),n!==null&&eo(n,i,l,!0),i.childLanes=f,null}function _h(n,i){return i=Eh({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Bv(n,i,a){return Zs(i,n.child,null,a),n=_h(i,i.pendingProps),n.flags|=2,wn(i),i.memoizedState=null,n}function JI(n,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(kt){if(l.mode==="hidden")return n=_h(i,l),i.lanes=536870912,$l(null,n);if(dm(i),(n=ie)?(n=ZE(n,jn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Mr!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=A_(n),a.return=i,i.child=a,Qe=i,ie=null)):n=null,n===null)throw Pr(i);return i.lanes=536870912,null}return _h(i,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(dm(i),f)if(i.flags&256)i.flags&=-257,i=Bv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ie||eo(n,i,a,!1),f=(a&n.childLanes)!==0,Ie||f){if(l=ne,l!==null&&(_=yl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Hs(n,_),yn(l,n,_),xm;Dh(),i=Bv(n,i,a)}else n=d.treeContext,ie=Hn(_.nextSibling),Qe=i,kt=!0,xr=null,jn=!1,n!==null&&I_(i,n),i=_h(i,l),i.flags|=4096;return i}return n=Ki(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function vh(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Pm(n,i,a,l,f){return Ys(i),a=pm(n,i,a,l,void 0,f),l=gm(),n!==null&&!Ie?(ym(n,i,f),Zi(n,i,f)):(kt&&l&&$d(i),i.flags|=1,Xe(n,i,a,f),i.child)}function qv(n,i,a,l,f,d){return Ys(i),i.updateQueue=null,a=H_(i,l,a,f),F_(n),l=gm(),n!==null&&!Ie?(ym(n,i,d),Zi(n,i,d)):(kt&&l&&$d(i),i.flags|=1,Xe(n,i,a,d),i.child)}function jv(n,i,a,l,f){if(Ys(i),i.stateNode===null){var d=Ja,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ye(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},om(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ye(_):Ja,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Om(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Vm.enqueueReplaceState(d,d.state,null),Gl(i,l,d,f),Hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var S=i.memoizedProps,C=ta(a,S);d.props=C;var B=d.context,G=a.contextType;_=Ja,typeof G=="object"&&G!==null&&(_=Ye(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Cv(i,d,l,_),Lr=!1;var q=i.memoizedState;d.state=q,Gl(i,l,d,f),Hl(),B=i.memoizedState,S||q!==B||Lr?(typeof $=="function"&&(Om(i,a,$,l),B=i.memoizedState),(C=Lr||Rv(i,a,C,l,q,B,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,lm(n,i),_=i.memoizedProps,G=ta(a,_),d.props=G,$=i.pendingProps,q=d.context,B=a.contextType,C=Ja,typeof B=="object"&&B!==null&&(C=Ye(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||q!==C)&&Cv(i,d,l,C),Lr=!1,q=i.memoizedState,d.state=q,Gl(i,l,d,f),Hl();var F=i.memoizedState;_!==$||q!==F||Lr||n!==null&&n.dependencies!==null&&th(n.dependencies)?(typeof S=="function"&&(Om(i,a,S,l),F=i.memoizedState),(G=Lr||Rv(i,a,G,l,q,F,C)||n!==null&&n.dependencies!==null&&th(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,vh(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Zs(i,n.child,null,f),i.child=Zs(i,null,a,f)):Xe(n,i,a,f),i.memoizedState=d.state,n=i.child):n=Zi(n,i,f),n}function Fv(n,i,a,l){return Ks(),i.flags|=256,Xe(n,i,a,l),i.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lm(n){return{baseLanes:n,cachePool:V_()}}function Um(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Rn),n}function Hv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(ye.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(kt){if(f?Br(i):qr(),(n=ie)?(n=ZE(n,jn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Mr!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=A_(n),a.return=i,i.child=a,Qe=i,ie=null)):n=null,n===null)throw Pr(i);return Ep(n)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(qr(),f=i.mode,S=Eh({mode:"hidden",children:S},f),l=Gs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Lm(a),l.childLanes=Um(n,_,a),i.memoizedState=km,$l(null,l)):(Br(i),zm(i,S))}var C=n.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(Br(i),i.flags&=-257,i=Bm(n,i,a)):i.memoizedState!==null?(qr(),i.child=n.child,i.flags|=128,i=null):(qr(),S=l.fallback,f=i.mode,l=Eh({mode:"visible",children:l.children},f),S=Gs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Zs(i,n.child,null,a),l=i.child,l.memoizedState=Lm(a),l.childLanes=Um(n,_,a),i.memoizedState=km,i=$l(null,l));else if(Br(i),Ep(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Ul({value:l,source:null,stack:null}),i=Bm(n,i,a)}else if(Ie||eo(n,i,a,!1),_=(a&n.childLanes)!==0,Ie||_){if(_=ne,_!==null&&(l=yl(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Hs(n,l),yn(_,n,l),xm;vp(S)||Dh(),i=Bm(n,i,a)}else vp(S)?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,ie=Hn(S.nextSibling),Qe=i,kt=!0,xr=null,jn=!1,n!==null&&I_(i,n),i=zm(i,l.children),i.flags|=4096);return i}return f?(qr(),S=l.fallback,f=i.mode,C=n.child,B=C.sibling,l=Ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?S=Ki(B,S):(S=Gs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,$l(null,l),l=i.child,S=n.child.memoizedState,S===null?S=Lm(a):(f=S.cachePool,f!==null?(C=be._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=V_(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Um(n,_,a),i.memoizedState=km,$l(n.child,l)):(Br(i),a=n.child,n=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function zm(n,i){return i=Eh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Eh(n,i){return n=An(22,n,null,i),n.lanes=0,n}function Bm(n,i,a){return Zs(i,n.child,null,a),n=zm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Gv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),em(n.return,i,a)}function qm(n,i,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Kv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,lt(ye,_),Xe(n,i,l,a),l=kt?Ll:0,!S&&n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gv(n,a,i);else if(n.tag===19)Gv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&lh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),qm(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&lh(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}qm(i,!0,a,null,d,l);break;case"together":qm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(eo(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=Ki(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ki(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function jm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&th(n)))}function ZI(n,i,a){switch(i.tag){case 3:xe(i,i.stateNode.containerInfo),kr(i,be,n.memoizedState.cache),Ks();break;case 27:case 5:Is(i);break;case 4:xe(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,dm(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hv(n,i,a):(Br(i),n=Zi(n,i,a),n!==null?n.sibling:null);Br(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(eo(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Kv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(ye,ye.current),l)break;return null;case 22:return i.lanes=0,Uv(n,i,a,i.pendingProps);case 24:kr(i,be,n.memoizedState.cache)}return Zi(n,i,a)}function Qv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ie=!0;else{if(!jm(n,a)&&(i.flags&128)===0)return Ie=!1,ZI(n,i,a);Ie=(n.flags&131072)!==0}else Ie=!1,kt&&(i.flags&1048576)!==0&&w_(i,Ll,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(n=$s(i.elementType),i.type=n,typeof n=="function")Qd(n)?(l=ta(n,l),i.tag=1,i=jv(null,i,n,l,a)):(i.tag=0,i=Pm(null,i,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ut){i.tag=11,i=Pv(null,i,n,l,a);break t}else if(f===I){i.tag=14,i=kv(null,i,n,l,a);break t}}throw i=se(n)||n,Error(r(306,i,""))}}return i;case 0:return Pm(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ta(l,i.pendingProps),jv(n,i,l,f,a);case 3:t:{if(xe(i,i.stateNode.containerInfo),n===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,lm(n,i),Gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,be,l),l!==d.cache&&nm(i,[be],a,!0),Hl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Fv(n,i,l,a);break t}else if(l!==f){f=zn(Error(r(424)),i),Ul(f),i=Fv(n,i,l,a);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ie=Hn(n.firstChild),Qe=i,kt=!0,xr=null,jn=!0,a=U_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ks(),l===f){i=Zi(n,i,a);break t}Xe(n,i,l,a)}i=i.child}return i;case 26:return vh(n,i),n===null?(a=rT(i.type,null,i.pendingProps,null))?i.memoizedState=a:kt||(a=i.type,n=i.pendingProps,l=kh(Rt.current).createElement(a),l[Te]=i,l[Be]=n,$e(l,a,n),Se(l),i.stateNode=l):i.memoizedState=rT(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Is(i),n===null&&kt&&(l=i.stateNode=eT(i.type,i.pendingProps,Rt.current),Qe=i,jn=!0,f=ie,Xr(i.type)?(Tp=f,ie=Hn(l.firstChild)):ie=f),Xe(n,i,i.pendingProps.children,a),vh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&kt&&((f=l=ie)&&(l=C1(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Qe=i,ie=Hn(l.firstChild),jn=!1,f=!0):f=!1),f||Pr(i)),Is(i),f=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,gp(f,d)?l=null:_!==null&&gp(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=pm(n,i,FI,null,null,a),hu._currentValue=f),vh(n,i),Xe(n,i,l,a),i.child;case 6:return n===null&&kt&&((n=a=ie)&&(a=D1(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Qe=i,ie=null,n=!0):n=!1),n||Pr(i)),null;case 13:return Hv(n,i,a);case 4:return xe(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Zs(i,null,l,a):Xe(n,i,l,a),i.child;case 11:return Pv(n,i,i.type,i.pendingProps,a);case 7:return Xe(n,i,i.pendingProps,a),i.child;case 8:return Xe(n,i,i.pendingProps.children,a),i.child;case 12:return Xe(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Xe(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ys(i),f=Ye(f),l=l(f),i.flags|=1,Xe(n,i,l,a),i.child;case 14:return kv(n,i,i.type,i.pendingProps,a);case 15:return Lv(n,i,i.type,i.pendingProps,a);case 19:return Kv(n,i,a);case 31:return JI(n,i,a);case 22:return Uv(n,i,a,i.pendingProps);case 24:return Ys(i),l=Ye(be),n===null?(f=sm(),f===null&&(f=ne,d=im(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},om(i),kr(i,be,f)):((n.lanes&a)!==0&&(lm(n,i),Gl(i,null,null,a),Hl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),kr(i,be,l)):(l=d.cache,kr(i,be,l),l!==f.cache&&nm(i,[be],a,!0))),Xe(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Wi(n){n.flags|=4}function Fm(n,i,a,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(EE())n.flags|=8192;else throw Js=rh,am}else n.flags&=-16777217}function Yv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!uT(i))if(EE())n.flags|=8192;else throw Js=rh,am}function Th(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Rc():536870912,n.lanes|=i,mo|=i)}function Jl(n,i){if(!kt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function re(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function WI(n,i,a){var l=i.pendingProps;switch(Jd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(be),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(to(i)?Wi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wd())),re(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(Wi(i),d!==null?(re(i),Yv(i,d)):(re(i),Fm(i,f,null,l,a))):d?d!==n.memoizedState?(Wi(i),re(i),Yv(i,d)):(re(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&Wi(i),re(i),Fm(i,f,n,l,a)),null;case 27:if(Va(i),a=Rt.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}n=ht.current,to(i)?R_(i):(n=eT(f,l,a),i.stateNode=n,Wi(i))}return re(i),null;case 5:if(Va(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}if(d=ht.current,to(i))R_(i);else{var _=kh(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Te]=i,d[Be]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch($e(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Wi(i)}}return re(i),Fm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(n=Rt.current,to(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Qe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Te]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||HE(n.nodeValue,a)),n||Pr(i,!0)}else n=kh(n).createTextNode(l),n[Te]=i,i.stateNode=n}return re(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=to(i),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Te]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),n=!1}else a=Wd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return re(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=to(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Te]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),f=!1}else f=Wd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Th(i,i.updateQueue),re(i),null);case 4:return ae(),n===null&&hp(i.stateNode.containerInfo),re(i),null;case 10:return Xi(i.type),re(i),null;case 19:if(J(ye),l=i.memoizedState,l===null)return re(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Jl(l,!1);else{if(de!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=lh(n),d!==null){for(i.flags|=128,Jl(l,!1),n=d.updateQueue,i.updateQueue=n,Th(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)S_(a,n),a=a.sibling;return lt(ye,ye.current&1|2),kt&&Qi(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&sn()>Ih&&(i.flags|=128,f=!0,Jl(l,!1),i.lanes=4194304)}else{if(!f)if(n=lh(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Th(i,n),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return re(i),null}else 2*sn()-l.renderingStartTime>Ih&&a!==536870912&&(i.flags|=128,f=!0,Jl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(n=l.last,n!==null?n.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=sn(),n.sibling=null,a=ye.current,lt(ye,f?a&1|2:a&1),kt&&Qi(i,l.treeForkCount),n):(re(i),null);case 22:case 23:return wn(i),fm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Th(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&J(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(be),re(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function t1(n,i){switch(Jd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Xi(be),ae(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Va(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(r(340));Ks()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(wn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ks()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return J(ye),null;case 4:return ae(),null;case 10:return Xi(i.type),null;case 22:case 23:return wn(i),fm(),n!==null&&J(Xs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Xi(be),null;case 25:return null;default:return null}}function Xv(n,i){switch(Jd(i),i.tag){case 3:Xi(be),ae();break;case 26:case 27:case 5:Va(i);break;case 4:ae();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:J(ye);break;case 10:Xi(i.type);break;case 22:case 23:wn(i),fm(),n!==null&&J(Xs);break;case 24:Xi(be)}}function Zl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Yt(i,i.return,S)}}function jr(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var C=a,B=S;try{B()}catch(G){Yt(f,C,G)}}}l=l.next}while(l!==d)}}catch(G){Yt(i,i.return,G)}}function $v(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{B_(i,a)}catch(l){Yt(n,n.return,l)}}}function Jv(n,i,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(n,i,l)}}function Wl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Yt(n,i,f)}}function Vi(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Yt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Yt(n,i,f)}else a.current=null}function Zv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Yt(n,n.return,f)}}function Hm(n,i,a){try{var l=n.stateNode;S1(l,n.type,a,i),l[Be]=i}catch(f){Yt(n,n.return,f)}}function Wv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xr(n.type)||n.tag===4}function Gm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Km(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&Xr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Km(n,i,a),n=n.sibling;n!==null;)Km(n,i,a),n=n.sibling}function Sh(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Xr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sh(n,i,a),n=n.sibling;n!==null;)Sh(n,i,a),n=n.sibling}function tE(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);$e(i,l,a),i[Te]=n,i[Be]=a}catch(d){Yt(n,n.return,d)}}var tr=!1,Re=!1,Qm=!1,eE=typeof WeakSet=="function"?WeakSet:Set,je=null;function e1(n,i){if(n=n.containerInfo,mp=Fh,n=d_(n),Bd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,C=-1,B=0,G=0,$=n,q=null;e:for(;;){for(var F;$!==a||f!==0&&$.nodeType!==3||(S=_+f),$!==d||l!==0&&$.nodeType!==3||(C=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===n)break e;if(q===a&&++B===f&&(S=_),q===d&&++G===l&&(C=_),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pp={focusedElem:n,selectionRange:a},Fh=!1,je=i;je!==null;)if(i=je,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,je=n;else for(;je!==null;){switch(i=je,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=ta(a.type,f);n=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)_p(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_p(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,je=n;break}je=i.return}}function nE(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(n,a),l&4&&Zl(5,a);break;case 1:if(nr(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var f=ta(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&$v(a),l&512&&Wl(a,a.return);break;case 3:if(nr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{B_(n,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&tE(a);case 26:case 5:nr(n,a),i===null&&l&4&&Zv(a),l&512&&Wl(a,a.return);break;case 12:nr(n,a);break;case 31:nr(n,a),l&4&&sE(n,a);break;case 13:nr(n,a),l&4&&aE(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=c1.bind(null,a),N1(n,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||Re,f=tr;var d=Re;tr=l,(Re=i)&&!d?ir(n,a,(a.subtreeFlags&8772)!==0):nr(n,a),tr=f,Re=d}break;case 30:break;default:nr(n,a)}}function iE(n){var i=n.alternate;i!==null&&(n.alternate=null,iE(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&La(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var le=null,dn=!1;function er(n,i,a){for(a=a.child;a!==null;)rE(n,i,a),a=a.sibling}function rE(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Re||Vi(a,i),er(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Vi(a,i);var l=le,f=dn;Xr(a.type)&&(le=a.stateNode,dn=!1),er(n,i,a),lu(a.stateNode),le=l,dn=f;break;case 5:Re||Vi(a,i);case 6:if(l=le,f=dn,le=null,er(n,i,a),le=l,dn=f,le!==null)if(dn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:le!==null&&(dn?(n=le,$E(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),So(n)):$E(le,a.stateNode));break;case 4:l=le,f=dn,le=a.stateNode.containerInfo,dn=!0,er(n,i,a),le=l,dn=f;break;case 0:case 11:case 14:case 15:jr(2,a,i),Re||jr(4,a,i),er(n,i,a);break;case 1:Re||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jv(a,i,l)),er(n,i,a);break;case 21:er(n,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,er(n,i,a),Re=l;break;default:er(n,i,a)}}function sE(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{So(n)}catch(a){Yt(i,i.return,a)}}}function aE(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{So(n)}catch(a){Yt(i,i.return,a)}}function n1(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new eE),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new eE),i;default:throw Error(r(435,n.tag))}}function Ah(n,i){var a=n1(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=h1.bind(null,n,l);l.then(f,f)}})}function mn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Xr(S.type)){le=S.stateNode,dn=!1;break t}break;case 5:le=S.stateNode,dn=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,dn=!0;break t}S=S.return}if(le===null)throw Error(r(160));rE(d,_,f),le=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)oE(i,n),i=i.sibling}var ai=null;function oE(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:mn(i,n),pn(n),l&4&&(jr(3,n,n.return),Zl(3,n),jr(5,n,n.return));break;case 1:mn(i,n),pn(n),l&512&&(Re||a===null||Vi(a,a.return)),l&64&&tr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(mn(i,n),pn(n),l&512&&(Re||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$e(d,l,a),d[Te]=n,Se(d),l=d;break t;case"link":var _=oT("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;case"meta":if(_=oT("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),$e(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=n,Se(d),l=d}n.stateNode=l}else lT(f,n.type,n.stateNode);else n.stateNode=aT(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lT(f,n.type,n.stateNode):aT(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Hm(n,n.memoizedProps,a.memoizedProps)}break;case 27:mn(i,n),pn(n),l&512&&(Re||a===null||Vi(a,a.return)),a!==null&&l&4&&Hm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,n),pn(n),l&512&&(Re||a===null||Vi(a,a.return)),n.flags&32){f=n.stateNode;try{fn(f,"")}catch(ft){Yt(n,n.return,ft)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Hm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Qm=!0);break;case 6:if(mn(i,n),pn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ft){Yt(n,n.return,ft)}}break;case 3:if(zh=null,f=ai,ai=Lh(i.containerInfo),mn(i,n),ai=f,pn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(ft){Yt(n,n.return,ft)}Qm&&(Qm=!1,lE(n));break;case 4:l=ai,ai=Lh(n.stateNode.containerInfo),mn(i,n),pn(n),ai=l;break;case 12:mn(i,n),pn(n);break;case 31:mn(i,n),pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ah(n,l)));break;case 13:mn(i,n),pn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wh=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ah(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=tr,G=Re;if(tr=B||f,Re=G||C,mn(i,n),Re=G,tr=B,pn(n),l&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||tr||Re||ea(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ft){Yt(C,C.return,ft)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(ft){Yt(C,C.return,ft)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;f?JE(F,!0):JE(C.stateNode,!1)}catch(ft){Yt(C,C.return,ft)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ah(n,a))));break;case 19:mn(i,n),pn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ah(n,l)));break;case 30:break;case 21:break;default:mn(i,n),pn(n)}}function pn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Wv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Gm(n);Sh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var S=Gm(n);Sh(n,S,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Gm(n);Km(n,B,C);break;default:throw Error(r(161))}}catch(G){Yt(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function lE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;lE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function nr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nE(n,i.alternate,i),i=i.sibling}function ea(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),ea(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jv(i,i.return,a),ea(i);break;case 27:lu(i.stateNode);case 26:case 5:Vi(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}n=n.sibling}}function ir(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(f,d,a),Zl(4,d);break;case 1:if(ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)z_(C[f],S)}catch(B){Yt(l,l.return,B)}}a&&_&64&&$v(d),Wl(d,d.return);break;case 27:tE(d);case 26:case 5:ir(f,d,a),a&&l===null&&_&4&&Zv(d),Wl(d,d.return);break;case 12:ir(f,d,a);break;case 31:ir(f,d,a),a&&_&4&&sE(f,d);break;case 13:ir(f,d,a),a&&_&4&&aE(f,d);break;case 22:d.memoizedState===null&&ir(f,d,a),Wl(d,d.return);break;case 30:break;default:ir(f,d,a)}i=i.sibling}}function Ym(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&zl(a))}function Xm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&zl(n))}function oi(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uE(n,i,a,l),i=i.sibling}function uE(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:oi(n,i,a,l),f&2048&&Zl(9,i);break;case 1:oi(n,i,a,l);break;case 3:oi(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&zl(n)));break;case 12:if(f&2048){oi(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Yt(i,i.return,C)}}else oi(n,i,a,l);break;case 31:oi(n,i,a,l);break;case 13:oi(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?oi(n,i,a,l):tu(n,i):d._visibility&2?oi(n,i,a,l):(d._visibility|=2,co(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ym(_,i);break;case 24:oi(n,i,a,l),f&2048&&Xm(i.alternate,i);break;default:oi(n,i,a,l)}}function co(n,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,_=i,S=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:co(d,_,S,C,f),Zl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?co(d,_,S,C,f):tu(d,_):(G._visibility|=2,co(d,_,S,C,f)),f&&B&2048&&Ym(_.alternate,_);break;case 24:co(d,_,S,C,f),f&&B&2048&&Xm(_.alternate,_);break;default:co(d,_,S,C,f)}i=i.sibling}}function tu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:tu(a,l),f&2048&&Ym(l.alternate,l);break;case 24:tu(a,l),f&2048&&Xm(l.alternate,l);break;default:tu(a,l)}i=i.sibling}}var eu=8192;function ho(n,i,a){if(n.subtreeFlags&eu)for(n=n.child;n!==null;)cE(n,i,a),n=n.sibling}function cE(n,i,a){switch(n.tag){case 26:ho(n,i,a),n.flags&eu&&n.memoizedState!==null&&j1(a,ai,n.memoizedState,n.memoizedProps);break;case 5:ho(n,i,a);break;case 3:case 4:var l=ai;ai=Lh(n.stateNode.containerInfo),ho(n,i,a),ai=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=eu,eu=16777216,ho(n,i,a),eu=l):ho(n,i,a));break;default:ho(n,i,a)}}function hE(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function nu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,dE(l,n)}hE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fE(n),n=n.sibling}function fE(n){switch(n.tag){case 0:case 11:case 15:nu(n),n.flags&2048&&jr(9,n,n.return);break;case 3:nu(n);break;case 12:nu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,bh(n)):nu(n);break;default:nu(n)}}function bh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,dE(l,n)}hE(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:jr(8,i,i.return),bh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bh(i));break;default:bh(i)}n=n.sibling}}function dE(n,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=n;je!==null;){l=je;var f=l.sibling,d=l.return;if(iE(l),l===a){je=null;break t}if(f!==null){f.return=d,je=f;break t}je=d}}}var i1={getCacheForType:function(n){var i=Ye(be),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return Ye(be).controller.signal}},r1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ne=null,Nt=null,Vt=0,Qt=0,In=null,Fr=!1,fo=!1,$m=!1,rr=0,de=0,Hr=0,na=0,Jm=0,Rn=0,mo=0,iu=null,gn=null,Zm=!1,wh=0,mE=0,Ih=1/0,Rh=null,Gr=null,ke=0,Kr=null,po=null,sr=0,Wm=0,tp=null,pE=null,ru=0,ep=null;function Cn(){return(Ft&2)!==0&&Vt!==0?Vt&-Vt:Y.T!==null?op():Cc()}function gE(){if(Rn===0)if((Vt&536870912)===0||kt){var n=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),Rn=n}else Rn=536870912;return n=bn.current,n!==null&&(n.flags|=32),Rn}function yn(n,i,a){(n===ne&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)&&(go(n,0),Qr(n,Vt,Rn,!1)),Ns(n,a),((Ft&2)===0||n!==ne)&&(n===ne&&((Ft&2)===0&&(na|=a),de===4&&Qr(n,Vt,Rn,!1)),Mi(n))}function yE(n,i,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||Jn(n,i),f=l?o1(n,i):ip(n,i,!0),d=l;do{if(f===0){fo&&!l&&Qr(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!s1(a)){f=ip(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=n;f=iu;var C=S.current.memoizedState.isDehydrated;if(C&&(go(S,_).flags|=256),_=ip(S,_,!1),_!==2){if($m&&!C){S.errorRecoveryDisabledLanes|=d,na|=d,f=4;break t}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){go(n,0),Qr(n,i,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,Rn,!Fr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=wh+300-sn(),10<f)){if(Qr(l,i,Rn,!Fr),pi(l,0,!0)!==0)break t;sr=i,l.timeoutHandle=YE(_E.bind(null,l,a,gn,Rh,Zm,i,Rn,na,mo,Fr,d,"Throttled",-0,0),f);break t}_E(l,a,gn,Rh,Zm,i,Rn,na,mo,Fr,d,null,-0,0)}}break}while(!0);Mi(n)}function _E(n,i,a,l,f,d,_,S,C,B,G,$,q,F){if(n.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},cE(i,d,$);var ft=(d&62914560)===d?wh-sn():(d&4194048)===d?mE-sn():0;if(ft=F1($,ft),ft!==null){sr=d,n.cancelPendingCommit=ft(IE.bind(null,n,i,d,a,l,f,_,S,C,G,$,null,q,F)),Qr(n,d,_,!B);return}}IE(n,i,d,a,l,f,_,S,C)}function s1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(n,i,a,l){i&=~Jm,i&=~na,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-pe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Os(n,a,i)}function Ch(){return(Ft&6)===0?(su(0),!1):!0}function np(){if(Nt!==null){if(Qt===0)var n=Nt.return;else n=Nt,Yi=Qs=null,_m(n),so=null,ql=0,n=Nt;for(;n!==null;)Xv(n.alternate,n),n=n.return;Nt=null}}function go(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,w1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),sr=0,np(),ne=n,Nt=a=Ki(n.current,null),Vt=i,Qt=0,In=null,Fr=!1,fo=Jn(n,i),$m=!1,mo=Rn=Jm=na=Hr=de=0,gn=iu=null,Zm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-pe(l),d=1<<f;i|=n[f],l&=~d}return rr=i,Xc(),a}function vE(n,i){It=null,Y.H=Xl,i===ro||i===ih?(i=P_(),Qt=3):i===am?(i=P_(),Qt=4):Qt=i===xm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Nt===null&&(de=1,yh(n,zn(i,n.current)))}function EE(){var n=bn.current;return n===null?!0:(Vt&4194048)===Vt?Fn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?n===Fn:!1}function TE(){var n=Y.H;return Y.H=Xl,n===null?Xl:n}function SE(){var n=Y.A;return Y.A=i1,n}function Dh(){de=4,Fr||(Vt&4194048)!==Vt&&bn.current!==null||(fo=!0),(Hr&134217727)===0&&(na&134217727)===0||ne===null||Qr(ne,Vt,Rn,!1)}function ip(n,i,a){var l=Ft;Ft|=2;var f=TE(),d=SE();(ne!==n||Vt!==i)&&(Rh=null,go(n,i)),i=!1;var _=de;t:do try{if(Qt!==0&&Nt!==null){var S=Nt,C=In;switch(Qt){case 8:np(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var B=Qt;if(Qt=0,In=null,yo(n,S,C,B),a&&fo){_=0;break t}break;default:B=Qt,Qt=0,In=null,yo(n,S,C,B)}}a1(),_=de;break}catch(G){vE(n,G)}while(!0);return i&&n.shellSuspendCounter++,Yi=Qs=null,Ft=l,Y.H=f,Y.A=d,Nt===null&&(ne=null,Vt=0,Xc()),_}function a1(){for(;Nt!==null;)AE(Nt)}function o1(n,i){var a=Ft;Ft|=2;var l=TE(),f=SE();ne!==n||Vt!==i?(Rh=null,Ih=sn()+500,go(n,i)):fo=Jn(n,i);t:do try{if(Qt!==0&&Nt!==null){i=Nt;var d=In;e:switch(Qt){case 1:Qt=0,In=null,yo(n,i,d,1);break;case 2:case 9:if(M_(d)){Qt=0,In=null,bE(i);break}i=function(){Qt!==2&&Qt!==9||ne!==n||(Qt=7),Mi(n)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:M_(d)?(Qt=0,In=null,bE(i)):(Qt=0,In=null,yo(n,i,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var S=Nt;if(_?uT(_):S.stateNode.complete){Qt=0,In=null;var C=S.sibling;if(C!==null)Nt=C;else{var B=S.return;B!==null?(Nt=B,Nh(B)):Nt=null}break e}}Qt=0,In=null,yo(n,i,d,5);break;case 6:Qt=0,In=null,yo(n,i,d,6);break;case 8:np(),de=6;break t;default:throw Error(r(462))}}l1();break}catch(G){vE(n,G)}while(!0);return Yi=Qs=null,Y.H=l,Y.A=f,Ft=a,Nt!==null?0:(ne=null,Vt=0,Xc(),de)}function l1(){for(;Nt!==null&&!Md();)AE(Nt)}function AE(n){var i=Qv(n.alternate,n,rr);n.memoizedProps=n.pendingProps,i===null?Nh(n):Nt=i}function bE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=qv(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=qv(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:_m(i);default:Xv(a,i),i=Nt=S_(i,rr),i=Qv(a,i,rr)}n.memoizedProps=n.pendingProps,i===null?Nh(n):Nt=i}function yo(n,i,a,l){Yi=Qs=null,_m(i),so=null,ql=0;var f=i.return;try{if($I(n,f,i,a,Vt)){de=1,yh(n,zn(a,n.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;de=1,yh(n,zn(a,n.current)),Nt=null;return}i.flags&32768?(kt||l===1?n=!0:fo||(Vt&536870912)!==0?n=!1:(Fr=n=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wE(i,n)):Nh(i)}function Nh(n){var i=n;do{if((i.flags&32768)!==0){wE(i,Fr);return}n=i.return;var a=WI(i.alternate,i,rr);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=n}while(i!==null);de===0&&(de=5)}function wE(n,i){do{var a=t1(n.alternate,n);if(a!==null){a.flags&=32767,Nt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Nt=n;return}Nt=n=a}while(n!==null);de=6,Nt=null}function IE(n,i,a,l,f,d,_,S,C){n.cancelPendingCommit=null;do Oh();while(ke!==0);if((Ft&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Gd,kd(n,a,d,_,S,C),n===ne&&(Nt=ne=null,Vt=0),po=i,Kr=n,sr=a,Wm=d,tp=f,pE=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,f1(Ar,function(){return OE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ot.p,ot.p=2,_=Ft,Ft|=4;try{e1(n,i,a)}finally{Ft=_,ot.p=f,Y.T=l}}ke=1,RE(),CE(),DE()}}function RE(){if(ke===1){ke=0;var n=Kr,i=po,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ot.p;ot.p=2;var f=Ft;Ft|=4;try{oE(i,n);var d=pp,_=d_(n.containerInfo),S=d.focusedElem,C=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&f_(S.ownerDocument.documentElement,S)){if(C!==null&&Bd(S)){var B=C.start,G=C.end;if(G===void 0&&(G=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(G,S.value.length);else{var $=S.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),ft=S.textContent.length,vt=Math.min(C.start,ft),ee=C.end===void 0?vt:Math.min(C.end,ft);!F.extend&&vt>ee&&(_=ee,ee=vt,vt=_);var P=h_(S,vt),N=h_(S,ee);if(P&&N&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=$.createRange();z.setStart(P.node,P.offset),F.removeAllRanges(),vt>ee?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for($=[],F=S;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var X=$[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Fh=!!mp,pp=mp=null}finally{Ft=f,ot.p=l,Y.T=a}}n.current=i,ke=2}}function CE(){if(ke===2){ke=0;var n=Kr,i=po,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ot.p;ot.p=2;var f=Ft;Ft|=4;try{nE(n,i.alternate,i)}finally{Ft=f,ot.p=l,Y.T=a}}ke=3}}function DE(){if(ke===4||ke===3){ke=0,Tc();var n=Kr,i=po,a=sr,l=pE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,po=Kr=null,NE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gr=null),ji(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,f=ot.p,ot.p=2,Y.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,ot.p=f}}(sr&3)!==0&&Oh(),Mi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===ep?ru++:(ru=0,ep=n):ru=0,su(0)}}function NE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,zl(i)))}function Oh(){return RE(),CE(),DE(),OE()}function OE(){if(ke!==5)return!1;var n=Kr,i=Wm;Wm=0;var a=ji(sr),l=Y.T,f=ot.p;try{ot.p=32>a?32:a,Y.T=null,a=tp,tp=null;var d=Kr,_=sr;if(ke=0,po=Kr=null,sr=0,(Ft&6)!==0)throw Error(r(331));var S=Ft;if(Ft|=4,fE(d.current),uE(d,d.current,_,a),Ft=S,su(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{ot.p=f,Y.T=l,NE(n,i)}}function VE(n,i,a){i=zn(a,i),i=Mm(n.stateNode,i,2),n=zr(n,i,2),n!==null&&(Ns(n,2),Mi(n))}function Yt(n,i,a){if(n.tag===3)VE(n,n,a);else for(;i!==null;){if(i.tag===3){VE(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){n=zn(a,n),a=Mv(2),l=zr(i,a,2),l!==null&&(xv(a,l,i,n),Ns(l,2),Mi(l));break}}i=i.return}}function rp(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new r1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||($m=!0,f.add(a),n=u1.bind(null,n,i,a),i.then(n,n))}function u1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ne===n&&(Vt&a)===a&&(de===4||de===3&&(Vt&62914560)===Vt&&300>sn()-wh?(Ft&2)===0&&go(n,0):Jm|=a,mo===Vt&&(mo=0)),Mi(n)}function ME(n,i){i===0&&(i=Rc()),n=Hs(n,i),n!==null&&(Ns(n,i),Mi(n))}function c1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),ME(n,a)}function h1(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),ME(n,a)}function f1(n,i){return Pe(n,i)}var Vh=null,_o=null,sp=!1,Mh=!1,ap=!1,Yr=0;function Mi(n){n!==_o&&n.next===null&&(_o===null?Vh=_o=n:_o=_o.next=n),Mh=!0,sp||(sp=!0,m1())}function su(n,i){if(!ap&&Mh){ap=!0;do for(var a=!1,l=Vh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pe(42|n)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,LE(l,d))}else d=Vt,d=pi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,LE(l,d));l=l.next}while(a);ap=!1}}function d1(){xE()}function xE(){Mh=sp=!1;var n=0;Yr!==0&&b1()&&(n=Yr);for(var i=sn(),a=null,l=Vh;l!==null;){var f=l.next,d=PE(l,i);d===0?(l.next=null,a===null?Vh=f:a.next=f,f===null&&(_o=a)):(a=l,(n!==0||(d&3)!==0)&&(Mh=!0)),l=f}ke!==0&&ke!==5||su(n),Yr!==0&&(Yr=0)}function PE(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-pe(d),S=1<<_,C=f[_];C===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Pd(S,i)):C<=i&&(n.expiredLanes|=S),d&=~S}if(i=ne,a=Vt,a=pi(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qt===2||Qt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Jn(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Sr(l),ji(a)){case 2:case 8:a=pl;break;case 32:a=Ar;break;case 268435456:a=Sc;break;default:a=Ar}return l=kE.bind(null,n),a=Pe(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Sr(l),n.callbackPriority=2,n.callbackNode=null,2}function kE(n,i){if(ke!==0&&ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Oh()&&n.callbackNode!==a)return null;var l=Vt;return l=pi(n,n===ne?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(yE(n,l,i),PE(n,sn()),n.callbackNode!=null&&n.callbackNode===a?kE.bind(null,n):null)}function LE(n,i){if(Oh())return null;yE(n,i,!0)}function m1(){I1(function(){(Ft&6)!==0?Pe(ml,d1):xE()})}function op(){if(Yr===0){var n=no;n===0&&(n=di,di<<=1,(di&261888)===0&&(di=256)),Yr=n}return Yr}function UE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qa(""+n)}function zE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function p1(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=UE((f[Be]||null).action),_=l.submitter;_&&(i=(i=_[Be]||null)?UE(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ii("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var C=_?zE(f,_):new FormData(f);Rm(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=_?zE(f,_):new FormData(f),Rm(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var lp=0;lp<Hd.length;lp++){var up=Hd[lp],g1=up.toLowerCase(),y1=up[0].toUpperCase()+up.slice(1);si(g1,"on"+y1)}si(g_,"onAnimationEnd"),si(y_,"onAnimationIteration"),si(__,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(MI,"onTransitionRun"),si(xI,"onTransitionStart"),si(PI,"onTransitionCancel"),si(v_,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function BE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=B;try{d(f)}catch(G){Yc(G)}f.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,B=S.currentTarget,S=S.listener,C!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=B;try{d(f)}catch(G){Yc(G)}f.currentTarget=null,d=C}}}}function Ot(n,i){var a=i[ka];a===void 0&&(a=i[ka]=new Set);var l=n+"__bubble";a.has(l)||(qE(i,n,2,!1),a.add(l))}function cp(n,i,a){var l=0;i&&(l|=4),qE(a,n,l,i)}var xh="_reactListening"+Math.random().toString(36).slice(2);function hp(n){if(!n[xh]){n[xh]=!0,_l.forEach(function(a){a!=="selectionchange"&&(_1.has(a)||cp(a,!1,n),cp(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[xh]||(i[xh]=!0,cp("selectionchange",!1,i))}}function qE(n,i,a,l){switch(gT(i)){case 2:var f=K1;break;case 8:f=Q1;break;default:f=Ip}a=f.bind(null,i,a,n),f=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function fp(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=vi(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Dr(function(){var B=d,G=Pn(a),$=[];t:{var q=E_.get(n);if(q!==void 0){var F=Ii,ft=n;switch(n){case"keypress":if(Us(a)===0)break t;case"keydown":case"keyup":F=Gc;break;case"focusin":ft="focus",F=Bs;break;case"focusout":ft="blur",F=Bs;break;case"beforeblur":case"afterblur":F=Bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=y;break;case g_:case y_:case __:F=Uc;break;case v_:F=A;break;case"scroll":case"scrollend":F=Nl;break;case"wheel":F=j;break;case"copy":case"cut":case"paste":F=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Gi;break;case"toggle":case"beforetoggle":F=wt}var vt=(i&4)!==0,ee=!vt&&(n==="scroll"||n==="scrollend"),P=vt?q!==null?q+"Capture":null:q;vt=[];for(var N=B,z;N!==null;){var X=N;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=ei(N,P),X!=null&&vt.push(ou(N,X,z))),ee)break;N=N.return}0<vt.length&&(q=new F(q,ft,null,a,G),$.push({event:q,listeners:vt}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",q&&a!==Rl&&(ft=a.relatedTarget||a.fromElement)&&(vi(ft)||ft[yi]))break t;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ft=a.relatedTarget||a.toElement,F=B,ft=ft?vi(ft):null,ft!==null&&(ee=u(ft),vt=ft.tag,ft!==ee||vt!==5&&vt!==27&&vt!==6)&&(ft=null)):(F=null,ft=B),F!==ft)){if(vt=Ol,X="onMouseLeave",P="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(vt=Gi,X="onPointerLeave",P="onPointerEnter",N="pointer"),ee=F==null?q:En(F),z=ft==null?q:En(ft),q=new vt(X,N+"leave",F,a,G),q.target=ee,q.relatedTarget=z,X=null,vi(G)===B&&(vt=new vt(P,N+"enter",ft,a,G),vt.target=z,vt.relatedTarget=ee,X=vt),ee=X,F&&ft)e:{for(vt=v1,P=F,N=ft,z=0,X=P;X;X=vt(X))z++;X=0;for(var gt=N;gt;gt=vt(gt))X++;for(;0<z-X;)P=vt(P),z--;for(;0<X-z;)N=vt(N),X--;for(;z--;){if(P===N||N!==null&&P===N.alternate){vt=P;break e}P=vt(P),N=vt(N)}vt=null}else vt=null;F!==null&&jE($,q,F,vt,!1),ft!==null&&ee!==null&&jE($,ee,ft,vt,!0)}}t:{if(q=B?En(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Bt=s_;else if(i_(q))if(a_)Bt=NI;else{Bt=CI;var mt=RI}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ba(B.elementType)&&(Bt=s_):Bt=DI;if(Bt&&(Bt=Bt(n,B))){r_($,Bt,a,G);break t}mt&&mt(n,q,B),n==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&bl(q,"number",q.value)}switch(mt=B?En(B):window,n){case"focusin":(i_(mt)||mt.contentEditable==="true")&&(Ya=mt,qd=B,kl=null);break;case"focusout":kl=qd=Ya=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,m_($,a,G);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":m_($,a,G)}var Ct;if(jt)t:{switch(n){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Qa?qs(n,a)&&(Mt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Di&&a.locale!=="ko"&&(Qa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Qa&&(Ct=Dl()):(wi=G,Cl="value"in wi?wi.value:wi.textContent,Qa=!0)),mt=Ph(B,Mt),0<mt.length&&(Mt=new Ci(Mt,n,null,a,G),$.push({event:Mt,listeners:mt}),Ct?Mt.data=Ct:(Ct=Ka(a),Ct!==null&&(Mt.data=Ct)))),(Ct=Ln?AI(n,a):bI(n,a))&&(Mt=Ph(B,"onBeforeInput"),0<Mt.length&&(mt=new Ci("onBeforeInput","beforeinput",null,a,G),$.push({event:mt,listeners:Mt}),mt.data=Ct)),p1($,n,B,a,G)}BE($,i)})}function ou(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ph(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(n,a),f!=null&&l.unshift(ou(n,f,d)),f=ei(n,i),f!=null&&l.push(ou(n,f,d))),n.tag===3)return l;n=n.return}return[]}function v1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function jE(n,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,f?(B=ei(a,d),B!=null&&_.unshift(ou(a,B,C))):f||(B=ei(a,d),B!=null&&_.push(ou(a,B,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var E1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function FE(n){return(typeof n=="string"?n:""+n).replace(E1,`
`).replace(T1,"")}function HE(n,i){return i=FE(i),FE(n)===i}function te(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(n,""+l);break;case"className":Tn(n,"class",l);break;case"tabIndex":Tn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(n,a,l);break;case"style":Il(n,l,d);break;case"data":if(i!=="object"){Tn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(n,i,"name",f.name,f,null),te(n,i,"formEncType",f.formEncType,f,null),te(n,i,"formMethod",f.formMethod,f,null),te(n,i,"formTarget",f.formTarget,f,null)):(te(n,i,"encType",f.encType,f,null),te(n,i,"method",f.method,f,null),te(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ti);break;case"onScroll":l!=null&&Ot("scroll",n);break;case"onScrollEnd":l!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=qa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),Ua(n,"popover",l);break;case"xlinkActuate":Ae(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pc.get(a)||a,Ua(n,a,l))}}function dp(n,i,a,l,f,d){switch(a){case"style":Il(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?fn(n,l):(typeof l=="number"||typeof l=="bigint")&&fn(n,""+l);break;case"onScroll":l!=null&&Ot("scroll",n);break;case"onScrollEnd":l!=null&&Ot("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ua(n,a,l)}}}function $e(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(n,i,d,_,a,null)}}f&&te(n,i,"srcSet",a.srcSet,a,null),l&&te(n,i,"src",a.src,a,null);return;case"input":Ot("invalid",n);var S=d=_=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":B=G;break;case"value":d=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:te(n,i,l,G,a,null)}}Vc(n,d,S,C,B,_,f,!1);return;case"select":Ot("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:te(n,i,f,S,a,null)}i=d,a=_,n.multiple=!!l,i!=null?wr(n,!!l,i,!1):a!=null&&wr(n,!!l,a,!0);return;case"textarea":Ot("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:te(n,i,_,S,a,null)}Ir(n,l,f,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(n,i,C,l,a,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(l=0;l<au.length;l++)Ot(au[l],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(n,i,B,l,a,null)}return;default:if(Ba(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&dp(n,i,G,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&te(n,i,S,l,a,null))}function S1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,C=null,B=null,G=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||te(n,i,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":d=F;break;case"name":f=F;break;case"checked":B=F;break;case"defaultChecked":G=F;break;case"value":_=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==$&&te(n,i,q,F,l,$)}}za(n,_,S,C,B,G,d,f);return;case"select":F=_=S=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||te(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==C&&te(n,i,f,d,l,C)}i=S,a=_,l=F,q!=null?wr(n,!!a,q,!1):!!l!=!!a&&(i!=null?wr(n,!!a,i,!0):wr(n,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(n,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&te(n,i,_,f,l,d)}Mc(n,q,F);return;case"option":for(var ft in a)if(q=a[ft],a.hasOwnProperty(ft)&&q!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":n.selected=!1;break;default:te(n,i,ft,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(n,i,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)q=a[vt],a.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&te(n,i,vt,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:te(n,i,B,q,l,F)}return;default:if(Ba(i)){for(var ee in a)q=a[ee],a.hasOwnProperty(ee)&&q!==void 0&&!l.hasOwnProperty(ee)&&dp(n,i,ee,void 0,l,q);for(G in l)q=l[G],F=a[G],!l.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||dp(n,i,G,q,l,F);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&te(n,i,P,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||te(n,i,$,q,l,F)}function GE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&GE(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>S)break;var G=C.transferSize,$=C.initiatorType;G&&GE($)&&(C=C.responseEnd,_+=G*(C<S?1:(S-B)/(C-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var mp=null,pp=null;function kh(n){return n.nodeType===9?n:n.ownerDocument}function KE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function gp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yp=null;function b1(){var n=window.event;return n&&n.type==="popstate"?n===yp?!1:(yp=n,!0):(yp=null,!1)}var YE=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(n){return XE.resolve(null).then(n).catch(R1)}:YE;function R1(n){setTimeout(function(){throw n})}function Xr(n){return n==="head"}function $E(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),So(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,lu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[_i]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&lu(n.ownerDocument.body);a=f}while(a);So(i)}function JE(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function _p(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_p(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function C1(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_i])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function D1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function ZE(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Hn(n.nextSibling),n===null))return null;return n}function vp(n){return n.data==="$?"||n.data==="$~"}function Ep(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function N1(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Hn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Tp=null;function WE(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function tT(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function eT(n,i,a){switch(i=kh(a),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function lu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);La(n)}var Gn=new Map,nT=new Set;function Lh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ar=ot.d;ot.d={f:O1,r:V1,D:M1,C:x1,L:P1,m:k1,X:U1,S:L1,M:z1};function O1(){var n=ar.f(),i=Ch();return n||i}function V1(n){var i=xn(n);i!==null&&i.tag===5&&i.type==="form"?vv(i):ar.r(n)}var vo=typeof document>"u"?null:document;function iT(n,i,a){var l=vo;if(l&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),nT.has(f)||(nT.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),$e(i,"link",n),Se(i),l.head.appendChild(i)))}}function M1(n){ar.D(n),iT("dns-prefetch",n,null)}function x1(n,i){ar.C(n,i),iT("preconnect",n,i)}function P1(n,i,a){ar.L(n,i,a);var l=vo;if(l&&n&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(n)+'"]';var d=f;switch(i){case"style":d=Eo(n);break;case"script":d=To(n)}Gn.has(d)||(n=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Gn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(uu(d))||i==="script"&&l.querySelector(cu(d))||(i=l.createElement("link"),$e(i,"link",n),Se(i),l.head.appendChild(i)))}}function k1(n,i){ar.m(n,i);var a=vo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=To(n)}if(!Gn.has(d)&&(n=T({rel:"modulepreload",href:n},i),Gn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cu(d)))return}l=a.createElement("link"),$e(l,"link",n),Se(l),a.head.appendChild(l)}}}function L1(n,i,a){ar.S(n,i,a);var l=vo;if(l&&n){var f=Ei(l).hoistableStyles,d=Eo(n);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(uu(d)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Gn.get(d))&&Sp(n,a);var C=_=l.createElement("link");Se(C),$e(C,"link",n),C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function U1(n,i){ar.X(n,i);var a=vo;if(a&&n){var l=Ei(a).hoistableScripts,f=To(n),d=l.get(f);d||(d=a.querySelector(cu(f)),d||(n=T({src:n,async:!0},i),(i=Gn.get(f))&&Ap(n,i),d=a.createElement("script"),Se(d),$e(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function z1(n,i){ar.M(n,i);var a=vo;if(a&&n){var l=Ei(a).hoistableScripts,f=To(n),d=l.get(f);d||(d=a.querySelector(cu(f)),d||(n=T({src:n,async:!0,type:"module"},i),(i=Gn.get(f))&&Ap(n,i),d=a.createElement("script"),Se(d),$e(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function rT(n,i,a,l){var f=(f=Rt.current)?Lh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Eo(a.href),a=Ei(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Eo(a.href);var d=Ei(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(uu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(n,a),d||B1(f,n,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(a),a=Ei(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Eo(n){return'href="'+hn(n)+'"'}function uu(n){return'link[rel="stylesheet"]['+n+"]"}function sT(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function B1(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$e(i,"link",a),Se(i),n.head.appendChild(i))}function To(n){return'[src="'+hn(n)+'"]'}function cu(n){return"script[async]"+n}function aT(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,Se(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Se(l),$e(l,"style",f),Uh(l,a.precedence,n),i.instance=l;case"stylesheet":f=Eo(a.href);var d=n.querySelector(uu(f));if(d)return i.state.loading|=4,i.instance=d,Se(d),d;l=sT(a),(f=Gn.get(f))&&Sp(l,f),d=(n.ownerDocument||n).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),$e(d,"link",l),i.state.loading|=4,Uh(d,a.precedence,n),i.instance=d;case"script":return d=To(a.src),(f=n.querySelector(cu(d)))?(i.instance=f,Se(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Ap(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Se(f),$e(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uh(l,a.precedence,n));return i.instance}function Uh(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Sp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Ap(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var zh=null;function oT(n,i,a){if(zh===null){var l=new Map,f=zh=new Map;f.set(a,l)}else f=zh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[Te]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function lT(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function q1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function j1(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Eo(l.href),d=i.querySelector(uu(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Bh.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=d,Se(d);return}d=i.ownerDocument||i,l=sT(l),(f=Gn.get(f))&&Sp(l,f),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),$e(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Bh.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var bp=0;function F1(n,i){return n.stylesheets&&n.count===0&&jh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&bp===0&&(bp=62500*A1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&jh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>bp?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qh=null;function jh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qh=new Map,i.forEach(H1,n),qh=null,Bh.call(n))}function H1(n,i){if(!(i.state.loading&4)){var a=qh.get(n);if(a)var l=a.get(null);else{a=new Map,qh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Bh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var hu={$$typeof:W,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function G1(n,i,a,l,f,d,_,S,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cT(n,i,a,l,f,d,_,S,C,B,G,$){return n=new G1(n,i,a,_,C,B,G,$,S),i=1,d===!0&&(i|=24),d=An(3,null,null,i),n.current=d,d.stateNode=n,i=im(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},om(d),n}function hT(n){return n?(n=Ja,n):Ja}function fT(n,i,a,l,f,d){f=hT(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(n,l,i),a!==null&&(yn(a,n,i),Fl(a,n,i))}function dT(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function wp(n,i){dT(n,i),(n=n.alternate)&&dT(n,i)}function mT(n){if(n.tag===13||n.tag===31){var i=Hs(n,67108864);i!==null&&yn(i,n,67108864),wp(n,67108864)}}function pT(n){if(n.tag===13||n.tag===31){var i=Cn();i=Vs(i);var a=Hs(n,i);a!==null&&yn(a,n,i),wp(n,i)}}var Fh=!0;function K1(n,i,a,l){var f=Y.T;Y.T=null;var d=ot.p;try{ot.p=2,Ip(n,i,a,l)}finally{ot.p=d,Y.T=f}}function Q1(n,i,a,l){var f=Y.T;Y.T=null;var d=ot.p;try{ot.p=8,Ip(n,i,a,l)}finally{ot.p=d,Y.T=f}}function Ip(n,i,a,l){if(Fh){var f=Rp(l);if(f===null)fp(n,i,l,Hh,a),yT(n,l);else if(X1(f,n,i,a,l))l.stopPropagation();else if(yT(n,l),i&4&&-1<Y1.indexOf(n)){for(;f!==null;){var d=xn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-pe(_);S.entanglements[1]|=C,_&=~C}Mi(d),(Ft&6)===0&&(Ih=sn()+500,su(0))}}break;case 31:case 13:S=Hs(d,2),S!==null&&yn(S,d,2),Ch(),wp(d,2)}if(d=Rp(l),d===null&&fp(n,i,l,Hh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else fp(n,i,l,null,a)}}function Rp(n){return n=Pn(n),Cp(n)}var Hh=null;function Cp(n){if(Hh=null,n=vi(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=m(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Hh=n,null}function gT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case ml:return 2;case pl:return 8;case Ar:case xd:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var Dp=!1,$r=null,Jr=null,Zr=null,fu=new Map,du=new Map,Wr=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yT(n,i){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(i.pointerId)}}function mu(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=xn(i),i!==null&&mT(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function X1(n,i,a,l,f){switch(i){case"focusin":return $r=mu($r,n,i,a,l,f),!0;case"dragenter":return Jr=mu(Jr,n,i,a,l,f),!0;case"mouseover":return Zr=mu(Zr,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return fu.set(d,mu(fu.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,du.set(d,mu(du.get(d)||null,n,i,a,l,f)),!0}return!1}function _T(n){var i=vi(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,Zn(n.priority,function(){pT(a)});return}}else if(i===31){if(i=m(a),i!==null){n.blockedOn=i,Zn(n.priority,function(){pT(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Rp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Rl=l,a.target.dispatchEvent(l),Rl=null}else return i=xn(a),i!==null&&mT(i),n.blockedOn=a,!1;i.shift()}return!0}function vT(n,i,a){Gh(n)&&a.delete(i)}function $1(){Dp=!1,$r!==null&&Gh($r)&&($r=null),Jr!==null&&Gh(Jr)&&(Jr=null),Zr!==null&&Gh(Zr)&&(Zr=null),fu.forEach(vT),du.forEach(vT)}function Kh(n,i){n.blockedOn===i&&(n.blockedOn=null,Dp||(Dp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$1)))}var Qh=null;function ET(n){Qh!==n&&(Qh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qh===n&&(Qh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Cp(l||a)===null)continue;break}var d=xn(a);d!==null&&(n.splice(i,3),i-=3,Rm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function So(n){function i(C){return Kh(C,n)}$r!==null&&Kh($r,n),Jr!==null&&Kh(Jr,n),Zr!==null&&Kh(Zr,n),fu.forEach(i),du.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)_T(a),a.blockedOn===null&&Wr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Be]||null;if(typeof d=="function")_||ET(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Be]||null)S=_.formAction;else if(Cp(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),ET(a)}}}function TT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Np(n){this._internalRoot=n}Yh.prototype.render=Np.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Cn();fT(a,l,n,i,null,null)},Yh.prototype.unmount=Np.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;fT(n.current,2,null,n,null,null),Ch(),i[yi]=null}};function Yh(n){this._internalRoot=n}Yh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Cc();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,n),a===0&&_T(n)}};var ST=t.version;if(ST!=="19.2.0")throw Error(r(527,ST,"19.2.0"));ot.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(i),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var J1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{$n=Xh.inject(J1),Ge=Xh}catch{}}return gu.createRoot=function(n,i){if(!o(n))throw Error(r(299));var a=!1,l="",f=Dv,d=Nv,_=Ov;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cT(n,1,!1,null,null,a,l,null,f,d,_,TT),n[yi]=i.current,hp(n),new Np(i)},gu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=Dv,_=Nv,S=Ov,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=cT(n,1,!0,i,a??null,l,f,C,d,_,S,TT),i.context=hT(null),a=i.current,l=Cn(),l=Vs(l),f=Ur(l),f.callback=null,zr(a,f,l),a=l,i.current.lanes=a,Ns(i,a),Mi(i),n[yi]=i.current,hp(n),new Yh(i)},gu.version="19.2.0",gu}var MT;function fR(){if(MT)return Mp.exports;MT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Mp.exports=hR(),Mp.exports}var dR=fR();function KS({children:s}){return De.jsx(De.Fragment,{children:De.jsx("div",{className:"w-full p-1 bg-white",children:De.jsx("div",{className:"w-full rounded-xl p-4 border-2 bg-white ",children:s})})})}const TP=Object.freeze(Object.defineProperty({__proto__:null,Block:KS},Symbol.toStringTag,{value:"Module"}));function QS({className:s}){return De.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},xmlnsXlink:"http://www.w3.org/1999/xlink",className:s,children:De.jsxs("g",{children:[De.jsx("g",{transform:"translate(50 50)",children:De.jsx("path",{d:"M40.7-34.3c-9.8-9.8-25.6-9.8-35.4,0L0-29l-5.3-5.3c-9.8-9.8-25.6-9.8-35.4,0l0,0c-9.8,9.8-9.8,25.6,0,35.4l5.3,5.3L-23,18.7l23,23l23-23L35.4,6.3L40.7,1C50.4-8.8,50.4-24.6,40.7-34.3z",transform:"scale(0.8)",fill:"#ff637e",stroke:"#ffffff",children:De.jsx("animateTransform",{keySplines:"0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1;0.215 0.61,0.355 1",calcMode:"spline",values:"0.68;0.8;0.6000000000000001;0.7200000000000001;0.68;0.6400000000000001",keyTimes:"0;0.05;0.39;0.45;0.6;1",dur:"2.5s",repeatCount:"indefinite",type:"scale",attributeName:"transform"})})}),De.jsx("g",{})]})})}function mR(){return De.jsx("div",{className:"absolute inset-0 w-[100vw] h-[100vh] bg-black/10 z-100",children:De.jsx(QS,{className:"relative left-1/2 top-1/2 -translate-1/2 size-30"})})}function SP(){return De.jsx(KS,{children:De.jsx("div",{className:"relative py-5 z-100",children:De.jsx(QS,{className:"mx-auto size-25"})})})}var Lp={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function pR(){if(xT)return Up;xT=1;var s=nd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var e=typeof Object.is=="function"?Object.is:t,r=s.useSyncExternalStore,o=s.useRef,u=s.useEffect,c=s.useMemo,m=s.useDebugValue;return Up.useSyncExternalStoreWithSelector=function(p,g,E,T,b){var x=o(null);if(x.current===null){var H={hasValue:!1,value:null};x.current=H}else H=x.current;x=c(function(){function K(rt){if(!it){if(it=!0,at=rt,rt=T(rt),b!==void 0&&H.hasValue){var ct=H.value;if(b(ct,rt))return W=ct}return W=rt}if(ct=W,e(at,rt))return ct;var I=T(rt);return b!==void 0&&b(ct,I)?(at=rt,ct):(at=rt,W=I)}var it=!1,at,W,ut=E===void 0?null:E;return[function(){return K(g())},ut===null?void 0:function(){return K(ut())}]},[g,E,T,b]);var Z=r(p,x[0],x[1]);return u(function(){H.hasValue=!0,H.value=Z},[Z]),m(Z),Z},Up}var PT;function gR(){return PT||(PT=1,Lp.exports=pR()),Lp.exports}var yR=gR();function _R(s){s()}function vR(){let s=null,t=null;return{clear(){s=null,t=null},notify(){_R(()=>{let e=s;for(;e;)e.callback(),e=e.next})},get(){const e=[];let r=s;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0;const o=t={callback:e,next:null,prev:t};return o.prev?o.prev.next=o:s=o,function(){!r||s===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:s=o.next)}}}}var kT={notify(){},get:()=>[]};function ER(s,t){let e,r=kT,o=0,u=!1;function c(Z){E();const K=r.subscribe(Z);let it=!1;return()=>{it||(it=!0,K(),T())}}function m(){r.notify()}function p(){H.onStateChange&&H.onStateChange()}function g(){return u}function E(){o++,e||(e=s.subscribe(p),r=vR())}function T(){o--,e&&o===0&&(e(),e=void 0,r.clear(),r=kT)}function b(){u||(u=!0,E())}function x(){u&&(u=!1,T())}const H={addNestedSub:c,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return H}var TR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SR=TR(),AR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bR=AR(),wR=()=>SR||bR?He.useLayoutEffect:He.useEffect,IR=wR(),RR=Symbol.for("react-redux-context"),CR=typeof globalThis<"u"?globalThis:{};function DR(){if(!He.createContext)return{};const s=CR[RR]??=new Map;let t=s.get(He.createContext);return t||(t=He.createContext(null),s.set(He.createContext,t)),t}var ys=DR();function NR(s){const{children:t,context:e,serverState:r,store:o}=s,u=He.useMemo(()=>{const p=ER(o);return{store:o,subscription:p,getServerState:r?()=>r:void 0}},[o,r]),c=He.useMemo(()=>o.getState(),[o]);IR(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const m=e||ys;return He.createElement(m.Provider,{value:u},t)}var OR=NR;function Fg(s=ys){return function(){return He.useContext(s)}}var YS=Fg();function XS(s=ys){const t=s===ys?YS:Fg(s),e=()=>{const{store:r}=t();return r};return Object.assign(e,{withTypes:()=>e}),e}var VR=XS();function MR(s=ys){const t=s===ys?VR:XS(s),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var AP=MR(),xR=(s,t)=>s===t;function PR(s=ys){const t=s===ys?YS:Fg(s),e=(r,o={})=>{const{equalityFn:u=xR}=typeof o=="function"?{equalityFn:o}:o,c=t(),{store:m,subscription:p,getServerState:g}=c;He.useRef(!0);const E=He.useCallback({[r.name](b){return r(b)}}[r.name],[r]),T=yR.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,E,u);return He.useDebugValue(T),T};return Object.assign(e,{withTypes:()=>e}),e}var bP=PR();function Je(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var kR=typeof Symbol=="function"&&Symbol.observable||"@@observable",LT=kR,zp=()=>Math.random().toString(36).substring(7).split("").join("."),LR={INIT:`@@redux/INIT${zp()}`,REPLACE:`@@redux/REPLACE${zp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zp()}`},wf=LR;function Hg(s){if(typeof s!="object"||s===null)return!1;let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t||Object.getPrototypeOf(s)===null}function $S(s,t,e){if(typeof s!="function")throw new Error(Je(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Je(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Je(1));return e($S)(s,t)}let r=s,o=t,u=new Map,c=u,m=0,p=!1;function g(){c===u&&(c=new Map,u.forEach((K,it)=>{c.set(it,K)}))}function E(){if(p)throw new Error(Je(3));return o}function T(K){if(typeof K!="function")throw new Error(Je(4));if(p)throw new Error(Je(5));let it=!0;g();const at=m++;return c.set(at,K),function(){if(it){if(p)throw new Error(Je(6));it=!1,g(),c.delete(at),u=null}}}function b(K){if(!Hg(K))throw new Error(Je(7));if(typeof K.type>"u")throw new Error(Je(8));if(typeof K.type!="string")throw new Error(Je(17));if(p)throw new Error(Je(9));try{p=!0,o=r(o,K)}finally{p=!1}return(u=c).forEach(at=>{at()}),K}function x(K){if(typeof K!="function")throw new Error(Je(10));r=K,b({type:wf.REPLACE})}function H(){const K=T;return{subscribe(it){if(typeof it!="object"||it===null)throw new Error(Je(11));function at(){const ut=it;ut.next&&ut.next(E())}return at(),{unsubscribe:K(at)}},[LT](){return this}}}return b({type:wf.INIT}),{dispatch:b,subscribe:T,getState:E,replaceReducer:x,[LT]:H}}function UR(s){Object.keys(s).forEach(t=>{const e=s[t];if(typeof e(void 0,{type:wf.INIT})>"u")throw new Error(Je(12));if(typeof e(void 0,{type:wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Je(13))})}function zR(s){const t=Object.keys(s),e={};for(let u=0;u<t.length;u++){const c=t[u];typeof s[c]=="function"&&(e[c]=s[c])}const r=Object.keys(e);let o;try{UR(e)}catch(u){o=u}return function(c={},m){if(o)throw o;let p=!1;const g={};for(let E=0;E<r.length;E++){const T=r[E],b=e[T],x=c[T],H=b(x,m);if(typeof H>"u")throw m&&m.type,new Error(Je(14));g[T]=H,p=p||H!==x}return p=p||r.length!==Object.keys(c).length,p?g:c}}function If(...s){return s.length===0?t=>t:s.length===1?s[0]:s.reduce((t,e)=>(...r)=>t(e(...r)))}function BR(...s){return t=>(e,r)=>{const o=t(e,r);let u=()=>{throw new Error(Je(15))};const c={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=s.map(p=>p(c));return u=If(...m)(o.dispatch),{...o,dispatch:u}}}function qR(s){return Hg(s)&&"type"in s&&typeof s.type=="string"}var JS=Symbol.for("immer-nothing"),UT=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function ui(s,...t){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var qo=Object.getPrototypeOf;function ga(s){return!!s&&!!s[On]}function dr(s){return s?ZS(s)||Array.isArray(s)||!!s[UT]||!!s.constructor?.[UT]||sc(s)||rd(s):!1}var jR=Object.prototype.constructor.toString();function ZS(s){if(!s||typeof s!="object")return!1;const t=qo(s);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===jR}function Rf(s,t){id(s)===0?Reflect.ownKeys(s).forEach(e=>{t(e,s[e],s)}):s.forEach((e,r)=>t(r,e,s))}function id(s){const t=s[On];return t?t.type_:Array.isArray(s)?1:sc(s)?2:rd(s)?3:0}function ig(s,t){return id(s)===2?s.has(t):Object.prototype.hasOwnProperty.call(s,t)}function WS(s,t,e){const r=id(s);r===2?s.set(t,e):r===3?s.add(e):s[t]=e}function FR(s,t){return s===t?s!==0||1/s===1/t:s!==s&&t!==t}function sc(s){return s instanceof Map}function rd(s){return s instanceof Set}function ra(s){return s.copy_||s.base_}function rg(s,t){if(sc(s))return new Map(s);if(rd(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const e=ZS(s);if(t===!0||t==="class_only"&&!e){const r=Object.getOwnPropertyDescriptors(s);delete r[On];let o=Reflect.ownKeys(r);for(let u=0;u<o.length;u++){const c=o[u],m=r[c];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(r[c]={configurable:!0,writable:!0,enumerable:m.enumerable,value:s[c]})}return Object.create(qo(s),r)}else{const r=qo(s);if(r!==null&&e)return{...s};const o=Object.create(r);return Object.assign(o,s)}}function Gg(s,t=!1){return sd(s)||ga(s)||!dr(s)||(id(s)>1&&Object.defineProperties(s,{set:{value:$h},add:{value:$h},clear:{value:$h},delete:{value:$h}}),Object.freeze(s),t&&Object.values(s).forEach(e=>Gg(e,!0))),s}function $h(){ui(2)}function sd(s){return Object.isFrozen(s)}var HR={};function ya(s){const t=HR[s];return t||ui(0,s),t}var Bu;function tA(){return Bu}function GR(s,t){return{drafts_:[],parent_:s,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zT(s,t){t&&(ya("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=t)}function sg(s){ag(s),s.drafts_.forEach(KR),s.drafts_=null}function ag(s){s===Bu&&(Bu=s.parent_)}function BT(s){return Bu=GR(Bu,s)}function KR(s){const t=s[On];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qT(s,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return s!==void 0&&s!==e?(e[On].modified_&&(sg(t),ui(4)),dr(s)&&(s=Cf(t,s),t.parent_||Df(t,s)),t.patches_&&ya("Patches").generateReplacementPatches_(e[On].base_,s,t.patches_,t.inversePatches_)):s=Cf(t,e,[]),sg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),s!==JS?s:void 0}function Cf(s,t,e){if(sd(t))return t;const r=t[On];if(!r)return Rf(t,(o,u)=>jT(s,r,t,o,u,e)),t;if(r.scope_!==s)return t;if(!r.modified_)return Df(s,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let u=o,c=!1;r.type_===3&&(u=new Set(o),o.clear(),c=!0),Rf(u,(m,p)=>jT(s,r,o,m,p,e,c)),Df(s,o,!1),e&&s.patches_&&ya("Patches").generatePatches_(r,e,s.patches_,s.inversePatches_)}return r.copy_}function jT(s,t,e,r,o,u,c){if(ga(o)){const m=u&&t&&t.type_!==3&&!ig(t.assigned_,r)?u.concat(r):void 0,p=Cf(s,o,m);if(WS(e,r,p),ga(p))s.canAutoFreeze_=!1;else return}else c&&e.add(o);if(dr(o)&&!sd(o)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;Cf(s,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(sc(e)?e.has(r):Object.prototype.propertyIsEnumerable.call(e,r))&&Df(s,o)}}function Df(s,t,e=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&Gg(t,e)}function QR(s,t){const e=Array.isArray(s),r={type_:e?1:0,scope_:t?t.scope_:tA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,u=Kg;e&&(o=[r],u=qu);const{revoke:c,proxy:m}=Proxy.revocable(o,u);return r.draft_=m,r.revoke_=c,m}var Kg={get(s,t){if(t===On)return s;const e=ra(s);if(!ig(e,t))return YR(s,e,t);const r=e[t];return s.finalized_||!dr(r)?r:r===Bp(s.base_,t)?(qp(s),s.copy_[t]=lg(r,s)):r},has(s,t){return t in ra(s)},ownKeys(s){return Reflect.ownKeys(ra(s))},set(s,t,e){const r=eA(ra(s),t);if(r?.set)return r.set.call(s.draft_,e),!0;if(!s.modified_){const o=Bp(ra(s),t),u=o?.[On];if(u&&u.base_===e)return s.copy_[t]=e,s.assigned_[t]=!1,!0;if(FR(e,o)&&(e!==void 0||ig(s.base_,t)))return!0;qp(s),og(s)}return s.copy_[t]===e&&(e!==void 0||t in s.copy_)||Number.isNaN(e)&&Number.isNaN(s.copy_[t])||(s.copy_[t]=e,s.assigned_[t]=!0),!0},deleteProperty(s,t){return Bp(s.base_,t)!==void 0||t in s.base_?(s.assigned_[t]=!1,qp(s),og(s)):delete s.assigned_[t],s.copy_&&delete s.copy_[t],!0},getOwnPropertyDescriptor(s,t){const e=ra(s),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:s.type_!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty(){ui(11)},getPrototypeOf(s){return qo(s.base_)},setPrototypeOf(){ui(12)}},qu={};Rf(Kg,(s,t)=>{qu[s]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qu.deleteProperty=function(s,t){return qu.set.call(this,s,t,void 0)};qu.set=function(s,t,e){return Kg.set.call(this,s[0],t,e,s[0])};function Bp(s,t){const e=s[On];return(e?ra(e):s)[t]}function YR(s,t,e){const r=eA(t,e);return r?"value"in r?r.value:r.get?.call(s.draft_):void 0}function eA(s,t){if(!(t in s))return;let e=qo(s);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=qo(e)}}function og(s){s.modified_||(s.modified_=!0,s.parent_&&og(s.parent_))}function qp(s){s.copy_||(s.copy_=rg(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var XR=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,r)=>{if(typeof t=="function"&&typeof e!="function"){const u=e;e=t;const c=this;return function(p=u,...g){return c.produce(p,E=>e.call(this,E,...g))}}typeof e!="function"&&ui(6),r!==void 0&&typeof r!="function"&&ui(7);let o;if(dr(t)){const u=BT(this),c=lg(t,void 0);let m=!0;try{o=e(c),m=!1}finally{m?sg(u):ag(u)}return zT(u,r),qT(o,u)}else if(!t||typeof t!="object"){if(o=e(t),o===void 0&&(o=t),o===JS&&(o=void 0),this.autoFreeze_&&Gg(o,!0),r){const u=[],c=[];ya("Patches").generateReplacementPatches_(t,o,u,c),r(u,c)}return o}else ui(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(c,...m)=>this.produceWithPatches(c,p=>t(p,...m));let r,o;return[this.produce(t,e,(c,m)=>{r=c,o=m}),r,o]},typeof s?.autoFreeze=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof s?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){dr(s)||ui(8),ga(s)&&(s=$R(s));const t=BT(this),e=lg(s,void 0);return e[On].isManual_=!0,ag(t),e}finishDraft(s,t){const e=s&&s[On];(!e||!e.isManual_)&&ui(9);const{scope_:r}=e;return zT(r,t),qT(void 0,r)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,t){let e;for(e=t.length-1;e>=0;e--){const o=t[e];if(o.path.length===0&&o.op==="replace"){s=o.value;break}}e>-1&&(t=t.slice(e+1));const r=ya("Patches").applyPatches_;return ga(s)?r(s,t):this.produce(s,o=>r(o,t))}};function lg(s,t){const e=sc(s)?ya("MapSet").proxyMap_(s,t):rd(s)?ya("MapSet").proxySet_(s,t):QR(s,t);return(t?t.scope_:tA()).drafts_.push(e),e}function $R(s){return ga(s)||ui(10,s),nA(s)}function nA(s){if(!dr(s)||sd(s))return s;const t=s[On];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=rg(s,t.scope_.immer_.useStrictShallowCopy_)}else e=rg(s,!0);return Rf(e,(r,o)=>{WS(e,r,nA(o))}),t&&(t.finalized_=!1),e}var JR=new XR,iA=JR.produce;function rA(s){return({dispatch:e,getState:r})=>o=>u=>typeof u=="function"?u(e,r,s):o(u)}var ZR=rA(),WR=rA,tC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?If:If.apply(null,arguments)},eC=s=>s&&typeof s.match=="function";function Du(s,t){function e(...r){if(t){let o=t(...r);if(!o)throw new Error(cr(0));return{type:s,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:s,payload:r[0]}}return e.toString=()=>`${s}`,e.type=s,e.match=r=>qR(r)&&r.type===s,e}var sA=class Su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Su(...t[0].concat(this)):new Su(...t.concat(this))}};function FT(s){return dr(s)?iA(s,()=>{}):s}function Jh(s,t,e){return s.has(t)?s.get(t):s.set(t,e(t)).get(t)}function nC(s){return typeof s=="boolean"}var iC=()=>function(t){const{thunk:e=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=t??{};let c=new sA;return e&&(nC(e)?c.push(ZR):c.push(WR(e.extraArgument))),c},rC="RTK_autoBatch",HT=s=>t=>{setTimeout(t,s)},sC=(s={type:"raf"})=>t=>(...e)=>{const r=t(...e);let o=!0,u=!1,c=!1;const m=new Set,p=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HT(10):s.type==="callback"?s.queueNotification:HT(s.timeout),g=()=>{c=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},r,{subscribe(E){const T=()=>o&&E(),b=r.subscribe(T);return m.add(E),()=>{b(),m.delete(E)}},dispatch(E){try{return o=!E?.meta?.[rC],u=!o,u&&(c||(c=!0,p(g))),r.dispatch(E)}finally{o=!0}}})},aC=s=>function(e){const{autoBatch:r=!0}=e??{};let o=new sA(s);return r&&o.push(sC(typeof r=="object"?r:void 0)),o};function oC(s){const t=iC(),{reducer:e=void 0,middleware:r,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=s||{};let m;if(typeof e=="function")m=e;else if(Hg(e))m=zR(e);else throw new Error(cr(1));let p;typeof r=="function"?p=r(t):p=t();let g=If;o&&(g=tC({trace:!1,...typeof o=="object"&&o}));const E=BR(...p),T=aC(E);let b=typeof c=="function"?c(T):T();const x=g(...b);return $S(m,u,x)}function aA(s){const t={},e=[];let r;const o={addCase(u,c){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(cr(28));if(m in t)throw new Error(cr(29));return t[m]=c,o},addAsyncThunk(u,c){return c.pending&&(t[u.pending.type]=c.pending),c.rejected&&(t[u.rejected.type]=c.rejected),c.fulfilled&&(t[u.fulfilled.type]=c.fulfilled),c.settled&&e.push({matcher:u.settled,reducer:c.settled}),o},addMatcher(u,c){return e.push({matcher:u,reducer:c}),o},addDefaultCase(u){return r=u,o}};return s(o),[t,e,r]}function lC(s){return typeof s=="function"}function uC(s,t){let[e,r,o]=aA(t),u;if(lC(s))u=()=>FT(s());else{const m=FT(s);u=()=>m}function c(m=u(),p){let g=[e[p.type],...r.filter(({matcher:E})=>E(p)).map(({reducer:E})=>E)];return g.filter(E=>!!E).length===0&&(g=[o]),g.reduce((E,T)=>{if(T)if(ga(E)){const x=T(E,p);return x===void 0?E:x}else{if(dr(E))return iA(E,b=>T(b,p));{const b=T(E,p);if(b===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return E},m)}return c.getInitialState=u,c}var cC=(s,t)=>eC(s)?s.match(t):s(t);function hC(...s){return t=>s.some(e=>cC(e,t))}var fC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dC=(s=21)=>{let t="",e=s;for(;e--;)t+=fC[Math.random()*64|0];return t},mC=["name","message","stack","code"],jp=class{constructor(s,t){this.payload=s,this.meta=t}_type},GT=class{constructor(s,t){this.payload=s,this.meta=t}_type},pC=s=>{if(typeof s=="object"&&s!==null){const t={};for(const e of mC)typeof s[e]=="string"&&(t[e]=s[e]);return t}return{message:String(s)}},KT="External signal was aborted",Qg=(()=>{function s(t,e,r){const o=Du(t+"/fulfilled",(p,g,E,T)=>({payload:p,meta:{...T||{},arg:E,requestId:g,requestStatus:"fulfilled"}})),u=Du(t+"/pending",(p,g,E)=>({payload:void 0,meta:{...E||{},arg:g,requestId:p,requestStatus:"pending"}})),c=Du(t+"/rejected",(p,g,E,T,b)=>({payload:T,error:(r&&r.serializeError||pC)(p||"Rejected"),meta:{...b||{},arg:E,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(E,T,b)=>{const x=r?.idGenerator?r.idGenerator(p):dC(),H=new AbortController;let Z,K;function it(W){K=W,H.abort()}g&&(g.aborted?it(KT):g.addEventListener("abort",()=>it(KT),{once:!0}));const at=(async function(){let W;try{let rt=r?.condition?.(p,{getState:T,extra:b});if(yC(rt)&&(rt=await rt),rt===!1||H.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ct=new Promise((I,w)=>{Z=()=>{w({name:"AbortError",message:K||"Aborted"})},H.signal.addEventListener("abort",Z)});E(u(x,p,r?.getPendingMeta?.({requestId:x,arg:p},{getState:T,extra:b}))),W=await Promise.race([ct,Promise.resolve(e(p,{dispatch:E,getState:T,extra:b,requestId:x,signal:H.signal,abort:it,rejectWithValue:(I,w)=>new jp(I,w),fulfillWithValue:(I,w)=>new GT(I,w)})).then(I=>{if(I instanceof jp)throw I;return I instanceof GT?o(I.payload,x,p,I.meta):o(I,x,p)})])}catch(rt){W=rt instanceof jp?c(null,x,p,rt.payload,rt.meta):c(rt,x,p)}finally{Z&&H.signal.removeEventListener("abort",Z)}return r&&!r.dispatchConditionRejection&&c.match(W)&&W.meta.condition||E(W),W})();return Object.assign(at,{abort:it,requestId:x,arg:p,unwrap(){return at.then(gC)}})}}return Object.assign(m,{pending:u,rejected:c,fulfilled:o,settled:hC(c,o),typePrefix:t})}return s.withTypes=()=>s,s})();function gC(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function yC(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var _C=Symbol.for("rtk-slice-createasyncthunk");function vC(s,t){return`${s}/${t}`}function EC({creators:s}={}){const t=s?.asyncThunk?.[_C];return function(r){const{name:o,reducerPath:u=o}=r;if(!o)throw new Error(cr(11));const c=(typeof r.reducers=="function"?r.reducers(SC()):r.reducers)||{},m=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(W,ut){const rt=typeof W=="string"?W:W.type;if(!rt)throw new Error(cr(12));if(rt in p.sliceCaseReducersByType)throw new Error(cr(13));return p.sliceCaseReducersByType[rt]=ut,g},addMatcher(W,ut){return p.sliceMatchers.push({matcher:W,reducer:ut}),g},exposeAction(W,ut){return p.actionCreators[W]=ut,g},exposeCaseReducer(W,ut){return p.sliceCaseReducersByName[W]=ut,g}};m.forEach(W=>{const ut=c[W],rt={reducerName:W,type:vC(o,W),createNotation:typeof r.reducers=="function"};bC(ut)?IC(rt,ut,g,t):AC(rt,ut,g)});function E(){const[W={},ut=[],rt=void 0]=typeof r.extraReducers=="function"?aA(r.extraReducers):[r.extraReducers],ct={...W,...p.sliceCaseReducersByType};return uC(r.initialState,I=>{for(let w in ct)I.addCase(w,ct[w]);for(let w of p.sliceMatchers)I.addMatcher(w.matcher,w.reducer);for(let w of ut)I.addMatcher(w.matcher,w.reducer);rt&&I.addDefaultCase(rt)})}const T=W=>W,b=new Map,x=new WeakMap;let H;function Z(W,ut){return H||(H=E()),H(W,ut)}function K(){return H||(H=E()),H.getInitialState()}function it(W,ut=!1){function rt(I){let w=I[W];return typeof w>"u"&&ut&&(w=Jh(x,rt,K)),w}function ct(I=T){const w=Jh(b,ut,()=>new WeakMap);return Jh(w,I,()=>{const D={};for(const[M,O]of Object.entries(r.selectors??{}))D[M]=TC(O,I,()=>Jh(x,I,K),ut);return D})}return{reducerPath:W,getSelectors:ct,get selectors(){return ct(rt)},selectSlice:rt}}const at={name:o,reducer:Z,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:K,...it(u),injectInto(W,{reducerPath:ut,...rt}={}){const ct=ut??u;return W.inject({reducerPath:ct,reducer:Z},rt),{...at,...it(ct,!0)}}};return at}}function TC(s,t,e,r){function o(u,...c){let m=t(u);return typeof m>"u"&&r&&(m=e()),s(m,...c)}return o.unwrapped=s,o}var Yg=EC();function SC(){function s(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return s.withTypes=()=>s,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:s}}function AC({type:s,reducerName:t,createNotation:e},r,o){let u,c;if("reducer"in r){if(e&&!wC(r))throw new Error(cr(17));u=r.reducer,c=r.prepare}else u=r;o.addCase(s,u).exposeCaseReducer(t,u).exposeAction(t,c?Du(s,c):Du(s))}function bC(s){return s._reducerDefinitionType==="asyncThunk"}function wC(s){return s._reducerDefinitionType==="reducerWithPrepare"}function IC({type:s,reducerName:t},e,r,o){if(!o)throw new Error(cr(18));const{payloadCreator:u,fulfilled:c,pending:m,rejected:p,settled:g,options:E}=e,T=o(s,u,E);r.exposeAction(t,T),c&&r.addCase(T.fulfilled,c),m&&r.addCase(T.pending,m),p&&r.addCase(T.rejected,p),g&&r.addMatcher(T.settled,g),r.exposeCaseReducer(t,{fulfilled:c||Zh,pending:m||Zh,rejected:p||Zh,settled:g||Zh})}function Zh(){}function cr(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}function ad(){const s=new Date;return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}`}const RC=()=>{};var QT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(s){const t=[];let e=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},CC=function(s){const t=[];let e=0,r=0;for(;e<s.length;){const o=s[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[e++],c=s[e++],m=s[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[e++],c=s[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],c=o+1<s.length,m=c?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,x=g&63;p||(x=64,c||(b=64)),r.push(e[E],e[T],e[b],e[x])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(oA(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):CC(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=e[s.charAt(o++)],m=o<s.length?e[s.charAt(o)]:0;++o;const g=o<s.length?e[s.charAt(o)]:64;++o;const T=o<s.length?e[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new DC;const b=u<<2|m>>4;if(r.push(b),g!==64){const x=m<<4&240|g>>2;if(r.push(x),T!==64){const H=g<<6&192|T;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NC=function(s){const t=oA(s);return lA.encodeByteArray(t,!0)},uA=function(s){return NC(s).replace(/\./g,"")},cA=function(s){try{return lA.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=()=>hA().__FIREBASE_DEFAULTS__,VC=()=>{if(typeof process>"u"||typeof QT>"u")return;const s=QT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cA(s[1]);return t&&JSON.parse(t)},od=()=>{try{return RC()||OC()||VC()||MC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xC=s=>od()?.emulatorHosts?.[s],fA=()=>od()?.config,dA=s=>od()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mA(s){return(await fetch(s,{credentials:"include"})).ok}const Nu={};function kC(){const s={prod:[],emulator:[]};for(const t of Object.keys(Nu))Nu[t]?s.emulator.push(t):s.prod.push(t);return s}function LC(s){let t=document.getElementById(s),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),e=!0),{created:e,element:t}}let YT=!1;function UC(s,t){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||Nu[s]===t||Nu[s]||YT)return;Nu[s]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=kC().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{YT=!0,c()},b}function E(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=LC(r),x=e("text"),H=document.getElementById(x)||document.createElement("span"),Z=e("learnmore"),K=document.getElementById(Z)||document.createElement("a"),it=e("preprendIcon"),at=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;m(W),E(K,Z);const ut=g();p(at,it),W.append(at,H,K,ut),document.body.appendChild(W)}u?(H.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function pA(){const s=od()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function jC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FC(){const s=Le();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gA(){return!pA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){return!pA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function HC(){return new Promise((s,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="FirebaseError";class _r extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=GC,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?KC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new _r(o,m,r)}}function KC(s,t){return s.replace(QC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const QC=/\{\$([^}]+)}/g;function YC(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function _a(s,t){if(s===t)return!0;const e=Object.keys(s),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=s[o],c=t[o];if(XT(u)&&XT(c)){if(!_a(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function XT(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){const t=[];for(const[e,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Au(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function bu(s){const t=s.indexOf("?");if(!t)return"";const e=s.indexOf("#",t);return s.substring(t,e>0?e:void 0)}function XC(s,t){const e=new $C(s,t);return e.subscribe.bind(e)}class $C{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");JC(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Fp),o.error===void 0&&(o.error=Fp),o.complete===void 0&&(o.complete=Fp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JC(s,t){if(typeof s!="object"||s===null)return!1;for(const e of t)if(e in s&&typeof s[e]=="function")return!0;return!1}function Fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(s){return s&&s._delegate?s._delegate:s}class va{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new PC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tD(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WC(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WC(s){return s===sa?void 0:s}function tD(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ZC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const nD={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},iD=xt.INFO,rD={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},sD=(s,t,...e)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=rD[t];if(o)console[o](`[${r}]  ${s.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xg{constructor(t){this.name=t,this._logLevel=iD,this._logHandler=sD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const aD=(s,t)=>t.some(e=>s instanceof e);let $T,JT;function oD(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lD(){return JT||(JT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vA=new WeakMap,ug=new WeakMap,EA=new WeakMap,Hp=new WeakMap,$g=new WeakMap;function uD(s){const t=new Promise((e,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",c)},u=()=>{e(hs(s.result)),o()},c=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&vA.set(e,s)}).catch(()=>{}),$g.set(t,s),t}function cD(s){if(ug.has(s))return;const t=new Promise((e,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",c),s.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",c),s.addEventListener("abort",c)});ug.set(s,t)}let cg={get(s,t,e){if(s instanceof IDBTransaction){if(t==="done")return ug.get(s);if(t==="objectStoreNames")return s.objectStoreNames||EA.get(s);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return hs(s[t])},set(s,t,e){return s[t]=e,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hD(s){cg=s(cg)}function fD(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=s.call(Gp(this),t,...e);return EA.set(r,t.sort?t.sort():[t]),hs(r)}:lD().includes(s)?function(...t){return s.apply(Gp(this),t),hs(vA.get(this))}:function(...t){return hs(s.apply(Gp(this),t))}}function dD(s){return typeof s=="function"?fD(s):(s instanceof IDBTransaction&&cD(s),aD(s,oD())?new Proxy(s,cg):s)}function hs(s){if(s instanceof IDBRequest)return uD(s);if(Hp.has(s))return Hp.get(s);const t=dD(s);return t!==s&&(Hp.set(s,t),$g.set(t,s)),t}const Gp=s=>$g.get(s);function mD(s,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(s,t),m=hs(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hs(c.result),p.oldVersion,p.newVersion,hs(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pD=["get","getKey","getAll","getAllKeys","count"],gD=["put","add","delete","clear"],Kp=new Map;function ZT(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kp.get(t))return Kp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=gD.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||pD.includes(e)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Kp.set(t,u),u}hD(s=>({...s,get:(t,e,r)=>ZT(t,e)||s.get(t,e,r),has:(t,e)=>!!ZT(t,e)||s.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_D(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function _D(s){return s.getComponent()?.type==="VERSION"}const hg="@firebase/app",WT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Xg("@firebase/app"),vD="@firebase/app-compat",ED="@firebase/analytics-compat",TD="@firebase/analytics",SD="@firebase/app-check-compat",AD="@firebase/app-check",bD="@firebase/auth",wD="@firebase/auth-compat",ID="@firebase/database",RD="@firebase/data-connect",CD="@firebase/database-compat",DD="@firebase/functions",ND="@firebase/functions-compat",OD="@firebase/installations",VD="@firebase/installations-compat",MD="@firebase/messaging",xD="@firebase/messaging-compat",PD="@firebase/performance",kD="@firebase/performance-compat",LD="@firebase/remote-config",UD="@firebase/remote-config-compat",zD="@firebase/storage",BD="@firebase/storage-compat",qD="@firebase/firestore",jD="@firebase/ai",FD="@firebase/firestore-compat",HD="firebase",GD="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",KD={[hg]:"fire-core",[vD]:"fire-core-compat",[TD]:"fire-analytics",[ED]:"fire-analytics-compat",[AD]:"fire-app-check",[SD]:"fire-app-check-compat",[bD]:"fire-auth",[wD]:"fire-auth-compat",[ID]:"fire-rtdb",[RD]:"fire-data-connect",[CD]:"fire-rtdb-compat",[DD]:"fire-fn",[ND]:"fire-fn-compat",[OD]:"fire-iid",[VD]:"fire-iid-compat",[MD]:"fire-fcm",[xD]:"fire-fcm-compat",[PD]:"fire-perf",[kD]:"fire-perf-compat",[LD]:"fire-rc",[UD]:"fire-rc-compat",[zD]:"fire-gcs",[BD]:"fire-gcs-compat",[qD]:"fire-fst",[FD]:"fire-fst-compat",[jD]:"fire-vertex","fire-js":"fire-js",[HD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,QD=new Map,dg=new Map;function t0(s,t){try{s.container.addComponent(t)}catch(e){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,e)}}function jo(s){const t=s.name;if(dg.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;dg.set(t,s);for(const e of Nf.values())t0(e,s);for(const e of QD.values())t0(e,s);return!0}function Jg(s,t){const e=s.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new ac("app","Firebase",YD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=GD;function TA(s,t={}){let e=s;typeof t!="object"&&(t={name:t});const r={name:fg,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(e||(e=fA()),!e)throw fs.create("no-options");const u=Nf.get(o);if(u){if(_a(e,u.options)&&_a(r,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const c=new eD(o);for(const p of dg.values())c.addComponent(p);const m=new XD(e,r,c);return Nf.set(o,m),m}function $D(s=fg){const t=Nf.get(s);if(!t&&s===fg&&fA())return TA();if(!t)throw fs.create("no-app",{appName:s});return t}function ds(s,t,e){let r=KD[s]??s;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(c.join(" "));return}jo(new va(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firebase-heartbeat-database",ZD=1,ju="firebase-heartbeat-store";let Qp=null;function SA(){return Qp||(Qp=mD(JD,ZD,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(ju)}catch(e){console.warn(e)}}}}).catch(s=>{throw fs.create("idb-open",{originalErrorMessage:s.message})})),Qp}async function WD(s){try{const e=(await SA()).transaction(ju),r=await e.objectStore(ju).get(AA(s));return await e.done,r}catch(t){if(t instanceof _r)mr.warn(t.message);else{const e=fs.create("idb-get",{originalErrorMessage:t?.message});mr.warn(e.message)}}}async function e0(s,t){try{const r=(await SA()).transaction(ju,"readwrite");await r.objectStore(ju).put(t,AA(s)),await r.done}catch(e){if(e instanceof _r)mr.warn(e.message);else{const r=fs.create("idb-set",{originalErrorMessage:e?.message});mr.warn(r.message)}}}function AA(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=1024,e2=30;class n2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new r2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>e2){const o=s2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){mr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:e,unsentEntries:r}=i2(this._heartbeatsCache.heartbeats),o=uA(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return mr.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function i2(s,t=t2){const e=[];let r=s.slice();for(const o of s){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),i0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),i0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class r2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?HC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await WD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function i0(s){return uA(JSON.stringify({version:2,heartbeats:s})).length}function s2(s){if(s.length===0)return-1;let t=0,e=s[0].date;for(let r=1;r<s.length;r++)s[r].date<e&&(e=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(s){jo(new va("platform-logger",t=>new yD(t),"PRIVATE")),jo(new va("heartbeat",t=>new n2(t),"PRIVATE")),ds(hg,WT,s),ds(hg,WT,"esm2020"),ds("fire-js","")}a2("");var o2="firebase",l2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(o2,l2,"app");function bA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u2=bA,wA=new ac("auth","Firebase",bA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Xg("@firebase/auth");function c2(s,...t){Of.logLevel<=xt.WARN&&Of.warn(`Auth (${sl}): ${s}`,...t)}function uf(s,...t){Of.logLevel<=xt.ERROR&&Of.error(`Auth (${sl}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(s,...t){throw Zg(s,...t)}function Li(s,...t){return Zg(s,...t)}function IA(s,t,e){const r={...u2(),[t]:e};return new ac("auth","Firebase",r).create(t,{appName:s.name})}function hr(s){return IA(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zg(s,...t){if(typeof s!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(e,...r)}return wA.create(s,...t)}function Et(s,t,...e){if(!s)throw Zg(t,...e)}function or(s){const t="INTERNAL ASSERTION FAILED: "+s;throw uf(t),new Error(t)}function pr(s,t){s||or(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){return typeof self<"u"&&self.location?.href||""}function h2(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||qC()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,e){this.shortDelay=t,this.longDelay=e,pr(e>t,"Short delay should be less than long delay!"),this.isMobile=zC()||jC()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(s,t){pr(s.emulator,"Emulator should always be set here");const{url:e}=s.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g2=new lc(3e4,6e4);function Ss(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function vr(s,t,e,r,o={}){return CA(s,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=oc({key:s.config.apiKey,...c}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:p,...u};return BC()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&rl(s.emulatorConfig.host)&&(g.credentials="include"),RA.fetch()(await DA(s,s.config.apiHost,e,m),g)})}async function CA(s,t,e){s._canInitEmulator=!1;const r={...m2,...t};try{const o=new _2(s),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Wh(s,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(s,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Wh(s,"email-already-in-use",c);if(p==="USER_DISABLED")throw Wh(s,"user-disabled",c);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw IA(s,E,g);hi(s,E)}}catch(o){if(o instanceof _r)throw o;hi(s,"network-request-failed",{message:String(o)})}}async function uc(s,t,e,r,o={}){const u=await vr(s,t,e,r,o);return"mfaPendingCredential"in u&&hi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function DA(s,t,e,r){const o=`${t}${e}?${r}`,u=s,c=u.config.emulator?Wg(s.config,o):`${s.config.apiScheme}://${o}`;return p2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function y2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),g2.get())})}}function Wh(s,t,e){const r={appName:s.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Li(s,t,r);return o.customData._tokenResponse=e,o}function s0(s){return s!==void 0&&s.enterprise!==void 0}class v2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return y2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E2(s,t){return vr(s,"GET","/v2/recaptchaConfig",Ss(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(s,t){return vr(s,"POST","/v1/accounts:delete",t)}async function Vf(s,t){return vr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function S2(s,t=!1){const e=Ue(s),r=await e.getIdToken(t),o=ty(r);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:Ou(Yp(o.auth_time)),issuedAtTime:Ou(Yp(o.iat)),expirationTime:Ou(Yp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Yp(s){return Number(s)*1e3}function ty(s){const[t,e,r]=s.split(".");if(t===void 0||e===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const o=cA(e);return o?JSON.parse(o):(uf("Failed to decode base64 JWT payload"),null)}catch(o){return uf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function a0(s){const t=ty(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(s,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof _r&&A2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function A2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(s){const t=s.auth,e=await s.getIdToken(),r=await Fo(s,Vf(t,{idToken:e}));Et(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?NA(o.providerUserInfo):[],c=I2(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!c?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function w2(s){const t=Ue(s);await Mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function I2(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function NA(s){return s.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(s,t){const e=await CA(s,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,c=await DA(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&rl(s.emulatorConfig.host)&&(p.credentials="include"),RA.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function C2(s,t){return vr(s,"POST","/v2/accounts:revokeToken",Ss(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):a0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=a0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await R2(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Po;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new b2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Fo(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return S2(this,t)}reload(){return w2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(hr(this.auth));const t=await this.getIdToken();return await Fo(this,T2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,E=e.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:x,providerData:H,stsTokenManager:Z}=e;Et(T&&Z,t,"internal-error");const K=Po.fromJSON(this.name,Z);Et(typeof T=="string",t,"internal-error"),es(r,t.name),es(o,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof x=="boolean",t,"internal-error"),es(u,t.name),es(c,t.name),es(m,t.name),es(p,t.name),es(g,t.name),es(E,t.name);const it=new ci({uid:T,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(it.providerData=H.map(at=>({...at}))),p&&(it._redirectEventId=p),it}static async _fromIdTokenResponse(t,e,r=!1){const o=new Po;o.updateFromServerResponse(e);const u=new ci({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Mf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Po;m.updateFromIdToken(r);const p=new ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function lr(s){pr(s instanceof Function,"Expected a class definition");let t=o0.get(s);return t?(pr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,o0.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}OA.type="NONE";const l0=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(s,t,e){return`firebase:${s}:${t}:${e}`}class ko{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=cf(this.userKey,o.apiKey,u),this.fullPersistenceKey=cf("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Vf(this.auth,{idToken:t}).catch(()=>{});return e?ci._fromGetAccountInfoResponse(this.auth,e,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new ko(lr(l0),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(l0);const c=cf(r,t.config.apiKey,t.name);let m=null;for(const g of e)try{const E=await g._get(c);if(E){let T;if(typeof E=="string"){const b=await Vf(t,{idToken:E}).catch(()=>{});if(!b)break;T=await ci._fromGetAccountInfoResponse(t,b,E)}else T=ci._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ko(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ko(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LA(t))return"Blackberry";if(UA(t))return"Webos";if(MA(t))return"Safari";if((t.includes("chrome/")||xA(t))&&!t.includes("edge/"))return"Chrome";if(kA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(e);if(r?.length===2)return r[1]}return"Other"}function VA(s=Le()){return/firefox\//i.test(s)}function MA(s=Le()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xA(s=Le()){return/crios\//i.test(s)}function PA(s=Le()){return/iemobile/i.test(s)}function kA(s=Le()){return/android/i.test(s)}function LA(s=Le()){return/blackberry/i.test(s)}function UA(s=Le()){return/webos/i.test(s)}function ey(s=Le()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function D2(s=Le()){return ey(s)&&!!window.navigator?.standalone}function N2(){return FC()&&document.documentMode===10}function zA(s=Le()){return ey(s)||kA(s)||UA(s)||LA(s)||/windows phone/i.test(s)||PA(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(s,t=[]){let e;switch(s){case"Browser":e=u0(Le());break;case"Worker":e=`${u0(Le())}-${s}`;break;default:e=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(s,t={}){return vr(s,"GET","/v2/passwordPolicy",Ss(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=6;class x2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??M2,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new O2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=lr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ko.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Vf(this,{idToken:t}),r=await ci._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(hr(this));const e=t?Ue(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await V2(this),e=new x2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ac("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await C2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&lr(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[lr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&c2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Da(s){return Ue(s)}class c0{constructor(t){this.auth=t,this.observer=null,this.addObserver=XC(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(s){ld=s}function qA(s){return ld.loadJS(s)}function L2(){return ld.recaptchaEnterpriseScript}function U2(){return ld.gapiScript}function z2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class B2{constructor(){this.enterprise=new q2}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class q2{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const j2="recaptcha-enterprise",jA="NO_RECAPTCHA";class F2{constructor(t){this.type=j2,this.auth=Da(t)}async verify(t="verify",e=!1){async function r(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{E2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new v2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;s0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(jA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!e&&s0(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=L2();p.length!==0&&(p+=m),qA(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function h0(s,t,e,r=!1,o=!1){const u=new F2(s);let c;if(o)c=jA;else try{c=await u.verify(e)}catch{c=await u.verify(e,!0)}const m={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gg(s,t,e,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await h0(s,t,e,e==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await h0(s,t,e,e==="getOobCode");return r(s,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(s,t){const e=Jg(s,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(_a(u,t??{}))return o;hi(o,"already-initialized")}return e.initialize({options:t})}function G2(s,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(lr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function K2(s,t,e){const r=Da(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=FA(t),{host:c,port:m}=Q2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},E=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(_a(g,r.config.emulator)&&_a(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,rl(c)?(mA(`${u}//${c}${p}`),UC("Auth",!0)):Y2()}function FA(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Q2(s){const t=FA(s),e=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:f0(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:f0(c)}}}function f0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Y2(){function s(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return or("not implemented")}_getIdTokenResponse(t){return or("not implemented")}_linkToIdToken(t,e){return or("not implemented")}_getReauthenticationResolver(t){return or("not implemented")}}async function X2(s,t){return vr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(s,t){return uc(s,"POST","/v1/accounts:signInWithPassword",Ss(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(s,t){return uc(s,"POST","/v1/accounts:signInWithEmailLink",Ss(s,t))}async function Z2(s,t){return uc(s,"POST","/v1/accounts:signInWithEmailLink",Ss(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends ny{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Fu(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Fu(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(t,e,"signInWithPassword",$2);case"emailLink":return J2(t,{email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(t,r,"signUpPassword",X2);case"emailLink":return Z2(t,{idToken:e,email:this._email,oobCode:this._password});default:hi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(s,t){return uc(s,"POST","/v1/accounts:signInWithIdp",Ss(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Ea extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):hi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new Ea(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Lo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Lo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Lo(t,e)}buildRequest(){const t={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=oc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(s){const t=Au(bu(s)).link,e=t?Au(bu(t)).deep_link_id:null,r=Au(bu(s)).deep_link_id;return(r?Au(bu(r)).link:null)||r||e||t||s}class iy{constructor(t){const e=Au(bu(t)),r=e.apiKey??null,o=e.oobCode??null,u=tN(e.mode??null);Et(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=eN(t);try{return new iy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(t,e){return Fu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=iy.parseLink(e);return Et(r,"argument-error"),Fu._fromEmailAndCode(t,r.code,r.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends HA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends cc{constructor(){super("facebook.com")}static credential(t){return Ea._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ea._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return as.credential(e,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends cc{constructor(){super("github.com")}static credential(t){return Ea._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends cc{constructor(){super("twitter.com")}static credential(t,e){return Ea._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return ls.credential(e,r)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(s,t){return uc(s,"POST","/v1/accounts:signUp",Ss(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await ci._fromIdTokenResponse(t,r,o),c=d0(r);return new Ta({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=d0(r);return new Ta({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function d0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends _r{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new xf(t,e,r,o)}}function GA(s,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(s):e._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(s,u,t,r):u})}async function iN(s,t,e=!1){const r=await Fo(s,t._linkToIdToken(s.auth,await s.getIdToken()),e);return Ta._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(s,t,e=!1){const{auth:r}=s;if(Kn(r.app))return Promise.reject(hr(r));const o="reauthenticate";try{const u=await Fo(s,GA(r,o,t,s),e);Et(u.idToken,r,"internal-error");const c=ty(u.idToken);Et(c,r,"internal-error");const{sub:m}=c;return Et(s.uid===m,r,"user-mismatch"),Ta._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(s,t,e=!1){if(Kn(s.app))return Promise.reject(hr(s));const r="signIn",o=await GA(s,r,t),u=await Ta._fromIdTokenResponse(s,r,o);return e||await s._updateCurrentUser(u.user),u}async function sN(s,t){return KA(Da(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(s){const t=Da(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wP(s,t,e){if(Kn(s.app))return Promise.reject(hr(s));const r=Da(s),c=await gg(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&QA(s),p}),m=await Ta._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function IP(s,t,e){return Kn(s.app)?Promise.reject(hr(s)):sN(Ue(s),al.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QA(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(s,t){return vr(s,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(s,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const r=Ue(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await Fo(r,aN(r.auth,u));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const m=r.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function oN(s,t,e,r){return Ue(s).onIdTokenChanged(t,e,r)}function lN(s,t,e){return Ue(s).beforeAuthStateChanged(t,e)}function CP(s,t,e,r){return Ue(s).onAuthStateChanged(t,e,r)}function DP(s){return Ue(s).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1e3,cN=10;class XA extends YA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);N2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,cN):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}XA.type="LOCAL";const hN=XA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends YA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}$A.type="SESSION";const JA=$A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new ud(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(e.origin,u)),p=await fN(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(s="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return s+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=ry("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function mN(s){Ui().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function pN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gN(){return navigator?.serviceWorker?.controller||null}function yN(){return ZA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebaseLocalStorageDb",_N=1,kf="firebaseLocalStorage",tb="fbase_key";class hc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function cd(s,t){return s.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function vN(){const s=indexedDB.deleteDatabase(WA);return new hc(s).toPromise()}function yg(){const s=indexedDB.open(WA,_N);return new Promise((t,e)=>{s.addEventListener("error",()=>{e(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(kf,{keyPath:tb})}catch(o){e(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(kf)?t(r):(r.close(),await vN(),t(await yg()))})})}async function m0(s,t,e){const r=cd(s,!0).put({[tb]:t,value:e});return new hc(r).toPromise()}async function EN(s,t){const e=cd(s,!1).get(t),r=await new hc(e).toPromise();return r===void 0?null:r.value}function p0(s,t){const e=cd(s,!0).delete(t);return new hc(e).toPromise()}const TN=800,SN=3;class eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>SN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(yN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yg();return await m0(t,Pf,"1"),await p0(t,Pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>m0(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>EN(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>p0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=cd(o,!1).getAll();return new hc(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eb.type="LOCAL";const AN=eb;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(s,t){return t?lr(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ny{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Lo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function wN(s){return KA(s.auth,new sy(s),s.bypassAuthState)}function IN(s){const{auth:t,user:e}=s;return Et(e,t,"internal-error"),rN(e,new sy(s),s.bypassAuthState)}async function RN(s){const{auth:t,user:e}=s;return Et(e,t,"internal-error"),iN(e,new sy(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return RN;case"reauthViaPopup":case"reauthViaRedirect":return IN;default:hi(this.auth,"internal-error")}}resolve(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new lc(2e3,1e4);class xo extends nb{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const t=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CN.get())};t()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="pendingRedirect",hf=new Map;class NN extends nb{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const r=await ON(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(s,t){const e=xN(t),r=MN(s);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function VN(s,t){hf.set(s._key(),t)}function MN(s){return lr(s._redirectPersistence)}function xN(s){return cf(DN,s.config.apiKey,s.name)}async function PN(s,t,e=!1){if(Kn(s.app))return Promise.reject(hr(s));const r=Da(s),o=bN(r,t),c=await new NN(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=600*1e3;class LN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!ib(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Li(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(t))}saveEventToCache(t){this.cachedEventUids.add(g0(t)),this.lastProcessedEventTime=Date.now()}}function g0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function ib({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function UN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ib(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(s,t={}){return vr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function jN(s){if(s.config.emulator)return;const{authorizedDomains:t}=await zN(s);for(const e of t)try{if(FN(e))return}catch{}hi(s,"unauthorized-domain")}function FN(s){const t=mg(),{protocol:e,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&r===""?e==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!qN.test(e))return!1;if(BN.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new lc(3e4,6e4);function y0(){const s=Ui().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let e=0;e<s.CP.length;e++)s.CP[e]=null}}function GN(s){return new Promise((t,e)=>{function r(){y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y0(),e(Li(s,"network-request-failed"))},timeout:HN.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const o=z2("iframefcb");return Ui()[o]=()=>{gapi.load?r():e(Li(s,"network-request-failed"))},qA(`${U2()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw ff=null,t})}let ff=null;function KN(s){return ff=ff||GN(s),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new lc(5e3,15e3),YN="__/auth/iframe",XN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const e=t.emulator?Wg(t,XN):`https://${s.config.authDomain}/${YN}`,r={apiKey:t.apiKey,appName:s.name,v:sl},o=JN.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${oc(r).slice(1)}`}async function WN(s){const t=await KN(s),e=Ui().gapi;return Et(e,s,"internal-error"),t.open({where:document.body,url:ZN(s),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Li(s,"network-request-failed"),m=Ui().setTimeout(()=>{u(c)},QN.get());function p(){Ui().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eO=500,nO=600,iO="_blank",rO="http://localhost";class _0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sO(s,t,e,r=eO,o=nO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...tO,width:r.toString(),height:o.toString(),top:u,left:c},g=Le().toLowerCase();e&&(m=xA(g)?iO:e),VA(g)&&(t=t||rO,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[x,H])=>`${b}${x}=${H},`,"");if(D2(g)&&m!=="_self")return aO(t||"",m),new _0(null);const T=window.open(t||"",m,E);Et(T,s,"popup-blocked");try{T.focus()}catch{}return new _0(T)}function aO(s,t){const e=document.createElement("a");e.href=s,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__/auth/handler",lO="emulator/auth/handler",uO=encodeURIComponent("fac");async function v0(s,t,e,r,o,u){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:e,redirectUrl:r,v:sl,eventId:o};if(t instanceof HA){t.setDefaultLanguage(s.languageCode),c.providerId=t.providerId||"",YC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(t instanceof cc){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}s.tenantId&&(c.tid=s.tenantId);const m=c;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),g=p?`#${uO}=${encodeURIComponent(p)}`:"";return`${cO(s)}?${oc(m).slice(1)}${g}`}function cO({config:s}){return s.emulator?Wg(s,lO):`https://${s.authDomain}/${oO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class hO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JA,this._completeRedirectFn=PN,this._overrideRedirectResult=VN}async _openPopup(t,e,r,o){pr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await v0(t,e,r,mg(),o);return sO(t,u,ry())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await v0(t,e,r,mg(),o);return mN(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await WN(t),r=new LN(t);return e.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Xp,{type:Xp},o=>{const u=o?.[0]?.[Xp];u!==void 0&&e(!!u),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=jN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return zA()||MA()||ey()}}const fO=hO;var E0="@firebase/auth",T0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pO(s){jo(new va("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(s)},g=new P2(r,o,u,p);return G2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),jo(new va("auth-internal",t=>{const e=Da(t.getProvider("auth").getImmediate());return(r=>new dO(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(E0,T0,mO(s)),ds(E0,T0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=300,yO=dA("authIdTokenMaxAge")||gO;let S0=null;const _O=s=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>yO)return;const o=e?.token;S0!==o&&(S0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vO(s=$D()){const t=Jg(s,"auth");if(t.isInitialized())return t.getImmediate();const e=H2(s,{popupRedirectResolver:fO,persistence:[AN,hN,JA]}),r=dA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=_O(u.toString());lN(e,c,()=>c(e.currentUser)),oN(e,m=>c(m))}}const o=xC("auth");return o&&K2(e,`http://${o}`),e}function EO(){return document.getElementsByTagName("head")?.[0]??document}k2({loadJS(s){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Li("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",EO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pO("Browser");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,rb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function D(){}D.prototype=w.prototype,I.F=w.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(M,O,k){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[O].apply(M,R)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,D){D||(D=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(O=0;O<16;++O)M[O]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=I.g[0],D=I.g[1],O=I.g[2];let k=I.g[3],R;R=w+(k^D&(O^k))+M[0]+3614090360&4294967295,w=D+(R<<7&4294967295|R>>>25),R=k+(O^w&(D^O))+M[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(D^k&(w^D))+M[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(w^O&(k^w))+M[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(k^D&(O^k))+M[4]+4118548399&4294967295,w=D+(R<<7&4294967295|R>>>25),R=k+(O^w&(D^O))+M[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(D^k&(w^D))+M[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(w^O&(k^w))+M[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(k^D&(O^k))+M[8]+1770035416&4294967295,w=D+(R<<7&4294967295|R>>>25),R=k+(O^w&(D^O))+M[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(D^k&(w^D))+M[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(w^O&(k^w))+M[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(k^D&(O^k))+M[12]+1804603682&4294967295,w=D+(R<<7&4294967295|R>>>25),R=k+(O^w&(D^O))+M[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=O+(D^k&(w^D))+M[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(w^O&(k^w))+M[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(O^k&(D^O))+M[1]+4129170786&4294967295,w=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(w^D))+M[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(k^w))+M[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^w&(O^k))+M[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^k&(D^O))+M[5]+3593408605&4294967295,w=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(w^D))+M[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(k^w))+M[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^w&(O^k))+M[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^k&(D^O))+M[9]+568446438&4294967295,w=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(w^D))+M[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(k^w))+M[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^w&(O^k))+M[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^k&(D^O))+M[13]+2850285829&4294967295,w=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(w^D))+M[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(k^w))+M[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^w&(O^k))+M[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(D^O^k)+M[5]+4294588738&4294967295,w=D+(R<<4&4294967295|R>>>28),R=k+(w^D^O)+M[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^D)+M[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^w)+M[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^k)+M[1]+2763975236&4294967295,w=D+(R<<4&4294967295|R>>>28),R=k+(w^D^O)+M[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^D)+M[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^w)+M[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^k)+M[13]+681279174&4294967295,w=D+(R<<4&4294967295|R>>>28),R=k+(w^D^O)+M[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^D)+M[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^w)+M[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^k)+M[9]+3654602809&4294967295,w=D+(R<<4&4294967295|R>>>28),R=k+(w^D^O)+M[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=O+(k^w^D)+M[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^w)+M[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(O^(D|~k))+M[0]+4096336452&4294967295,w=D+(R<<6&4294967295|R>>>26),R=k+(D^(w|~O))+M[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~D))+M[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~w))+M[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~k))+M[12]+1700485571&4294967295,w=D+(R<<6&4294967295|R>>>26),R=k+(D^(w|~O))+M[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~D))+M[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~w))+M[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~k))+M[8]+1873313359&4294967295,w=D+(R<<6&4294967295|R>>>26),R=k+(D^(w|~O))+M[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~D))+M[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~w))+M[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~k))+M[4]+4149444226&4294967295,w=D+(R<<6&4294967295|R>>>26),R=k+(D^(w|~O))+M[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=O+(w^(k|~D))+M[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const D=w-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=D;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(M[O++]=I.charCodeAt(k++),O==this.blockSize){o(this,M),O=0;break}}else for(;k<w;)if(M[O++]=I[k++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)I[w++]=this.g[D]>>>M&255;return I};function u(I,w){var D=m;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=w(I)}function c(I,w){this.h=w;const D=[];let M=!0;for(let O=I.length-1;O>=0;O--){const k=I[O]|0;M&&k==w||(D[O]=k,M=!1)}this.g=D}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return K(g(-I));const w=[];let D=1;for(let M=0;I>=D;M++)w[M]=I/D|0,D*=4294967296;return new c(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return K(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(w,8));let M=T;for(let k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+O),w);O<8?(O=g(Math.pow(w,O)),M=M.j(O).add(g(R))):(M=M.j(D),M=M.add(g(R)))}return M}var T=p(0),b=p(1),x=p(16777216);s=c.prototype,s.m=function(){if(Z(this))return-K(this).m();let I=0,w=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(Z(this))return"-"+K(this).toString(I);const w=g(Math.pow(I,6));var D=this;let M="";for(;;){const O=ut(D,w).g;D=it(D,O.j(w));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=O,H(D))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function Z(I){return I.h==-1}s.l=function(I){return I=it(this,I),Z(I)?-1:H(I)?0:1};function K(I){const w=I.g.length,D=[];for(let M=0;M<w;M++)D[M]=~I.g[M];return new c(D,~I.h).add(b)}s.abs=function(){return Z(this)?K(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),D=[];let M=0;for(let O=0;O<=w;O++){let k=M+(this.i(O)&65535)+(I.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=R>>>16,k&=65535,R&=65535,D[O]=R<<16|k}return new c(D,D[D.length-1]&-2147483648?-1:0)};function it(I,w){return I.add(K(w))}s.j=function(I){if(H(this)||H(I))return T;if(Z(this))return Z(I)?K(this).j(K(I)):K(K(this).j(I));if(Z(I))return K(this.j(K(I)));if(this.l(x)<0&&I.l(x)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,D=[];for(var M=0;M<2*w;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const k=this.i(M)>>>16,R=this.i(M)&65535,se=I.i(O)>>>16,Me=I.i(O)&65535;D[2*M+2*O]+=R*Me,at(D,2*M+2*O),D[2*M+2*O+1]+=k*Me,at(D,2*M+2*O+1),D[2*M+2*O+1]+=R*se,at(D,2*M+2*O+1),D[2*M+2*O+2]+=k*se,at(D,2*M+2*O+2)}for(I=0;I<w;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=w;I<2*w;I++)D[I]=0;return new c(D,0)};function at(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function W(I,w){this.g=I,this.h=w}function ut(I,w){if(H(w))throw Error("division by zero");if(H(I))return new W(T,T);if(Z(I))return w=ut(K(I),w),new W(K(w.g),K(w.h));if(Z(w))return w=ut(I,K(w)),new W(K(w.g),w.h);if(I.g.length>30){if(Z(I)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var D=b,M=w;M.l(I)<=0;)D=rt(D),M=rt(M);var O=ct(D,1),k=ct(M,1);for(M=ct(M,2),D=ct(D,2);!H(M);){var R=k.add(M);R.l(I)<=0&&(O=O.add(D),k=R),M=ct(M,1),D=ct(D,1)}return w=it(I,O.j(w)),new W(O,w)}for(O=T;I.l(w)>=0;){for(D=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(D),R=k.j(w);Z(R)||R.l(I)>0;)D-=M,k=g(D),R=k.j(w);H(k)&&(k=b),O=O.add(k),I=it(I,R)}return new W(O,I)}s.B=function(I){return ut(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)&I.i(M);return new c(D,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)|I.i(M);return new c(D,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<w;M++)D[M]=this.i(M)^I.i(M);return new c(D,this.h^I.h)};function rt(I){const w=I.g.length+1,D=[];for(let M=0;M<w;M++)D[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(D,I.h)}function ct(I,w){const D=w>>5;w%=32;const M=I.g.length-D,O=[];for(let k=0;k<M;k++)O[k]=w>0?I.i(k+D)>>>w|I.i(k+D+1)<<32-w:I.i(k+D);return new c(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=E,ms=c}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sb,wu,ab,df,_g,ob,lb,ub;(function(){var s,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var v=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var U=h[A];if(!(U in v))break t;v=v[U]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&t(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=p,g.apply(null,arguments)}function E(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(A,U,j){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return y.prototype[U].apply(A,et)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function H(h,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=h.length||0;const j=U.length||0;h.length=v+j;for(let et=0;et<j;et++)h[v+et]=U[et]}else h.push(U)}}class Z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){c.setTimeout(()=>{throw h},0)}function it(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class at{constructor(){this.h=this.g=null}add(y,v){const A=W.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new Z(()=>new ut,h=>h.reset());class ut{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ct=!1,I=new at,w=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(D)}};function D(){for(var h;h=it();){try{h.h.call(h.g)}catch(v){K(v)}var y=W;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function se(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(se,O),se.prototype.init=function(h,y){const v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ot(h,y,v,A,U){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=U,this.key=++Y,this.da=this.fa=!1}function _t(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function zt(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function Gt(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function V(h){const y={};for(const v in h)y[v]=h[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,y){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)h[v]=A[v];for(let j=0;j<J.length;j++)v=J[j],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,y,v,A,U){const j=h.toString();h=this.g[j],h||(h=this.g[j]=[],this.h++);const et=Rt(h,y,A,U);return et>-1?(y=h[et],v||(y.fa=!1)):(y=new ot(y,this.src,j,!!A,U),y.fa=v,h.push(y)),y};function Tt(h,y){const v=y.type;if(v in h.g){var A=h.g[v],U=Array.prototype.indexOf.call(A,y,void 0),j;(j=U>=0)&&Array.prototype.splice.call(A,U,1),j&&(_t(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Rt(h,y,v,A){for(let U=0;U<h.length;++U){const j=h[U];if(!j.da&&j.listener==y&&j.capture==!!v&&j.ha==A)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(h,y,v,A,U){if(Array.isArray(y)){for(let j=0;j<y.length;j++)ae(h,y[j],v,A,U);return null}return v=dl(v),h&&h[Me]?h.J(y,v,m(A)?!!A.capture:!1,U):Is(h,y,v,!1,A,U)}function Is(h,y,v,A,U,j){if(!y)throw Error("Invalid event type");const et=m(U)?!!U.capture:!!U;let wt=Rs(h);if(wt||(h[Lt]=wt=new ht(h)),v=wt.add(y,v,A,et,j),v.proxy)return v;if(A=Va(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)k||(U=et),U===void 0&&(U=!1),h.addEventListener(y.toString(),A,U);else if(h.attachEvent)h.attachEvent(fi(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Va(){function h(v){return y.call(h.src,h.listener,v)}const y=hl;return h}function Ma(h,y,v,A,U){if(Array.isArray(y))for(var j=0;j<y.length;j++)Ma(h,y[j],v,A,U);else A=m(A)?!!A.capture:!!A,v=dl(v),h&&h[Me]?(h=h.i,j=String(y).toString(),j in h.g&&(y=h.g[j],v=Rt(y,v,A,U),v>-1&&(_t(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[j],h.h--)))):h&&(h=Rs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Rt(y,v,A,U)),(v=h>-1?y[h]:null)&&xa(v))}function xa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Me])Tt(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(fi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Rs(y))?(Tt(v,h),v.h==0&&(v.src=null,y[Lt]=null)):_t(h)}}}function fi(h){return h in xe?xe[h]:xe[h]="on"+h}function hl(h,y){if(h.da)h=!0;else{y=new se(y,this);const v=h.listener,A=h.ha||h.src;h.fa&&xa(h),h=v.call(A,y)}return h}function Rs(h){return h=h[Lt],h instanceof ht?h:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(h){return typeof h=="function"?h:(h[fl]||(h[fl]=function(y){return h.handleEvent(y)}),h[fl])}function ve(){M.call(this),this.i=new ht(this),this.M=this,this.G=null}T(ve,M),ve.prototype[Me]=!0,ve.prototype.removeEventListener=function(h,y,v,A){Ma(this,h,y,v,A)};function Pe(h,y){var v,A=h.G;if(A)for(v=[];A;A=A.G)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var U=y;y=new O(A,h),lt(y,U)}U=!0;let j,et;if(v)for(et=v.length-1;et>=0;et--)j=y.g=v[et],U=Sr(j,A,!0,y)&&U;if(j=y.g=h,U=Sr(j,A,!0,y)&&U,U=Sr(j,A,!1,y)&&U,v)for(et=0;et<v.length;et++)j=y.g=v[et],U=Sr(j,A,!1,y)&&U}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let A=0;A<v.length;A++)_t(v[A]);delete h.g[y],h.h--}}this.G=null},ve.prototype.J=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},ve.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function Sr(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let j=0;j<y.length;++j){const et=y[j];if(et&&!et.da&&et.capture==v){const wt=et.listener,ge=et.ha||et.src;et.fa&&Tt(h.i,et),U=wt.call(ge,A)!==!1&&U}}return U&&!A.defaultPrevented}function Md(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Tc(h){h.g=Md(()=>{h.g=null,h.i&&(h.i=!1,Tc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class sn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(h){M.call(this),this.h=h,this.g={}}T(Cs,M);var ml=[];function pl(h){zt(h.g,function(y,v){this.g.hasOwnProperty(v)&&xa(y)},h),h.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),pl(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=c.JSON.stringify,xd=c.JSON.parse,Sc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ac(){}function bc(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){O.call(this,"d")}T(Ge,O);function Mn(){O.call(this,"c")}T(Mn,O);var pe={},wc=null;function Pa(){return wc=wc||new ve}pe.Ia="serverreachability";function Ic(h){O.call(this,pe.Ia,h)}T(Ic,O);function di(h){const y=Pa();Pe(y,new Ic(y))}pe.STAT_EVENT="statevent";function Ds(h,y){O.call(this,pe.STAT_EVENT,h),this.stat=y}T(Ds,O);function Ee(h){const y=Pa();Pe(y,new Ds(y,h))}pe.Ja="timingevent";function mi(h,y){O.call(this,pe.Ja,h),this.size=y}T(mi,O);function pi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Pd(h,y,v,A,U,j){h.info(function(){if(h.g)if(j){var et="",wt=j.split("&");for(let jt=0;jt<wt.length;jt++){var ge=wt[jt].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const Ln=oe.split("_");et=Ln.length>=2&&Ln[1]=="type"?et+(oe+"="+ge+"&"):et+(oe+"=redacted&")}}}else et=null;else et=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+v+`
`+et})}function Rc(h,y,v,A,U,j,et){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+v+`
`+j+" "+et})}function gi(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+kd(h,v)+(A?" "+A:"")})}function Ns(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function kd(h,y){if(!h.g)return y;if(!y)return null;try{const j=JSON.parse(y);if(j){for(h=0;h<j.length;h++)if(Array.isArray(j[h])){var v=j[h];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return Ar(j)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Vs(){}T(Vs,Ac),Vs.prototype.g=function(){return new XMLHttpRequest},yl=new Vs;function ji(h){return encodeURIComponent(String(h))}function Cc(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Zn(h,y,v,A){this.j=h,this.i=y,this.l=v,this.S=A||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Te={},Be={};function yi(h,y,v){h.M=1,h.A=Ms(Ae(y)),h.u=v,h.R=!0,ka(h,null)}function ka(h,y){h.F=Date.now(),_i(h),h.B=Ae(h.A);var v=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ba(v.i,"t",A),h.C=0,v=h.j.L,h.h=new Wn,h.g=Fc(h.j,v?y:null,!h.u),h.P>0&&(h.O=new sn(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,A=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(ml[0]=U.toString()),U=ml);for(let j=0;j<U.length;j++){const et=ae(v,U[j],A||y.handleEvent,!1,y.h||y);if(!et)break;y.g[et.key]=et}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),di(),Pd(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ni(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)t:{const wt=ni(this.g),ge=this.g.ya(),jt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||ge==7||(ge==8||jt<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var v=Ld(this);if(this.o=y==200,Rc(this.i,this.v,this.B,this.l,this.S,wt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var j=A;break e}}j=null}if(h=j)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,Ee(12),En(this),xn(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Nc(this,v),oe==Be){wt==4&&(this.m=4,Ee(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),gi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,oe,null),Ei(this,oe);if(Dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vl(et),et.P=!0,Ee(11))}}else gi(this.i,this.l,v,null),Ei(this,v);wt==4&&En(this),this.o&&!this.K&&(wt==4?zc(this.j,this):(this.o=!1,_i(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),En(this),xn(this)}}}catch{}finally{}};function Ld(h){if(!Dc(h))return h.g.la();const y=Ke(h.g);if(y==="")return"";let v="";const A=y.length,U=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),xn(h),"";h.h.i=new c.TextDecoder}for(let j=0;j<A;j++)h.h.h=!0,v+=h.h.i.decode(y[j],{stream:!(U&&j==A-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function Dc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Nc(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?Be:(v=Number(y.substring(v,A)),isNaN(v)?Te:(A+=1,A+v>y.length?Be:(y=y.slice(A,A+v),h.C=A+v,y)))}Zn.prototype.cancel=function(){this.K=!0,En(this)};function _i(h){h.T=Date.now()+h.H,La(h,h.H)}function La(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pi(g(h.aa,h),y)}function vi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(di(),Ee(17)),En(this),this.m=2,xn(this)):La(this,this.T-h)};function xn(h){h.j.I==0||h.K||zc(h.j,h)}function En(h){vi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,pl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ei(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Si(v.h,h))){if(!h.L&&Si(v.h,h)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Ga(v),Or(v);else break t;Bs(v),Ee(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(g(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((h.L||v.g==h)&&Ga(v),!R(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let jt=U[y];const oe=jt[0];if(!(oe<=v.K))if(v.K=oe,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Ln=jt[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Di=jt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ii=jt[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ri=h.g;if(ri){const qs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var j=A.h;j.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(El(j,j.h),j.h=null))}if(A.G){const Ka=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(A.wa=Ka,Kt(A.J,A.G,Ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var et=h;if(A.na=jc(A,A.L?A.ba:null,A.W),et.L){Tl(A.h,et);var wt=et,ge=A.O;ge&&(wt.H=ge),wt.D&&(vi(wt),_i(wt)),A.g=et}else Lc(A);v.i.length>0&&Ri(v)}else jt[0]!="stop"&&jt[0]!="close"||Ci(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ci(v,7):Nl(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}di(4)}catch{}}var Se=class{constructor(h,y){this.g=h,this.map=y}};function _l(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ti(h){return h.h?1:h.g?h.g.size:0}function Si(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function El(h,y){h.g?h.g.add(y):h.h=y}function Tl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}_l.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return x(h.i)}var Oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const A=h[v].indexOf("=");let U,j=null;A>=0?(U=h[v].substring(0,A),j=h[v].substring(A+1)):U=h[v],y(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Tn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,br(this,h.u),this.h=h.h,Al(this,Pc(h.i)),this.m=h.m):h&&(y=String(h).match(Oc))?(this.l=!1,qe(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),br(this,y[4]),this.h=Ai(y[5]||"",!0),Al(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}Tn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(xs(y,za,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(xs(y,za,!0),"@"),h.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(xs(v,v.charAt(0)=="/"?bl:Vc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",xs(v,Mc)),h.join("")},Tn.prototype.resolve=function(h){const y=Ae(this);let v=!!h.j;v?qe(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var A=h.h;if(v)br(y,h.u);else if(v=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let et=0;et<U.length;){const wt=U[et++];wt=="."?A&&et==U.length&&j.push(""):wt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&et==U.length&&j.push("")):(j.push(wt),A=!0)}A=j.join("/")}else A=U}return v?y.h=A:v=h.i.toString()!=="",v?Al(y,Pc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Ae(h){return new Tn(h)}function qe(h,y,v){h.j=v?Ai(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function br(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Al(h,y,v){y instanceof Ir?(h.i=y,qa(h.i,h.l)):(v||(y=xs(y,wr)),h.i=new Ir(y,h.l))}function Kt(h,y,v){h.i.set(y,v)}function Ms(h){return Kt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ai(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,hn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var za=/[#\/\?@]/g,Vc=/[#\?:]/g,bl=/[#\?]/g,wr=/[#\?@]/g,Mc=/#/g;function Ir(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=Ir.prototype,s.add=function(h,y){fn(this),this.i=null,h=Rr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function xc(h,y){fn(h),y=Rr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function wl(h,y){return fn(h),y=Rr(h,y),h.g.has(y)}s.forEach=function(h,y){fn(this),this.g.forEach(function(v,A){v.forEach(function(U){h.call(y,U,A,this)},this)},this)};function Il(h,y){fn(h);let v=[];if(typeof y=="string")wl(h,y)&&(v=v.concat(h.g.get(Rr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}s.set=function(h,y){return fn(this),this.i=null,h=Rr(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=Il(this,h),h.length>0?String(h[0]):y):y};function Ba(h,y,v){xc(h,y),v.length>0&&(h.i=null,h.g.set(Rr(h,y),x(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const U=ji(v);v=Il(this,v);for(let j=0;j<v.length;j++){let et=U;v[j]!==""&&(et+="="+ji(v[j])),h.push(et)}}return this.i=h.join("&")};function Pc(h){const y=new Ir;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Rr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function qa(h,y){y&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(xc(this,A),Ba(this,U,v))},h)),h.j=y}function ti(h,y){const v=new Jn;if(c.Image){const A=new Image;A.onload=E(Pn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Pn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Pn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Pn,v,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Rl(h,y){const v=new Jn,A=new AbortController,U=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?Pn(v,"TestPingServer: ok",!0,y):Pn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Pn(v,"TestPingServer: error",!1,y)})}function Pn(h,y,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Cr(){this.g=new Sc}function bi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(bi,Ac),bi.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(h,y){ve.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ps,ve),s=Ps.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ei(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Dr(this):ei(this),this.readyState==3&&ja(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Dr(this))},s.Na=function(h){this.g&&(this.response=h,Dr(this))},s.ga=function(){this.g&&Dr(this)};function Dr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kn(h){let y="";return zt(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function ks(h,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=kn(v),typeof h=="string"?v!=null&&ji(v):Kt(h,y,v))}function Zt(h){ve.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,ve);var wi=/^https?$/i,Cl=["POST","PUT"];s=Zt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(j){Ls(this,j);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Cl,y,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,et]of v)this.g.setRequestHeader(j,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(j){Ls(this,j)}};function Ls(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Dl(h),Fi(h)}function Dl(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},s.Xa=function(){Us(this)};function Us(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),ni(h)==4){h.h=!1;try{const j=h.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=j===0){let et=String(h.D).match(Oc)[1]||null;!et&&c.self&&c.self.location&&(et=c.self.location.protocol.slice(0,-1)),A=!wi.test(et?et.toLowerCase():"")}v=A}if(v)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var U=ni(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Dl(h)}}finally{Fi(h)}}}}function Fi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Pe(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),xd(y)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(h){const y={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(R(h[A]))continue;var v=Cc(h[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=y[U]||[];y[U]=j,j.push(v)}Gt(y,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Nr(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(h&&h.concurrentRequestLimit),this.Ba=new Cr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Nr.prototype,s.ka=8,s.I=1,s.connect=function(h,y,v,A){Ee(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=jc(this,null,this.W),Ri(this)};function Nl(h){if(Fa(h),h.I==3){var y=h.V++,v=Ae(h.J);if(Kt(v,"SID",h.M),Kt(v,"RID",y),Kt(v,"TYPE","terminate"),zs(h,v),y=new Zn(h,h.j,y),y.M=2,y.A=Ms(Ae(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=Fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}qc(h)}function Or(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function Fa(h){Or(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ga(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ri(h){if(!vl(h.h)&&!h.m){h.m=!0;var y=h.Ea;rt||w(),ct||(rt(),ct=!0),I.add(y,h),h.D=0}}function Ha(h,y){return Ti(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pi(g(h.Ea,h,y),Bc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Zn(this,this.j,h);let j=this.o;if(this.U&&(j?(j=V(j),lt(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=kc(this,U,y),v=Ae(this.J),Kt(v,"RID",h),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),zs(this,v),j&&(this.R?y="headers="+ji(kn(j))+"&"+y:this.u&&ks(v,this.u,j)),El(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",y),Kt(v,"SID","null"),U.U=!0,yi(U,v,null)):yi(U,v,y),this.I=2}}else this.I==3&&(h?Ol(this,h):this.i.length==0||vl(this.h)||Ol(this))};function Ol(h,y){var v;y?v=y.l:v=h.V++;const A=Ae(h.J);Kt(A,"SID",h.M),Kt(A,"RID",v),Kt(A,"AID",h.K),zs(h,A),h.u&&h.o&&ks(A,h.u,h.o),v=new Zn(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=kc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),El(h.h,v),yi(v,A,y)}function zs(h,y){h.H&&zt(h.H,function(v,A){Kt(y,A,v)}),h.l&&zt({},function(v,A){Kt(y,A,v)})}function kc(h,y,v){v=Math.min(h.i.length,v);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let wt=-1;for(;;){const ge=["count="+v];wt==-1?v>0?(wt=U[0].g,ge.push("ofs="+wt)):wt=0:ge.push("ofs="+wt);let jt=!0;for(let oe=0;oe<v;oe++){var j=U[oe].g;const Ln=U[oe].map;if(j-=wt,j<0)wt=Math.max(0,U[oe].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var et=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Di,ii]of et){let ri=ii;m(ii)&&(ri=Ar(ii)),ge.push(j+Di+"="+encodeURIComponent(ri))}}catch(Di){throw ge.push(j+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(Ln)}}if(jt){et=ge.join("&");break t}}et=void 0}return h=h.i.splice(0,v),y.G=h,et}function Lc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;rt||w(),ct||(rt(),ct=!0),I.add(y,h),h.A=0}}function Bs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pi(g(h.Da,h),Bc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pi(g(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Or(this),Uc(this))};function Vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Uc(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ae(h.na);Kt(y,"RID","rpc"),Kt(y,"SID",h.M),Kt(y,"AID",h.K),Kt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Kt(y,"TO",h.ia),Kt(y,"TYPE","xmlhttp"),zs(h,y),h.u&&h.o&&ks(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Ms(Ae(y)),v.u=null,v.R=!0,ka(v,h)}s.Va=function(){this.C!=null&&(this.C=null,Or(this),Bs(this),Ee(19))};function Ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function zc(h,y){var v=null;if(h.g==y){Ga(h),Vl(h),h.g=null;var A=2}else if(Si(h.h,y))v=y.G,Tl(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;A=Pa(),Pe(A,new mi(A,v)),Ri(h)}else Lc(h);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Ha(h,y)||A==2&&Bs(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),U){case 1:Ci(h,5);break;case 4:Ci(h,10);break;case 3:Ci(h,6);break;default:Ci(h,2)}}}function Bc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ci(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),A=h.Ua;const U=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(A,"https"),Ms(A),U?ti(A.toString(),v):Rl(A.toString(),v)}else Ee(2);h.I=0,h.l&&h.l.pa(y),qc(h),Fa(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function qc(h){if(h.I=0,h.ja=[],h.l){const y=Sl(h.h);(y.length!=0||h.i.length!=0)&&(H(h.ja,y),H(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function jc(h,y,v){var A=v instanceof Tn?Ae(v):new Tn(v);if(A.g!="")y&&(A.g=y+"."+A.g),br(A,A.u);else{var U=c.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const j=new Tn(null);A&&qe(j,A),y&&(j.g=y),U&&br(j,U),v&&(j.h=v),A=j}return v=h.G,y=h.wa,v&&y&&Kt(A,v,y),Kt(A,"VER",h.ka),zs(h,A),A}function Fc(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Zt(new bi({ab:v})):new Zt(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}s=Hc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vr(){}Vr.prototype.g=function(h,y){return new an(h,y)};function an(h,y){ve.call(this),this.g=new Nr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Gi(this)}T(an,ve),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Nl(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Ar(h),h=v);y.i.push(new Se(y.Ya++,h)),y.I==3&&Ri(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,an.Z.N.call(this)};function Gc(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const v in y){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Gc,Ge);function Kc(){Mn.call(this),this.status=1}T(Kc,Mn);function Gi(h){this.g=h}T(Gi,Hc),Gi.prototype.ra=function(){Pe(this.g,"a")},Gi.prototype.qa=function(h){Pe(this.g,new Gc(h))},Gi.prototype.pa=function(h){Pe(this.g,new Kc)},Gi.prototype.oa=function(){Pe(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ub=function(){return new Vr},lb=function(){return Pa()},ob=pe,_g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,df=Os,gl.COMPLETE="complete",ab=gl,bc.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ve.prototype.listen=ve.prototype.J,wu=bc,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,sb=Zt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",w0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Xg("@firebase/firestore");function Do(){return Sa.logLevel}function tt(s,...t){if(Sa.logLevel<=xt.DEBUG){const e=t.map(ay);Sa.debug(`Firestore (${ol}): ${s}`,...e)}}function un(s,...t){if(Sa.logLevel<=xt.ERROR){const e=t.map(ay);Sa.error(`Firestore (${ol}): ${s}`,...e)}}function Hu(s,...t){if(Sa.logLevel<=xt.WARN){const e=t.map(ay);Sa.warn(`Firestore (${ol}): ${s}`,...e)}}function ay(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,cb(s,r,e)}function cb(s,t,e){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw un(r),new Error(r)}function pt(s,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,s||cb(t,o,r)}function At(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends _r{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ln.UNAUTHENTICATED)))}shutdown(){}}class AO{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){pt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new TO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class bO{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wO{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new bO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){pt(this.o===void 0,3512);const r=u=>{u.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(pt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new I0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<s;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=RO(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function St(s,t){return s<t?-1:s>t?1:0}function vg(s,t){const e=Math.min(s.length,t.length);for(let r=0;r<e;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return $p(o)===$p(u)?St(o,u):$p(o)?1:-1}return St(s.length,t.length)}const CO=55296,DO=57343;function $p(s){const t=s.charCodeAt(0);return t>=CO&&t<=DO}function Ho(s,t,e){return s.length===t.length&&s.every(((r,o)=>e(r,t[o])))}function hb(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__name__";class xi{constructor(t,e,r){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&dt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=xi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return St(t.length,e.length)}static compareSegments(t,e){const r=xi.isNumericId(t),o=xi.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(t).compare(xi.extractNumericId(e)):vg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ms.fromString(t.substring(4,t.length-2))}}class Ht extends xi{construct(t,e,r){return new Ht(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new nt(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const NO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class he extends xi{construct(t,e,r){return new he(t,e,r)}static isValidIdentifier(t){return NO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),he.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new he([R0])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new nt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new nt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new nt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new he(e)}static emptyPath(){return new he([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.path=t}static fromPath(t){return new st(Ht.fromString(t))}static fromName(t){return new st(Ht.fromString(t).popFirst(5))}static empty(){return new st(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new Ht(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(s,t,e){if(!e)throw new nt(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function OO(s,t,e,r){if(t===!0&&r===!0)throw new nt(Q.INVALID_ARGUMENT,`${s} and ${e} cannot be used together.`)}function C0(s){if(!st.isDocumentKey(s))throw new nt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function D0(s){if(st.isDocumentKey(s))throw new nt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function db(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function hd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Go(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new nt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=hd(s);throw new nt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s,t){const e={typeString:s};return t&&(e.value=t),e}function fc(s,t){if(!db(s))throw new nt(Q.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){e=`JSON missing required field: '${r}'`;break}const c=s[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new nt(Q.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,O0=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*O0);return new Xt(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<N0)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fc(t,Xt._jsonSchema))return new Xt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-N0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:Ne("string",Xt._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Xt(0,0))}static max(){return new yt(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;class Lf{constructor(t,e,r,o){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=o}}function Eg(s){return s.fields.find((t=>t.kind===2))}function aa(s){return s.fields.filter((t=>t.kind!==2))}Lf.UNKNOWN_ID=-1;class mf{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ku{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ku(0,Vn.min())}}function VO(s,t){const e=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new Xt(e+1,0):new Xt(e,r));return new Vn(o,st.empty(),t)}function mb(s){return new Vn(s.readTime,s.key,Gu)}class Vn{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Vn(yt.min(),st.empty(),Gu)}static max(){return new Vn(yt.max(),st.empty(),Gu)}}function ly(s,t){let e=s.readTime.compareTo(t.readTime);return e!==0?e:(e=st.comparator(s.documentKey,t.documentKey),e!==0?e:St(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==pb)throw s;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new L(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof L?e:L.resolve(e)}catch(e){return L.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):L.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):L.reject(e)}static resolve(t){return new L(((e,r)=>{e(t)}))}static reject(t){return new L(((e,r)=>{r(t)}))}static waitFor(t){return new L(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=L.resolve(!1);for(const r of t)e=e.next((o=>o?L.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new L(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((E=>{c[g]=E,++m,m===u&&r(c)}),(E=>o(E)))}}))}static doWhile(t,e){return new L(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="SimpleDb";class fd{static open(t,e,r,o){try{return new fd(e,t.transaction(o,r))}catch(u){throw new Vu(e,u)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new fr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Vu(t,e.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=uy(r.target.error);this.S.reject(new Vu(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(tt(Dn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new xO(e)}}class ps{static delete(t){return tt(Dn,"Removing database:",t),la(hA().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!_A())return!1;if(ps.F())return!0;const t=Le(),e=ps.M(t),r=0<e&&e<10,o=yb(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,e,r){this.name=t,this.version=e,this.N=r,this.B=null,ps.M(Le())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(tt(Dn,"Opening database:",this.name),this.db=await new Promise(((e,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;e(c)},o.onblocked=()=>{r(new Vu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?r(new nt(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new nt(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Vu(t,c))},o.onupgradeneeded=u=>{tt(Dn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{tt(Dn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,o){const u=e==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const m=fd.open(this.db,t,u?"readonly":"readwrite",r),p=o(m).next((g=>(m.C(),g))).catch((g=>(m.abort(g),L.reject(g)))).toPromise();return p.catch((()=>{})),await m.D,p}catch(m){const p=m,g=p.name!=="FirebaseError"&&c<3;if(tt(Dn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function yb(s){const t=s.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class MO{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return la(this.U.delete())}}class Vu extends nt{constructor(t,e){super(Q.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function As(s){return s.name==="IndexedDbTransactionError"}class xO{constructor(t){this.store=t}put(t,e){let r;return e!==void 0?(tt(Dn,"PUT",this.store.name,t,e),r=this.store.put(e,t)):(tt(Dn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),la(r)}add(t){return tt(Dn,"ADD",this.store.name,t,t),la(this.store.add(t))}get(t){return la(this.store.get(t)).next((e=>(e===void 0&&(e=null),tt(Dn,"GET",this.store.name,t,e),e)))}delete(t){return tt(Dn,"DELETE",this.store.name,t),la(this.store.delete(t))}count(){return tt(Dn,"COUNT",this.store.name),la(this.store.count())}J(t,e){const r=this.options(t,e),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(r.range);return new L(((c,m)=>{u.onerror=p=>{m(p.target.error)},u.onsuccess=p=>{c(p.target.result)}}))}{const u=this.cursor(r),c=[];return this.H(u,((m,p)=>{c.push(p)})).next((()=>c))}}Y(t,e){const r=this.store.getAll(t,e===null?void 0:e);return new L(((o,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}Z(t,e){tt(Dn,"DELETE ALL",this.store.name);const r=this.options(t,e);r.X=!1;const o=this.cursor(r);return this.H(o,((u,c,m)=>m.delete()))}ee(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.H(o,e)}te(t){const e=this.cursor({});return new L(((r,o)=>{e.onerror=u=>{const c=uy(u.target.error);o(c)},e.onsuccess=u=>{const c=u.target.result;c?t(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}H(t,e){const r=[];return new L(((o,u)=>{t.onerror=c=>{u(c.target.error)},t.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const p=new MO(m),g=e(m.primaryKey,m.value,p);if(g instanceof L){const E=g.catch((T=>(p.done(),L.reject(T))));r.push(E)}p.isDone?o():p.G===null?m.continue():m.continue(p.G)}})).next((()=>L.waitFor(r)))}options(t,e){let r;return t!==void 0&&(typeof t=="string"?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function la(s){return new L(((t,e)=>{s.onsuccess=r=>{const o=r.target.result;t(o)},s.onerror=r=>{const o=uy(r.target.error);e(o)}}))}let V0=!1;function uy(s){const t=ps.M(Le());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(e)>=0){const r=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V0||(V0=!0,setTimeout((()=>{throw r}),0)),r}}return s}const Mu="IndexBackfiller";class PO{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){tt(Mu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();tt(Mu,`Documents written: ${e}`)}catch(e){As(e)?tt(Mu,"Ignoring IndexedDB error during index backfill: ",e):await Na(e)}await this.re(6e4)}))}}class kO{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const r=new Set;let o=e,u=!0;return L.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return tt(Mu,`Processing collection: ${c}`),this.oe(t,c,o).next((m=>{o-=m,r.add(c)}));u=!1})))).next((()=>e-o))}oe(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((o=>this.localStore.localDocuments.getNextDocuments(t,e,o,r).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(o,u))).next((m=>(tt(Mu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m)))).next((()=>c.size))}))))}_e(t,e){let r=t;return e.changes.forEach(((o,u)=>{const c=mb(u);ly(c,r)>0&&(r=c)})),new Vn(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=-1;function dd(s){return s==null}function Qu(s){return s===0&&1/s==-1/0}function LO(s){return typeof s=="number"&&Number.isInteger(s)&&!Qu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="";function rn(s){let t="";for(let e=0;e<s.length;e++)t.length>0&&(t=M0(t)),t=UO(s.get(e),t);return M0(t)}function UO(s,t){let e=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":e+="";break;case Uf:e+="";break;default:e+=u}}return e}function M0(s){return s+Uf+""}function Pi(s){const t=s.length;if(pt(t>=2,64408,{path:s}),t===2)return pt(s.charAt(0)===Uf&&s.charAt(1)==="",56145,{path:s}),Ht.emptyPath();const e=t-2,r=[];let o="";for(let u=0;u<t;){const c=s.indexOf(Uf,u);switch((c<0||c>e)&&dt(50515,{path:s}),s.charAt(c+1)){case"":const m=s.substring(u,c);let p;o.length===0?p=m:(o+=m,p=o,o=""),r.push(p);break;case"":o+=s.substring(u,c),o+="\0";break;case"":o+=s.substring(u,c+1);break;default:dt(61167,{path:s})}u=c+2}return new Ht(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="remoteDocuments",dc="owner",Ao="owner",Yu="mutationQueues",zO="userId",li="mutations",x0="batchId",fa="userMutationsIndex",P0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(s,t){return[s,rn(t)]}function _b(s,t,e){return[s,rn(t),e]}const BO={},Ko="documentMutations",zf="remoteDocumentsV14",qO=["prefixPath","collectionGroup","readTime","documentId"],gf="documentKeyIndex",jO=["prefixPath","collectionGroup","documentId"],vb="collectionGroupIndex",FO=["collectionGroup","readTime","prefixPath","documentId"],Xu="remoteDocumentGlobal",Tg="remoteDocumentGlobalKey",Qo="targets",Eb="queryTargetsIndex",HO=["canonicalId","targetId"],Yo="targetDocuments",GO=["targetId","path"],cy="documentTargetsIndex",KO=["path","targetId"],Bf="targetGlobalKey",ma="targetGlobal",$u="collectionParents",QO=["collectionId","parent"],Xo="clientMetadata",YO="clientId",md="bundles",XO="bundleId",pd="namedQueries",$O="name",hy="indexConfiguration",JO="indexId",Sg="collectionGroupIndex",ZO="collectionGroup",xu="indexState",WO=["indexId","uid"],Tb="sequenceNumberIndex",tV=["uid","sequenceNumber"],Pu="indexEntries",eV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sb="documentKeyIndex",nV=["indexId","uid","orderedDocumentKey"],gd="documentOverlays",iV=["userId","collectionPath","documentId"],Ag="collectionPathOverlayIndex",rV=["userId","collectionPath","largestBatchId"],Ab="collectionGroupOverlayIndex",sV=["userId","collectionGroup","largestBatchId"],fy="globals",aV="name",bb=[Yu,li,Ko,oa,Qo,dc,ma,Yo,Xo,Xu,$u,md,pd],oV=[...bb,gd],wb=[Yu,li,Ko,zf,Qo,dc,ma,Yo,Xo,Xu,$u,md,pd,gd],Ib=wb,dy=[...Ib,hy,xu,Pu],lV=dy,Rb=[...dy,fy],uV=Rb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends gb{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function ze(s,t){const e=At(s);return ps.O(e.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(s){let t=0;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t++;return t}function bs(s,t){for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t(e,s[e])}function Cb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Ze(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(t){return new L0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Jt)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Jt(this.comparator);return e.data=t,e}}class L0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bo(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(he.comparator)}static empty(){return new _n([])}unionWith(t){let e=new Jt(he.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new _n(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ho(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Db("Invalid base64 string: "+u):u}})(t);return new Ve(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Ve(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ve.EMPTY_BYTE_STRING=new Ve("");const cV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(pt(!!s,39018),typeof s=="string"){let t=0;const e=cV.exec(s);if(pt(!!e,46558,{timestamp:s}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?Ve.fromBase64String(s):Ve.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="server_timestamp",Ob="__type__",Vb="__previous_value__",Mb="__local_write_time__";function my(s){return(s?.mapValue?.fields||{})[Ob]?.stringValue===Nb}function yd(s){const t=s.mapValue.fields[Vb];return my(t)?yd(t):t}function Ju(s){const t=gr(s.mapValue.fields[Mb].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t,e,r,o,u,c,m,p,g,E){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const qf="(default)";class Aa{constructor(t,e){this.projectId=t,this.database=e||qf}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database===qf}isEqual(t){return t instanceof Aa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="__type__",xb="__max__",cs={mapValue:{fields:{__type__:{stringValue:xb}}}},gy="__vector__",$o="value",yf={nullValue:"NULL_VALUE"};function _s(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?my(s)?4:Pb(s)?9007199254740991:_d(s)?10:11:dt(28295,{value:s})}function qi(s,t){if(s===t)return!0;const e=_s(s);if(e!==_s(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ju(s).isEqual(Ju(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=gr(o.timestampValue),m=gr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return yr(o.bytesValue).isEqual(yr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ue(o.geoPointValue.latitude)===ue(u.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ue(o.integerValue)===ue(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ue(o.doubleValue),m=ue(u.doubleValue);return c===m?Qu(c)===Qu(m):isNaN(c)&&isNaN(m)}return!1})(s,t);case 9:return Ho(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(k0(c)!==k0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!qi(c[p],m[p])))return!1;return!0})(s,t);default:return dt(52216,{left:s})}}function Zu(s,t){return(s.values||[]).find((e=>qi(e,t)))!==void 0}function vs(s,t){if(s===t)return 0;const e=_s(s),r=_s(t);if(e!==r)return St(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=ue(u.integerValue||u.doubleValue),p=ue(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,t);case 3:return U0(s.timestampValue,t.timestampValue);case 4:return U0(Ju(s),Ju(t));case 5:return vg(s.stringValue,t.stringValue);case 6:return(function(u,c){const m=yr(u),p=yr(c);return m.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=St(m[g],p[g]);if(E!==0)return E}return St(m.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=St(ue(u.latitude),ue(c.latitude));return m!==0?m:St(ue(u.longitude),ue(c.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return z0(s.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[$o]?.arrayValue,E=p[$o]?.arrayValue,T=St(g?.values?.length||0,E?.values?.length||0);return T!==0?T:z0(g,E)})(s.mapValue,t.mapValue);case 11:return(function(u,c){if(u===cs.mapValue&&c===cs.mapValue)return 0;if(u===cs.mapValue)return 1;if(c===cs.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=vg(p[T],E[T]);if(b!==0)return b;const x=vs(m[p[T]],g[E[T]]);if(x!==0)return x}return St(p.length,E.length)})(s.mapValue,t.mapValue);default:throw dt(23264,{he:e})}}function U0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return St(s,t);const e=gr(s),r=gr(t),o=St(e.seconds,r.seconds);return o!==0?o:St(e.nanos,r.nanos)}function z0(s,t){const e=s.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=vs(e[o],r[o]);if(u)return u}return St(e.length,r.length)}function Jo(s){return wg(s)}function wg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(e){const r=gr(e);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(e){return yr(e).toBase64()})(s.bytesValue):"referenceValue"in s?(function(e){return st.fromName(e).toString()})(s.referenceValue):"geoPointValue"in s?(function(e){return`geo(${e.latitude},${e.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=wg(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${wg(e.fields[c])}`;return o+"}"})(s.mapValue):dt(61005,{value:s})}function _f(s){switch(_s(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yd(s);return t?16+_f(t):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+_f(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return bs(r.fields,((u,c)=>{o+=u.length+_f(c)})),o})(s.mapValue);default:throw dt(13486,{value:s})}}function Wu(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Ig(s){return!!s&&"integerValue"in s}function tc(s){return!!s&&"arrayValue"in s}function B0(s){return!!s&&"nullValue"in s}function q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vf(s){return!!s&&"mapValue"in s}function _d(s){return(s?.mapValue?.fields||{})[py]?.stringValue===gy}function ku(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return bs(s.mapValue.fields,((e,r)=>t.mapValue.fields[e]=ku(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(s.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ku(s.arrayValue.values[e]);return t}return{...s}}function Pb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===xb}const kb={mapValue:{fields:{[py]:{stringValue:gy},[$o]:{arrayValue:{}}}}};function fV(s){return"nullValue"in s?yf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Wu(Aa.empty(),st.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?_d(s)?kb:{mapValue:{}}:dt(35942,{value:s})}function dV(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Wu(Aa.empty(),st.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?kb:"mapValue"in s?_d(s)?{mapValue:{}}:cs:dt(61959,{value:s})}function j0(s,t){const e=vs(s.value,t.value);return e!==0?e:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function F0(s,t){const e=vs(s.value,t.value);return e!==0?e:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!vf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ku(e)}setAll(t){let e=he.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=ku(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());vf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];vf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){bs(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new nn(ku(this.value))}}function Lb(s){const t=[];return bs(s.fields,((e,r)=>{const o=new he([e]);if(vf(r)){const u=Lb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new me(t,0,yt.min(),yt.min(),yt.min(),nn.empty(),0)}static newFoundDocument(t,e,r,o){return new me(t,1,e,yt.min(),r,o,0)}static newNoDocument(t,e){return new me(t,2,e,yt.min(),yt.min(),nn.empty(),0)}static newUnknownDocument(t,e){return new me(t,3,e,yt.min(),yt.min(),nn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,e){this.position=t,this.inclusive=e}}function H0(s,t,e){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],c=s.position[o];if(u.field.isKeyField()?r=st.comparator(st.fromName(c.referenceValue),e.key):r=vs(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function G0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let e=0;e<s.position.length;e++)if(!qi(s.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,e="asc"){this.field=t,this.dir=e}}function mV(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{}class Pt extends Ub{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new pV(t,e,r):e==="array-contains"?new _V(t,r):e==="in"?new Hb(t,r):e==="not-in"?new vV(t,r):e==="array-contains-any"?new EV(t,r):new Pt(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new gV(t,r):new yV(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(vs(e,this.value)):e!==null&&_s(this.value)===_s(e)&&this.matchesComparison(vs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends Ub{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new $t(t,e)}matches(t){return Wo(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wo(s){return s.op==="and"}function Rg(s){return s.op==="or"}function yy(s){return zb(s)&&Wo(s)}function zb(s){for(const t of s.filters)if(t instanceof $t)return!1;return!0}function Cg(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+Jo(s.value);if(yy(s))return s.filters.map((t=>Cg(t))).join(",");{const t=s.filters.map((e=>Cg(e))).join(",");return`${s.op}(${t})`}}function Bb(s,t){return s instanceof Pt?(function(r,o){return o instanceof Pt&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(s,t):s instanceof $t?(function(r,o){return o instanceof $t&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&Bb(c,o.filters[m])),!0):!1})(s,t):void dt(19439)}function qb(s,t){const e=s.filters.concat(t);return $t.create(e,s.op)}function jb(s){return s instanceof Pt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Jo(e.value)}`})(s):s instanceof $t?(function(e){return e.op.toString()+" {"+e.getFilters().map(jb).join(" ,")+"}"})(s):"Filter"}class pV extends Pt{constructor(t,e,r){super(t,e,r),this.key=st.fromName(r.referenceValue)}matches(t){const e=st.comparator(t.key,this.key);return this.matchesComparison(e)}}class gV extends Pt{constructor(t,e){super(t,"in",e),this.keys=Fb("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class yV extends Pt{constructor(t,e){super(t,"not-in",e),this.keys=Fb("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Fb(s,t){return(t.arrayValue?.values||[]).map((e=>st.fromName(e.referenceValue)))}class _V extends Pt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return tc(e)&&Zu(e.arrayValue,this.value)}}class Hb extends Pt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zu(this.value.arrayValue,e)}}class vV extends Pt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zu(this.value.arrayValue,e)}}class EV extends Pt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!tc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Zu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function Dg(s,t=null,e=[],r=[],o=null,u=null,c=null){return new TV(s,t,e,r,o,u,c)}function ba(s){const t=At(s);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Cg(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),dd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Jo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Jo(r))).join(",")),t.Te=e}return t.Te}function mc(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<s.orderBy.length;e++)if(!mV(s.orderBy[e],t.orderBy[e]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let e=0;e<s.filters.length;e++)if(!Bb(s.filters[e],t.filters[e]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!G0(s.startAt,t.startAt)&&G0(s.endAt,t.endAt)}function jf(s){return st.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Ff(s,t){return s.filters.filter((e=>e instanceof Pt&&e.field.isEqual(t)))}function K0(s,t,e){let r=yf,o=!0;for(const u of Ff(s,t)){let c=yf,m=!0;switch(u.op){case"<":case"<=":c=fV(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=yf}j0({value:r,inclusive:o},{value:c,inclusive:m})<0&&(r=c,o=m)}if(e!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=e.position[u];j0({value:r,inclusive:o},{value:c,inclusive:e.inclusive})<0&&(r=c,o=e.inclusive);break}}return{value:r,inclusive:o}}function Q0(s,t,e){let r=cs,o=!0;for(const u of Ff(s,t)){let c=cs,m=!0;switch(u.op){case">=":case">":c=dV(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=cs}F0({value:r,inclusive:o},{value:c,inclusive:m})>0&&(r=c,o=m)}if(e!==null){for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(t)){const c=e.position[u];F0({value:r,inclusive:o},{value:c,inclusive:e.inclusive})>0&&(r=c,o=e.inclusive);break}}return{value:r,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SV(s,t,e,r,o,u,c,m){return new ll(s,t,e,r,o,u,c,m)}function _y(s){return new ll(s)}function Y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Gb(s){return s.collectionGroup!==null}function Lu(s){const t=At(s);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Jt(he.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ec(u,r))})),e.has(he.keyField().canonicalString())||t.Ie.push(new ec(he.keyField(),r))}return t.Ie}function Xn(s){const t=At(s);return t.Ee||(t.Ee=AV(t,Lu(s))),t.Ee}function AV(s,t){if(s.limitType==="F")return Dg(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ec(o.field,u)}));const e=s.endAt?new Zo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Zo(s.startAt.position,s.startAt.inclusive):null;return Dg(s.path,s.collectionGroup,t,s.filters,s.limit,e,r)}}function Ng(s,t){const e=s.filters.concat([t]);return new ll(s.path,s.collectionGroup,s.explicitOrderBy.slice(),e,s.limit,s.limitType,s.startAt,s.endAt)}function Hf(s,t,e){return new ll(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,e,s.startAt,s.endAt)}function vd(s,t){return mc(Xn(s),Xn(t))&&s.limitType===t.limitType}function Kb(s){return`${ba(Xn(s))}|lt:${s.limitType}`}function No(s){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>jb(o))).join(", ")}]`),dd(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Jo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Jo(o))).join(",")),`Target(${r})`})(Xn(s))}; limitType=${s.limitType})`}function pc(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):st.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Lu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=H0(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,Lu(r),o)||r.endAt&&!(function(c,m,p){const g=H0(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,Lu(r),o))})(s,t)}function bV(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Qb(s){return(t,e)=>{let r=!1;for(const o of Lu(s)){const u=wV(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function wV(s,t,e){const r=s.field.isKeyField()?st.comparator(t.key,e.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vs(p,g):dt(42886)})(s.field,t,e);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){bs(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new ce(st.comparator);function Nn(){return IV}const Yb=new ce(st.comparator);function Iu(...s){let t=Yb;for(const e of s)t=t.insert(e.key,e);return t}function Xb(s){let t=Yb;return s.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ki(){return Uu()}function $b(){return Uu()}function Uu(){return new Er((s=>s.toString()),((s,t)=>s.isEqual(t)))}const RV=new ce(st.comparator),CV=new Jt(st.comparator);function Dt(...s){let t=CV;for(const e of s)t=t.add(e);return t}const DV=new Jt(St);function NV(){return DV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(t)?"-0":t}}function Jb(s){return{integerValue:""+s}}function OV(s,t){return LO(t)?Jb(t):vy(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function VV(s,t,e){return s instanceof nc?(function(o,u){const c={fields:{[Ob]:{stringValue:Nb},[Mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&my(u)&&(u=yd(u)),u&&(c.fields[Vb]=u),{mapValue:c}})(e,t):s instanceof tl?Wb(s,t):s instanceof el?tw(s,t):(function(o,u){const c=Zb(o,u),m=X0(c)+X0(o.Ae);return Ig(c)&&Ig(o.Ae)?Jb(m):vy(o.serializer,m)})(s,t)}function MV(s,t,e){return s instanceof tl?Wb(s,t):s instanceof el?tw(s,t):e}function Zb(s,t){return s instanceof ic?(function(r){return Ig(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class nc extends Ed{}class tl extends Ed{constructor(t){super(),this.elements=t}}function Wb(s,t){const e=ew(t);for(const r of s.elements)e.some((o=>qi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class el extends Ed{constructor(t){super(),this.elements=t}}function tw(s,t){let e=ew(t);for(const r of s.elements)e=e.filter((o=>!qi(o,r)));return{arrayValue:{values:e}}}class ic extends Ed{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function X0(s){return ue(s.integerValue||s.doubleValue)}function ew(s){return tc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t,e){this.field=t,this.transform=e}}function PV(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof tl&&o instanceof tl||r instanceof el&&o instanceof el?Ho(r.elements,o.elements,qi):r instanceof ic&&o instanceof ic?qi(r.Ae,o.Ae):r instanceof nc&&o instanceof nc})(s.transform,t.transform)}class kV{constructor(t,e){this.version=t,this.transformResults=e}}class vn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vn}static exists(t){return new vn(void 0,t)}static updateTime(t){return new vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ef(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Td{}function nw(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Ey(s.key,vn.none()):new ul(s.key,s.data,vn.none());{const e=s.data,r=nn.empty();let o=new Jt(he.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Tr(s.key,r,new _n(o.toArray()),vn.none())}}function LV(s,t,e){s instanceof ul?(function(o,u,c){const m=o.value.clone(),p=J0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(s,t,e):s instanceof Tr?(function(o,u,c){if(!Ef(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=J0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(iw(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(s,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function zu(s,t,e,r){return s instanceof ul?(function(u,c,m,p){if(!Ef(u.precondition,c))return m;const g=u.value.clone(),E=Z0(u.fieldTransforms,p,c);return g.setAll(E),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(s,t,e,r):s instanceof Tr?(function(u,c,m,p){if(!Ef(u.precondition,c))return m;const g=Z0(u.fieldTransforms,p,c),E=c.data;return E.setAll(iw(u)),E.setAll(g),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,t,e,r):(function(u,c,m){return Ef(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(s,t,e)}function UV(s,t){let e=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=Zb(r.transform,o||null);u!=null&&(e===null&&(e=nn.empty()),e.set(r.field,u))}return e||null}function $0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ho(r,o,((u,c)=>PV(u,c)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ul extends Td{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Td{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iw(s){const t=new Map;return s.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=s.data.field(e);t.set(e,r)}})),t}function J0(s,t,e){const r=new Map;pt(s.length===e.length,32656,{Re:e.length,Ve:s.length});for(let o=0;o<e.length;o++){const u=s[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,MV(c,m,e[o]))}return r}function Z0(s,t,e){const r=new Map;for(const o of s){const u=o.transform,c=e.data.field(o.field);r.set(o.field,VV(u,c,t))}return r}class Ey extends Td{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rw extends Td{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&LV(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=zu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=zu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=$b();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const p=nw(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Dt())}isEqual(t){return this.batchId===t.batchId&&Ho(this.mutations,t.mutations,((e,r)=>$0(e,r)))&&Ho(this.baseMutations,t.baseMutations,((e,r)=>$0(e,r)))}}class Sy{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){pt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return RV})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Sy(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Ut;function BV(s){switch(s){case Q.OK:return dt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function sw(s){if(s===void 0)return un("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Ce.OK:return Q.OK;case Ce.CANCELLED:return Q.CANCELLED;case Ce.UNKNOWN:return Q.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Q.INTERNAL;case Ce.UNAVAILABLE:return Q.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Q.NOT_FOUND;case Ce.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ce.ABORTED:return Q.ABORTED;case Ce.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ce.DATA_LOSS:return Q.DATA_LOSS;default:return dt(39323,{code:s})}}(Ut=Ce||(Ce={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new ms([4294967295,4294967295],0);function W0(s){const t=qV().encode(s),e=new rb;return e.update(t),new Uint8Array(e.digest())}function tS(s){const t=new DataView(s.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ms([e,r],0),new ms([o,u],0)]}class by{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ru(`Invalid padding: ${e}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ms.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(ms.fromNumber(r)));return o.compare(jV)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=W0(t),[r,o]=tS(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new by(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=W0(t),[r,o]=tS(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,gc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Sd(yt.min(),o,new ce(St),Nn(),Dt())}}class gc{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new gc(r,e,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class aw{constructor(t,e){this.targetId=t,this.Ce=e}}class ow{constructor(t,e,r=Ve.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class eS{constructor(){this.ve=0,this.Fe=nS(),this.Me=Ve.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Dt(),e=Dt(),r=Dt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:dt(38017,{changeType:u})}})),new gc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=nS()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FV{constructor(t){this.Ge=t,this.ze=new Map,this.je=Nn(),this.Je=nf(),this.He=nf(),this.Ye=new ce(St)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(jf(u))if(r===0){const c=new st(u.path);this.et(e,c,me.newNoDocument(c,yt.min()))}else pt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=yr(r).toUint8Array()}catch(p){if(p instanceof Db)return Hu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new by(c,o,u)}catch(p){return Hu(p instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&jf(m.target)){const p=new st(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,me.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=Dt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Sd(t,e,this.Ye,this.je,r);return this.je=Nn(),this.Je=nf(),this.He=nf(),this.Ye=new ce(St),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new eS,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Jt(St),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Jt(St),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||tt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function nf(){return new ce(st.comparator)}function nS(){return new ce(st.comparator)}const HV={asc:"ASCENDING",desc:"DESCENDING"},GV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KV={and:"AND",or:"OR"};class QV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Og(s,t){return s.useProto3Json||dd(t)?t:{value:t}}function nl(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lw(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function YV(s,t){return nl(s,t.toTimestamp())}function cn(s){return pt(!!s,49232),yt.fromTimestamp((function(e){const r=gr(e);return new Xt(r.seconds,r.nanos)})(s))}function wy(s,t){return Vg(s,t).canonicalString()}function Vg(s,t){const e=(function(o){return new Ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?e:e.child(t)}function uw(s){const t=Ht.fromString(s);return pt(_w(t),10190,{key:t.toString()}),t}function Gf(s,t){return wy(s.databaseId,t.path)}function pa(s,t){const e=uw(t);if(e.get(1)!==s.databaseId.projectId)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+s.databaseId.projectId);if(e.get(3)!==s.databaseId.database)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+s.databaseId.database);return new st(fw(e))}function cw(s,t){return wy(s.databaseId,t)}function hw(s){const t=uw(s);return t.length===4?Ht.emptyPath():fw(t)}function Mg(s){return new Ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fw(s){return pt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function iS(s,t,e){return{name:Gf(s,t),fields:e.value.mapValue.fields}}function XV(s,t,e){const r=pa(s,t.name),o=cn(t.updateTime),u=t.createTime?cn(t.createTime):yt.min(),c=new nn({mapValue:{fields:t.fields}}),m=me.newFoundDocument(r,o,u,c);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function $V(s,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:dt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(pt(E===void 0||typeof E=="string",58123),Ve.fromBase64String(E||"")):(pt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ve.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const E=g.code===void 0?Q.UNKNOWN:sw(g.code);return new nt(E,g.message||"")})(c);e=new ow(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=pa(s,r.document.name),u=cn(r.document.updateTime),c=r.document.createTime?cn(r.document.createTime):yt.min(),m=new nn({mapValue:{fields:r.document.fields}}),p=me.newFoundDocument(o,u,c,m),g=r.targetIds||[],E=r.removedTargetIds||[];e=new Tf(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=pa(s,r.document),u=r.readTime?cn(r.readTime):yt.min(),c=me.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Tf([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=pa(s,r.document),u=r.removedTargetIds||[];e=new Tf([],u,o,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new zV(o,u),m=r.targetId;e=new aw(m,c)}}return e}function Kf(s,t){let e;if(t instanceof ul)e={update:iS(s,t.key,t.value)};else if(t instanceof Ey)e={delete:Gf(s,t.key)};else if(t instanceof Tr)e={update:iS(s,t.key,t.data),updateMask:nM(t.fieldMask)};else{if(!(t instanceof rw))return dt(16599,{Vt:t.type});e={verify:Gf(s,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof nc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof el)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ic)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw dt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YV(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:dt(27497)})(s,t.precondition)),e}function xg(s,t){const e=t.currentDocument?(function(u){return u.updateTime!==void 0?vn.updateTime(cn(u.updateTime)):u.exists!==void 0?vn.exists(u.exists):vn.none()})(t.currentDocument):vn.none(),r=t.updateTransforms?t.updateTransforms.map((o=>(function(c,m){let p=null;if("setToServerValue"in m)pt(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),p=new nc;else if("appendMissingElements"in m){const E=m.appendMissingElements.values||[];p=new tl(E)}else if("removeAllFromArray"in m){const E=m.removeAllFromArray.values||[];p=new el(E)}else"increment"in m?p=new ic(c,m.increment):dt(16584,{proto:m});const g=he.fromServerFormat(m.fieldPath);return new xV(g,p)})(s,o))):[];if(t.update){t.update.name;const o=pa(s,t.update.name),u=new nn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(p){const g=p.fieldPaths||[];return new _n(g.map((E=>he.fromServerFormat(E))))})(t.updateMask);return new Tr(o,u,c,e,r)}return new ul(o,u,e,r)}if(t.delete){const o=pa(s,t.delete);return new Ey(o,e)}if(t.verify){const o=pa(s,t.verify);return new rw(o,e)}return dt(1463,{proto:t})}function JV(s,t){return s&&s.length>0?(pt(t!==void 0,14353),s.map((e=>(function(o,u){let c=o.updateTime?cn(o.updateTime):cn(u);return c.isEqual(yt.min())&&(c=cn(u)),new kV(c,o.transformResults||[])})(e,t)))):[]}function dw(s,t){return{documents:[cw(s,t.path)]}}function mw(s,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=cw(s,o);const u=(function(g){if(g.length!==0)return yw($t.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:Oo(b.field),direction:WV(b.dir)}})(E)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=Og(s,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function pw(s){let t=hw(s.parent);const e=s.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){pt(r===1,65062);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];e.where&&(u=(function(T){const b=gw(T);return b instanceof $t&&yy(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((b=>(function(H){return new ec(Vo(H.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(b)))})(e.orderBy));let m=null;e.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,dd(b)?null:b})(e.limit));let p=null;e.startAt&&(p=(function(T){const b=!!T.before,x=T.values||[];return new Zo(x,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const b=!T.before,x=T.values||[];return new Zo(x,b)})(e.endAt)),SV(t,o,c,u,m,"F",p,g)}function ZV(s,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gw(s){return s.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Vo(e.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(e.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vo(e.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(e.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(s):s.fieldFilter!==void 0?(function(e){return Pt.create(Vo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(e){return $t.create(e.compositeFilter.filters.map((r=>gw(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(e.compositeFilter.op))})(s):dt(30097,{filter:s})}function WV(s){return HV[s]}function tM(s){return GV[s]}function eM(s){return KV[s]}function Oo(s){return{fieldPath:s.canonicalString()}}function Vo(s){return he.fromServerFormat(s.fieldPath)}function yw(s){return s instanceof Pt?(function(e){if(e.op==="=="){if(q0(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(B0(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(q0(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(B0(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:tM(e.op),value:e.value}}})(s):s instanceof $t?(function(e){const r=e.getFilters().map((o=>yw(o)));return r.length===1?r[0]:{compositeFilter:{op:eM(e.op),filters:r}}})(s):dt(54877,{filter:s})}function nM(s){const t=[];return s.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _w(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,e,r,o,u=yt.min(),c=yt.min(),m=Ve.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.yt=t}}function iM(s,t){let e;if(t.document)e=XV(s.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=st.fromSegments(t.noDocument.path),o=Ia(t.noDocument.readTime);e=me.newNoDocument(r,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const r=st.fromSegments(t.unknownDocument.path),o=Ia(t.unknownDocument.version);e=me.newUnknownDocument(r,o)}}return t.readTime&&e.setReadTime((function(o){const u=new Xt(o[0],o[1]);return yt.fromTimestamp(u)})(t.readTime)),e}function rS(s,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Qf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(u,c){return{name:Gf(u,c.key),fields:c.data.value.mapValue.fields,updateTime:nl(u,c.version.toTimestamp()),createTime:nl(u,c.createTime.toTimestamp())}})(s.yt,t);else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:wa(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});r.unknownDocument={path:e.path.toArray(),version:wa(t.version)}}return r}function Qf(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function wa(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ia(s){const t=new Xt(s.seconds,s.nanoseconds);return yt.fromTimestamp(t)}function ua(s,t){const e=(t.baseMutations||[]).map((u=>xg(s.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const c=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map((u=>xg(s.yt,u))),o=Xt.fromMillis(t.localWriteTimeMs);return new Ty(t.batchId,o,e,r)}function Cu(s){const t=Ia(s.readTime),e=s.lastLimboFreeSnapshotVersion!==void 0?Ia(s.lastLimboFreeSnapshotVersion):yt.min();let r;return r=(function(u){return u.documents!==void 0})(s.query)?(function(u){const c=u.documents.length;return pt(c===1,1966,{count:c}),Xn(_y(hw(u.documents[0])))})(s.query):(function(u){return Xn(pw(u))})(s.query),new ur(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,t,e,Ve.fromBase64String(s.resumeToken))}function Ew(s,t){const e=wa(t.snapshotVersion),r=wa(t.lastLimboFreeSnapshotVersion);let o;o=jf(t.target)?dw(s.yt,t.target):mw(s.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ba(t.target),readTime:e,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Tw(s){const t=pw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hf(t,t.limit,"L"):t}function Jp(s,t){return new Ay(t.largestBatchId,xg(s.yt,t.overlayMutation))}function sS(s,t){const e=t.path.lastSegment();return[s,rn(t.path.popLast()),e]}function aS(s,t,e,r){return{indexId:s,uid:t,sequenceNumber:e,readTime:wa(r.readTime),documentKey:rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{getBundleMetadata(t,e){return oS(t).get(e).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:Ia(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(t,e){return oS(t).put((function(o){return{bundleId:o.id,createTime:wa(cn(o.createTime)),version:o.version}})(e))}getNamedQuery(t,e){return lS(t).get(e).next((r=>{if(r)return(function(u){return{name:u.name,query:Tw(u.bundledQuery),readTime:Ia(u.readTime)}})(r)}))}saveNamedQuery(t,e){return lS(t).put((function(o){return{name:o.name,readTime:wa(cn(o.readTime)),bundledQuery:o.bundledQuery}})(e))}}function oS(s){return ze(s,md)}function lS(s){return ze(s,pd)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const r=e.uid||"";return new Ad(t,r)}getOverlay(t,e){return yu(t).get(sS(this.userId,e)).next((r=>r?Jp(this.serializer,r):null))}getOverlays(t,e){const r=ki();return L.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){const o=[];return r.forEach(((u,c)=>{const m=new Ay(e,c);o.push(this.St(t,m))})),L.waitFor(o)}removeOverlaysForBatchId(t,e,r){const o=new Set;e.forEach((c=>o.add(rn(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(yu(t).Z(Ag,m))})),L.waitFor(u)}getOverlaysForCollection(t,e,r){const o=ki(),u=rn(e),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return yu(t).J(Ag,c).next((m=>{for(const p of m){const g=Jp(this.serializer,p);o.set(g.getKey(),g)}return o}))}getOverlaysForCollectionGroup(t,e,r,o){const u=ki();let c;const m=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return yu(t).ee({index:Ab,range:m},((p,g,E)=>{const T=Jp(this.serializer,g);u.size()<o||T.largestBatchId===c?(u.set(T.getKey(),T),c=T.largestBatchId):E.done()})).next((()=>u))}St(t,e){return yu(t).put((function(o,u,c){const[m,p,g]=sS(u,c.mutation.key);return{userId:u,collectionPath:p,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Kf(o.yt,c.mutation)}})(this.serializer,this.userId,e))}}function yu(s){return ze(s,gd)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{bt(t){return ze(t,fy)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const r=e?.value;return r?Ve.fromUint8Array(r):Ve.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(ue(t.integerValue));else if("doubleValue"in t){const r=ue(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),Qu(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=gr(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(yr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?Pb(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):_d(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):dt(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const r=t.fields||{};this.Ft(e,55);for(const o of Object.keys(r))this.Ot(o,e),this.Ct(r[o],e)}kt(t,e){const r=t.fields||{};this.Ft(e,53);const o=$o,u=r[o].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(ue(u)),this.Ot(o,e),this.Ct(r[o],e)}Qt(t,e){const r=t.values||[];this.Ft(e,50);for(const o of r)this.Ct(o,e)}Lt(t,e){this.Ft(e,37),st.fromName(t).path.forEach((r=>{this.Ft(e,60),this.Ut(r,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}ca.Kt=new ca;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=255;function aM(s){if(s===0)return 8;let t=0;return s>>4||(t+=4,s<<=4),s>>6||(t+=2,s<<=2),s>>7||(t+=1),t}function uS(s){const t=64-(function(r){let o=0;for(let u=0;u<8;++u){const c=aM(255&r[u]);if(o+=c,c!==8)break}return o})(s);return Math.ceil(t/8)}class oM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Gt(r.value),r=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Jt(r.value),r=e.next();this.Ht()}Yt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=e.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Zt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const o=e.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Ht()}Xt(t){const e=this.en(t),r=uS(e);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=255&e[o]}nn(t){const e=this.en(t),r=uS(e);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}rn(){this.sn(wo),this.sn(255)}_n(){this.an(wo),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(t),r=!!(128&e[0]);e[0]^=r?255:128;for(let o=1;o<e.length;++o)e[o]^=r?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===wo?(this.sn(wo),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===wo?(this.an(wo),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class lM{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class uM{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class _u{constructor(){this.cn=new oM,this.ln=new lM(this.cn),this.hn=new uM(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,e,r,o){this.Tn=t,this.In=e,this.En=r,this.dn=o}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,r=new Uint8Array(e);return r.set(this.dn,0),e!==t?r.set([0],this.dn.length):++r[r.length-1],new ha(this.Tn,this.In,this.En,r)}Rn(t,e,r){return{indexId:this.Tn,uid:t,arrayValue:Sf(this.En),directionalValue:Sf(this.dn),orderedDocumentKey:Sf(e),documentKey:r.path.toArray()}}Vn(t,e,r){const o=this.Rn(t,e,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function ns(s,t){let e=s.Tn-t.Tn;return e!==0?e:(e=cS(s.En,t.En),e!==0?e:(e=cS(s.dn,t.dn),e!==0?e:st.comparator(s.In,t.In)))}function cS(s,t){for(let e=0;e<s.length&&e<t.length;++e){const r=s[e]-t[e];if(r!==0)return r}return s.length-t.length}function Sf(s){return yA()?(function(e){let r="";for(let o=0;o<e.length;o++)r+=String.fromCharCode(e[o]);return r})(s):s}function hS(s){return typeof s!="string"?s:(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(s)}class fS{constructor(t){this.mn=new Jt(((e,r)=>he.comparator(e.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const r=e;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(t){if(pt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=Eg(t);if(e!==void 0&&!this.wn(e))return!1;const r=aa(t);let o=new Set,u=0,c=0;for(;u<r.length&&this.wn(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.mn.size>0){const m=this.mn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const p=r[u];if(!this.Sn(m,p)||!this.bn(this.fn[c++],p))return!1}++u}for(;u<r.length;++u){const m=r[u];if(c>=this.fn.length||!this.bn(this.fn[c++],m))return!1}return!0}Dn(){if(this.pn)return null;let t=new Jt(he.comparator);const e=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")e.push(new mf(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),e.push(new mf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),e.push(new mf(r.field,r.dir==="asc"?0:1)));return new Lf(Lf.UNKNOWN_ID,this.collectionId,e,Ku.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===r}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(s){if(pt(s instanceof Pt||s instanceof $t,20012),s instanceof Pt){if(s instanceof Hb){const e=s.value.arrayValue?.values?.map((r=>Pt.create(s.field,"==",r)))||[];return $t.create(e,"or")}return s}const t=s.filters.map((e=>Sw(e)));return $t.create(t,s.op)}function cM(s){if(s.getFilters().length===0)return[];const t=Lg(Sw(s));return pt(Aw(t),7391),Pg(t)||kg(t)?[t]:t.getFilters()}function Pg(s){return s instanceof Pt}function kg(s){return s instanceof $t&&yy(s)}function Aw(s){return Pg(s)||kg(s)||(function(e){if(e instanceof $t&&Rg(e)){for(const r of e.getFilters())if(!Pg(r)&&!kg(r))return!1;return!0}return!1})(s)}function Lg(s){if(pt(s instanceof Pt||s instanceof $t,34018),s instanceof Pt)return s;if(s.filters.length===1)return Lg(s.filters[0]);const t=s.filters.map((r=>Lg(r)));let e=$t.create(t,s.op);return e=Yf(e),Aw(e)?e:(pt(e instanceof $t,64498),pt(Wo(e),40251),pt(e.filters.length>1,57927),e.filters.reduce(((r,o)=>Iy(r,o))))}function Iy(s,t){let e;return pt(s instanceof Pt||s instanceof $t,38388),pt(t instanceof Pt||t instanceof $t,25473),e=s instanceof Pt?t instanceof Pt?(function(o,u){return $t.create([o,u],"and")})(s,t):dS(s,t):t instanceof Pt?dS(t,s):(function(o,u){if(pt(o.filters.length>0&&u.filters.length>0,48005),Wo(o)&&Wo(u))return qb(o,u.getFilters());const c=Rg(o)?o:u,m=Rg(o)?u:o,p=c.filters.map((g=>Iy(g,m)));return $t.create(p,"or")})(s,t),Yf(e)}function dS(s,t){if(Wo(t))return qb(t,s.getFilters());{const e=t.filters.map((r=>Iy(s,r)));return $t.create(e,"or")}}function Yf(s){if(pt(s instanceof Pt||s instanceof $t,11850),s instanceof Pt)return s;const t=s.getFilters();if(t.length===1)return Yf(t[0]);if(zb(s))return s;const e=t.map((o=>Yf(o))),r=[];return e.forEach((o=>{o instanceof Pt?r.push(o):o instanceof $t&&(o.op===s.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:$t.create(r,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.Cn=new Ry}addToCollectionParentIndex(t,e){return this.Cn.add(e),L.resolve()}getCollectionParents(t,e){return L.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return L.resolve()}deleteFieldIndex(t,e){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,e){return L.resolve()}getDocumentsMatchingTarget(t,e){return L.resolve(null)}getIndexType(t,e){return L.resolve(0)}getFieldIndexes(t,e){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,e){return L.resolve(Vn.min())}getMinOffsetFromCollectionGroup(t,e){return L.resolve(Vn.min())}updateCollectionGroup(t,e,r){return L.resolve()}updateIndexEntries(t,e){return L.resolve()}}class Ry{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Jt(Ht.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Jt(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="IndexedDbIndexManager",rf=new Uint8Array(0);class fM{constructor(t,e){this.databaseId=e,this.vn=new Ry,this.Fn=new Er((r=>ba(r)),((r,o)=>mc(r,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const u={collectionId:r,parent:rn(o)};return pS(t).put(u)}return L.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[hb(e),""],!1,!0);return pS(t).J(o).next((u=>{for(const c of u){if(c.collectionId!==e)break;r.push(Pi(c.parent))}return r}))}addFieldIndex(t,e){const r=vu(t),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(e);delete o.indexId;const u=r.add(o);if(e.indexState){const c=Ro(t);return u.next((m=>{c.put(aS(m,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return u.next()}deleteFieldIndex(t,e){const r=vu(t),o=Ro(t),u=Io(t);return r.delete(e.indexId).next((()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=vu(t),r=Io(t),o=Ro(t);return e.Z().next((()=>r.Z())).next((()=>o.Z()))}createTargetIndexes(t,e){return L.forEach(this.Mn(e),(r=>this.getIndexType(t,r).next((o=>{if(o===0||o===1){const u=new fS(r).Dn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,e){const r=Io(t);let o=!0;const u=new Map;return L.forEach(this.Mn(e),(c=>this.xn(t,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=Dt();const m=[];return L.forEach(u,((p,g)=>{tt(mS,`Using index ${(function(W){return`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map((ut=>`${ut.fieldPath}:${ut.kind}`)).join(",")}`})(p)} to execute ${ba(e)}`);const E=(function(W,ut){const rt=Eg(ut);if(rt===void 0)return null;for(const ct of Ff(W,rt.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null})(g,p),T=(function(W,ut){const rt=new Map;for(const ct of aa(ut))for(const I of Ff(W,ct.fieldPath))switch(I.op){case"==":case"in":rt.set(ct.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return rt.set(ct.fieldPath.canonicalString(),I.value),Array.from(rt.values())}return null})(g,p),b=(function(W,ut){const rt=[];let ct=!0;for(const I of aa(ut)){const w=I.kind===0?K0(W,I.fieldPath,W.startAt):Q0(W,I.fieldPath,W.startAt);rt.push(w.value),ct&&(ct=w.inclusive)}return new Zo(rt,ct)})(g,p),x=(function(W,ut){const rt=[];let ct=!0;for(const I of aa(ut)){const w=I.kind===0?Q0(W,I.fieldPath,W.endAt):K0(W,I.fieldPath,W.endAt);rt.push(w.value),ct&&(ct=w.inclusive)}return new Zo(rt,ct)})(g,p),H=this.On(p,g,b),Z=this.On(p,g,x),K=this.Nn(p,g,T),it=this.Bn(p.indexId,E,H,b.inclusive,Z,x.inclusive,K);return L.forEach(it,(at=>r.Y(at,e.limit).next((W=>{W.forEach((ut=>{const rt=st.fromSegments(ut.documentKey);c.has(rt)||(c=c.add(rt),m.push(rt))}))}))))})).next((()=>m))}return L.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=cM($t.create(t.filters,"and")).map((r=>Dg(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,r,o,u,c,m){const p=(e!=null?e.length:1)*Math.max(r.length,u.length),g=p/(e!=null?e.length:1),E=[];for(let T=0;T<p;++T){const b=e?this.Ln(e[T/g]):rf,x=this.kn(t,b,r[T%g],o),H=this.qn(t,b,u[T%g],c),Z=m.map((K=>this.kn(t,b,K,!0)));E.push(...this.createRange(x,H,Z))}return E}kn(t,e,r,o){const u=new ha(t,st.empty(),e,r);return o?u:u.An()}qn(t,e,r,o){const u=new ha(t,st.empty(),e,r);return o?u.An():u}xn(t,e){const r=new fS(e),o=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next((u=>{let c=null;for(const m of u)r.yn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(t,e){let r=2;const o=this.Mn(e);return L.forEach(o,(u=>this.xn(t,u).next((c=>{c?r!==0&&c.fields.length<(function(p){let g=new Jt(he.comparator),E=!1;for(const T of p.filters)for(const b of T.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?E=!0:g=g.add(b.field));for(const T of p.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(E?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(e)&&o.length>1&&r===2?1:r))}Qn(t,e){const r=new _u;for(const o of aa(t)){const u=e.data.field(o.fieldPath);if(u==null)return null;const c=r.Pn(o.kind);ca.Kt.Dt(u,c)}return r.un()}Ln(t){const e=new _u;return ca.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const r=new _u;return ca.Kt.Dt(Wu(this.databaseId,e),r.Pn((function(u){const c=aa(u);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}Nn(t,e,r){if(r===null)return[];let o=[];o.push(new _u);let u=0;for(const c of aa(t)){const m=r[u++];for(const p of o)if(this.Un(e,c.fieldPath)&&tc(m))o=this.Kn(o,c,m);else{const g=p.Pn(c.kind);ca.Kt.Dt(m,g)}}return this.Wn(o)}On(t,e,r){return this.Nn(t,e,r.position)}Wn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].un();return e}Kn(t,e,r){const o=[...t],u=[];for(const c of r.arrayValue.values||[])for(const m of o){const p=new _u;p.seed(m.un()),ca.Kt.Dt(c,p.Pn(e.kind)),u.push(p)}return u}Un(t,e){return!!t.filters.find((r=>r instanceof Pt&&r.field.isEqual(e)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,e){const r=vu(t),o=Ro(t);return(e?r.J(Sg,IDBKeyRange.bound(e,e)):r.J()).next((u=>{const c=[];return L.forEach(u,(m=>o.get([m.indexId,this.uid]).next((p=>{c.push((function(E,T){const b=T?new Ku(T.sequenceNumber,new Vn(Ia(T.readTime),new st(Pi(T.documentKey)),T.largestBatchId)):Ku.empty(),x=E.fields.map((([H,Z])=>new mf(he.fromServerFormat(H),Z)));return new Lf(E.indexId,E.collectionGroup,x,b)})(m,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:St(r.collectionGroup,o.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,r){const o=vu(t),u=Ro(t);return this.Gn(t).next((c=>o.J(Sg,IDBKeyRange.bound(e,e)).next((m=>L.forEach(m,(p=>u.put(aS(p.indexId,this.uid,c,r))))))))}updateIndexEntries(t,e){const r=new Map;return L.forEach(e,((o,u)=>{const c=r.get(o.collectionGroup);return(c?L.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next((m=>(r.set(o.collectionGroup,m),L.forEach(m,(p=>this.zn(t,o,p).next((g=>{const E=this.jn(u,p);return g.isEqual(E)?L.resolve():this.Jn(t,u,p,g,E)})))))))}))}Hn(t,e,r,o){return Io(t).put(o.Rn(this.uid,this.$n(r,e.key),e.key))}Yn(t,e,r,o){return Io(t).delete(o.Vn(this.uid,this.$n(r,e.key),e.key))}zn(t,e,r){const o=Io(t);let u=new Jt(ns);return o.ee({index:Sb,range:IDBKeyRange.only([r.indexId,this.uid,Sf(this.$n(r,e))])},((c,m)=>{u=u.add(new ha(r.indexId,e,hS(m.arrayValue),hS(m.directionalValue)))})).next((()=>u))}jn(t,e){let r=new Jt(ns);const o=this.Qn(e,t);if(o==null)return r;const u=Eg(e);if(u!=null){const c=t.data.field(u.fieldPath);if(tc(c))for(const m of c.arrayValue.values||[])r=r.add(new ha(e.indexId,t.key,this.Ln(m),o))}else r=r.add(new ha(e.indexId,t.key,rf,o));return r}Jn(t,e,r,o,u){tt(mS,"Updating index entries for document '%s'",e.key);const c=[];return(function(p,g,E,T,b){const x=p.getIterator(),H=g.getIterator();let Z=bo(x),K=bo(H);for(;Z||K;){let it=!1,at=!1;if(Z&&K){const W=E(Z,K);W<0?at=!0:W>0&&(it=!0)}else Z!=null?at=!0:it=!0;it?(T(K),K=bo(H)):at?(b(Z),Z=bo(x)):(Z=bo(x),K=bo(H))}})(o,u,ns,(m=>{c.push(this.Hn(t,e,r,m))}),(m=>{c.push(this.Yn(t,e,r,m))})),L.waitFor(c)}Gn(t){let e=1;return Ro(t).ee({index:Tb,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,u)=>{u.done(),e=o.sequenceNumber+1})).next((()=>e))}createRange(t,e,r){r=r.sort(((c,m)=>ns(c,m))).filter(((c,m,p)=>!m||ns(c,p[m-1])!==0));const o=[];o.push(t);for(const c of r){const m=ns(c,t),p=ns(c,e);if(m===0)o[0]=t.An();else if(m>0&&p<0)o.push(c),o.push(c.An());else if(p>0)break}o.push(e);const u=[];for(let c=0;c<o.length;c+=2){if(this.Zn(o[c],o[c+1]))return[];const m=o[c].Vn(this.uid,rf,st.empty()),p=o[c+1].Vn(this.uid,rf,st.empty());u.push(IDBKeyRange.bound(m,p))}return u}Zn(t,e){return ns(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(gS)}getMinOffset(t,e){return L.mapArray(this.Mn(e),(r=>this.xn(t,r).next((o=>o||dt(44426))))).next(gS)}}function pS(s){return ze(s,$u)}function Io(s){return ze(s,Pu)}function vu(s){return ze(s,hy)}function Ro(s){return ze(s,xu)}function gS(s){pt(s.length!==0,28825);let t=s[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<s.length;r++){const o=s[r].indexState.offset;ly(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Vn(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(s,t,e){const r=s.store(li),o=s.store(Ko),u=[],c=IDBKeyRange.only(e.batchId);let m=0;const p=r.ee({range:c},((E,T,b)=>(m++,b.delete())));u.push(p.next((()=>{pt(m===1,47070,{batchId:e.batchId})})));const g=[];for(const E of e.mutations){const T=_b(t,E.key.path,e.batchId);u.push(o.delete(T)),g.push(E.key)}return L.waitFor(u).next((()=>g))}function Xf(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw dt(14731);t=s.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(bw,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class bd{constructor(t,e,r,o){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=o,this.Xn={}}static wt(t,e,r,o){pt(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new bd(u,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return is(t).ee({index:fa,range:r},((o,u,c)=>{e=!1,c.done()})).next((()=>e))}addMutationBatch(t,e,r,o){const u=Mo(t),c=is(t);return c.add({}).next((m=>{pt(typeof m=="number",49019);const p=new Ty(m,e,r,o),g=(function(x,H,Z){const K=Z.baseMutations.map((at=>Kf(x.yt,at))),it=Z.mutations.map((at=>Kf(x.yt,at)));return{userId:H,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:K,mutations:it}})(this.serializer,this.userId,p),E=[];let T=new Jt(((b,x)=>St(b.canonicalString(),x.canonicalString())));for(const b of o){const x=_b(this.userId,b.key.path,m);T=T.add(b.key.path.popLast()),E.push(c.put(g)),E.push(u.put(x,BO))}return T.forEach((b=>{E.push(this.indexManager.addToCollectionParentIndex(t,b))})),t.addOnCommittedListener((()=>{this.Xn[m]=p.keys()})),L.waitFor(E).next((()=>p))}))}lookupMutationBatch(t,e){return is(t).get(e).next((r=>r?(pt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:e}),ua(this.serializer,r)):null))}er(t,e){return this.Xn[e]?L.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((r=>{if(r){const o=r.keys();return this.Xn[e]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return is(t).ee({index:fa,range:o},((c,m,p)=>{m.userId===this.userId&&(pt(m.batchId>=r,47524,{tr:r}),u=ua(this.serializer,m)),p.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=da;return is(t).ee({index:fa,range:e,reverse:!0},((o,u,c)=>{r=u.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,da],[this.userId,Number.POSITIVE_INFINITY]);return is(t).J(fa,e).next((r=>r.map((o=>ua(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=pf(this.userId,e.path),o=IDBKeyRange.lowerBound(r),u=[];return Mo(t).ee({range:o},((c,m,p)=>{const[g,E,T]=c,b=Pi(E);if(g===this.userId&&e.path.isEqual(b))return is(t).get(T).next((x=>{if(!x)throw dt(61480,{nr:c,batchId:T});pt(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:T}),u.push(ua(this.serializer,x))}));p.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Jt(St);const o=[];return e.forEach((u=>{const c=pf(this.userId,u.path),m=IDBKeyRange.lowerBound(c),p=Mo(t).ee({range:m},((g,E,T)=>{const[b,x,H]=g,Z=Pi(x);b===this.userId&&u.path.isEqual(Z)?r=r.add(H):T.done()}));o.push(p)})),L.waitFor(o).next((()=>this.rr(t,r)))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,u=pf(this.userId,r),c=IDBKeyRange.lowerBound(u);let m=new Jt(St);return Mo(t).ee({range:c},((p,g,E)=>{const[T,b,x]=p,H=Pi(b);T===this.userId&&r.isPrefixOf(H)?H.length===o&&(m=m.add(x)):E.done()})).next((()=>this.rr(t,m)))}rr(t,e){const r=[],o=[];return e.forEach((u=>{o.push(is(t).get(u).next((c=>{if(c===null)throw dt(35274,{batchId:u});pt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),r.push(ua(this.serializer,c))})))})),L.waitFor(o).next((()=>r))}removeMutationBatch(t,e){return ww(t.le,this.userId,e).next((r=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),L.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return L.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return Mo(t).ee({range:r},((u,c,m)=>{if(u[0]===this.userId){const p=Pi(u[1]);o.push(p)}else m.done()})).next((()=>{pt(o.length===0,56720,{sr:o.map((u=>u.canonicalString()))})}))}))}containsKey(t,e){return Iw(t,this.userId,e)}_r(t){return Rw(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:da,lastStreamToken:""}))}}function Iw(s,t,e){const r=pf(t,e.path),o=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Mo(s).ee({range:u,X:!0},((m,p,g)=>{const[E,T,b]=m;E===t&&T===o&&(c=!0),g.done()})).next((()=>c))}function is(s){return ze(s,li)}function Mo(s){return ze(s,Ko)}function Rw(s){return ze(s,Yu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const r=new Ra(e.highestTargetId);return e.highestTargetId=r.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>yt.fromTimestamp(new Xt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,r){return this.lr(t).next((o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.hr(t,o))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((r=>(r.targetCount+=1,this.Tr(e,r),this.hr(t,r))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Co(t).delete(e.targetId))).next((()=>this.lr(t))).next((r=>(pt(r.targetCount>0,8065),r.targetCount-=1,this.hr(t,r))))}removeTargets(t,e,r){let o=0;const u=[];return Co(t).ee(((c,m)=>{const p=Cu(m);p.sequenceNumber<=e&&r.get(p.targetId)===null&&(o++,u.push(this.removeTargetData(t,p)))})).next((()=>L.waitFor(u))).next((()=>o))}forEachTarget(t,e){return Co(t).ee(((r,o)=>{const u=Cu(o);e(u)}))}lr(t){return _S(t).get(Bf).next((e=>(pt(e!==null,2888),e)))}hr(t,e){return _S(t).put(Bf,e)}Pr(t,e){return Co(t).put(Ew(this.serializer,e))}Tr(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const r=ba(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Co(t).ee({range:o,index:Eb},((c,m,p)=>{const g=Cu(m);mc(e,g.target)&&(u=g,p.done())})).next((()=>u))}addMatchingKeys(t,e,r){const o=[],u=us(t);return e.forEach((c=>{const m=rn(c.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(t,r,c))})),L.waitFor(o)}removeMatchingKeys(t,e,r){const o=us(t);return L.forEach(e,(u=>{const c=rn(u.path);return L.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(t,r,u)])}))}removeMatchingKeysForTargetId(t,e){const r=us(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=us(t);let u=Dt();return o.ee({range:r,X:!0},((c,m,p)=>{const g=Pi(c[1]),E=new st(g);u=u.add(E)})).next((()=>u))}containsKey(t,e){const r=rn(e.path),o=IDBKeyRange.bound([r],[hb(r)],!1,!0);let u=0;return us(t).ee({index:cy,X:!0,range:o},(([c,m],p,g)=>{c!==0&&(u++,g.done())})).next((()=>u>0))}At(t,e){return Co(t).get(e).next((r=>r?Cu(r):null))}}function Co(s){return ze(s,Qo)}function _S(s){return ze(s,ma)}function us(s){return ze(s,Yo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="LruGarbageCollector",Cw=1048576;function ES([s,t],[e,r]){const o=St(s,e);return o===0?St(t,r):o}class mM{constructor(t){this.Ir=t,this.buffer=new Jt(ES),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();ES(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Dw{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){tt(vS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){As(e)?tt(vS,"Ignoring IndexedDB error during garbage collection: ",e):await Na(e)}await this.Vr(3e5)}))}}class pM{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return L.resolve(Yn.ce);const r=new mM(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(yS)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yS):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),Do()<=xt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Nw(s,t){return new pM(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t,e){this.db=t,this.garbageCollector=Nw(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((r,o)=>e(o)))}addReference(t,e,r){return sf(t,r)}removeReference(t,e,r){return sf(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return sf(t,e)}br(t,e){return(function(o,u){let c=!1;return Rw(o).te((m=>Iw(o,m,u).next((p=>(p&&(c=!0),L.resolve(!p)))))).next((()=>c))})(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Sr(t,((c,m)=>{if(m<=e){const p=this.br(t,c).next((g=>{if(!g)return u++,r.getEntry(t,c).next((()=>(r.removeEntry(c,yt.min()),us(t).delete((function(T){return[0,rn(T.path)]})(c)))))}));o.push(p)}})).next((()=>L.waitFor(o))).next((()=>r.apply(t))).next((()=>u))}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return sf(t,e)}Sr(t,e){const r=us(t);let o,u=Yn.ce;return r.ee({index:cy},(([c,m],{path:p,sequenceNumber:g})=>{c===0?(u!==Yn.ce&&e(new st(Pi(o)),u),u=g,o=p):u=Yn.ce})).next((()=>{u!==Yn.ce&&e(new st(Pi(o)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function sf(s,t){return us(s).put((function(r,o){return{targetId:0,path:rn(r.path),sequenceNumber:o}})(t,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.changes=new Er((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?L.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return ia(t).put(r)}removeEntry(t,e,r){return ia(t).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Qf(c),m[m.length-1]]})(e,r))}updateMetadata(t,e){return this.getMetadata(t).next((r=>(r.byteSize+=e,this.Dr(t,r))))}getEntry(t,e){let r=me.newInvalidDocument(e);return ia(t).ee({index:gf,range:IDBKeyRange.only(Eu(e))},((o,u)=>{r=this.Cr(e,u)})).next((()=>r))}vr(t,e){let r={size:0,document:me.newInvalidDocument(e)};return ia(t).ee({index:gf,range:IDBKeyRange.only(Eu(e))},((o,u)=>{r={document:this.Cr(e,u),size:Xf(u)}})).next((()=>r))}getEntries(t,e){let r=Nn();return this.Fr(t,e,((o,u)=>{const c=this.Cr(o,u);r=r.insert(o,c)})).next((()=>r))}Mr(t,e){let r=Nn(),o=new ce(st.comparator);return this.Fr(t,e,((u,c)=>{const m=this.Cr(u,c);r=r.insert(u,m),o=o.insert(u,Xf(c))})).next((()=>({documents:r,Or:o})))}Fr(t,e,r){if(e.isEmpty())return L.resolve();let o=new Jt(AS);e.forEach((p=>o=o.add(p)));const u=IDBKeyRange.bound(Eu(o.first()),Eu(o.last())),c=o.getIterator();let m=c.getNext();return ia(t).ee({index:gf,range:u},((p,g,E)=>{const T=st.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;m&&AS(m,T)<0;)r(m,null),m=c.getNext();m&&m.isEqual(T)&&(r(m,g),m=c.hasNext()?c.getNext():null),m?E.j(Eu(m)):E.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,e,r,o,u){const c=e.path,m=[c.popLast().toArray(),c.lastSegment(),Qf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ia(t).J(IDBKeyRange.bound(m,p,!0)).next((g=>{u?.incrementDocumentReadCount(g.length);let E=Nn();for(const T of g){const b=this.Cr(st.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);b.isFoundDocument()&&(pc(e,b)||o.has(b.key))&&(E=E.insert(b.key,b))}return E}))}getAllFromCollectionGroup(t,e,r,o){let u=Nn();const c=SS(e,r),m=SS(e,Vn.max());return ia(t).ee({index:vb,range:IDBKeyRange.bound(c,m,!0)},((p,g,E)=>{const T=this.Cr(st.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);u=u.insert(T.key,T),u.size===o&&E.done()})).next((()=>u))}newChangeBuffer(t){return new _M(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return TS(t).get(Tg).next((e=>(pt(!!e,20021),e)))}Dr(t,e){return TS(t).put(Tg,e)}Cr(t,e){if(e){const r=iM(this.serializer,e);if(!(r.isNoDocument()&&r.version.isEqual(yt.min())))return r}return me.newInvalidDocument(t)}}function Vw(s){return new yM(s)}class _M extends Ow{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new Er((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(t){const e=[];let r=0,o=new Jt(((u,c)=>St(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Br.get(u);if(e.push(this.Nr.removeEntry(t,u,m.readTime)),c.isValidDocument()){const p=rS(this.Nr.serializer,c);o=o.add(u.path.popLast());const g=Xf(p);r+=g-m.size,e.push(this.Nr.addEntry(t,u,p))}else if(r-=m.size,this.trackRemovals){const p=rS(this.Nr.serializer,c.convertToNoDocument(yt.min()));e.push(this.Nr.addEntry(t,u,p))}})),o.forEach((u=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,u))})),e.push(this.Nr.updateMetadata(t,r)),L.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((r=>(this.Br.set(e,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:r,Or:o})=>(o.forEach(((u,c)=>{this.Br.set(u,{size:c,readTime:r.get(u).readTime})})),r)))}}function TS(s){return ze(s,Xu)}function ia(s){return ze(s,zf)}function Eu(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function SS(s,t){const e=t.documentKey.path.toArray();return[s,Qf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function AS(s,t){const e=s.path.toArray(),r=t.path.toArray();let o=0;for(let u=0;u<e.length-2&&u<r.length-2;++u)if(o=St(e[u],r[u]),o)return o;return o=St(e.length,r.length),o||(o=St(e[e.length-2],r[r.length-2]),o||St(e[e.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&zu(r.mutation,o,_n.empty(),Xt.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Dt()){const o=ki();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=Iu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=ki();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Dt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Nn();const c=Uu(),m=(function(){return Uu()})();return e.forEach(((p,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Tr)?u=u.insert(g.key,g):E!==void 0?(c.set(g.key,E.mutation.getFieldMask()),zu(E.mutation,g,E.mutation.getFieldMask(),Xt.now())):c.set(g.key,_n.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>c.set(g,E))),e.forEach(((g,E)=>m.set(g,new vM(E,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=Uu();let o=new ce(((c,m)=>c-m)),u=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let E=r.get(p)||_n.empty();E=m.applyToLocalView(g,E),r.set(p,E);const T=(o.get(m.batchId)||Dt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=$b();E.forEach((b=>{if(!u.has(b)){const x=nw(e.get(b),r.get(b));x!==null&&T.set(b,x),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return L.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return st.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Gb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):L.resolve(ki());let m=Gu,p=u;return c.next((g=>L.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?L.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Dt()))).next((E=>({batchId:m,changes:Xb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new st(e)).next((r=>{let o=Iu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=Iu();return this.indexManager.getCollectionParents(t,u).next((m=>L.forEach(m,(p=>{const g=(function(T,b){return new ll(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((E=>{E.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const E=g.getKey();c.get(E)===null&&(c=c.insert(E,me.newInvalidDocument(E)))}));let m=Iu();return c.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&zu(E.mutation,g,_n.empty(),Xt.now()),pc(e,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return L.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:cn(o.createTime)}})(e)),L.resolve()}getNamedQuery(t,e){return L.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:Tw(o.bundledQuery),readTime:cn(o.readTime)}})(e)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.overlays=new ce(st.comparator),this.qr=new Map}getOverlay(t,e){return L.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ki();return L.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),L.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(t,e,r){const o=ki(),u=e.length+1,c=new st(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return L.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new ce(((g,E)=>g-E));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=ki(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ki(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return L.resolve(m)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ay(e,r));let u=this.qr.get(e);u===void 0&&(u=Dt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.sessionToken=Ve.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.Qr=new Jt(Fe.$r),this.Ur=new Jt(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Fe(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Fe(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new st(new Ht([])),r=new Fe(e,t),o=new Fe(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new st(new Ht([])),r=new Fe(e,t),o=new Fe(e,t+1);let u=Dt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new Fe(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return st.comparator(t.key,e.key)||St(t.Yr,e.Yr)}static Kr(t,e){return St(t.Yr,e.Yr)||st.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(Fe.$r)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ty(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return L.resolve(c)}lookupMutationBatch(t,e){return L.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?da:this.tr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fe(e,0),o=new Fe(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Jt(St);return e.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;st.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new st(u),0);let m=new Jt(St);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),L.resolve(this.ti(m))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){pt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(e.mutations,(o=>{const u=new Fe(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Fe(e,0),o=this.Zr.firstAfterOrEqual(r);return L.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.ri=t,this.docs=(function(){return new ce(st.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return L.resolve(r?r.document.mutableCopy():me.newInvalidDocument(e))}getEntries(t,e){let r=Nn();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():me.newInvalidDocument(o))})),L.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Nn();const c=e.path,m=new st(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ly(mb(E),r)<=0||(o.has(E.key)||pc(e,E))&&(u=u.insert(E.key,E.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(t,e,r,o){dt(9500)}ii(t,e){return L.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new wM(this)}getSize(t){return L.resolve(this.size)}}class wM extends Ow{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),L.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.persistence=t,this.si=new Er((e=>ba(e)),mc),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Cy,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),L.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ra(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,L.resolve()}updateTargetData(t,e){return this.Pr(e),L.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),L.waitFor(u).next((()=>o))}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return L.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),L.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),L.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),L.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return L.resolve(r)}containsKey(t,e){return L.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,e){this.ui={},this.overlays={},this.ci=new Yn(0),this.li=!1,this.li=!0,this.hi=new SM,this.referenceDelegate=t(this),this.Pi=new IM(this),this.indexManager=new hM,this.remoteDocumentCache=(function(o){return new bM(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vw(e),this.Ii=new EM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new TM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new AM(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){tt("MemoryPersistence","Starting transaction:",t);const o=new RM(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return L.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class RM extends gb{constructor(t){super(),this.currentSequenceNumber=t}}class wd{constructor(t){this.persistence=t,this.Ri=new Cy,this.Vi=null}static mi(t){return new wd(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),L.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),L.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(r=>{const o=st.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return L.or([()=>L.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class $f{constructor(t,e){this.persistence=t,this.pi=new Er((r=>rn(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Nw(this,e)}static mi(t,e){return new $f(t,e)}Ei(){}di(t){return L.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return L.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?L.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((m=>{m||(r++,u.removeEntry(c,yt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),L.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),L.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),L.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=_f(t.data.value)),e}br(t,e,r){return L.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return L.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.serializer=t}k(t,e,r,o){const u=new fd("createOrUpgrade",e);r<1&&o>=1&&((function(p){p.createObjectStore(dc)})(t),(function(p){p.createObjectStore(Yu,{keyPath:zO}),p.createObjectStore(li,{keyPath:x0,autoIncrement:!0}).createIndex(fa,P0,{unique:!0}),p.createObjectStore(Ko)})(t),bS(t),(function(p){p.createObjectStore(oa)})(t));let c=L.resolve();return r<3&&o>=3&&(r!==0&&((function(p){p.deleteObjectStore(Yo),p.deleteObjectStore(Qo),p.deleteObjectStore(ma)})(t),bS(t)),c=c.next((()=>(function(p){const g=p.store(ma),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return g.put(Bf,E)})(u)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(p,g){return g.store(li).J().next((T=>{p.deleteObjectStore(li),p.createObjectStore(li,{keyPath:x0,autoIncrement:!0}).createIndex(fa,P0,{unique:!0});const b=g.store(li),x=T.map((H=>b.put(H)));return L.waitFor(x)}))})(t,u)))),c=c.next((()=>{(function(p){p.createObjectStore(Xo,{keyPath:YO})})(t)}))),r<5&&o>=5&&(c=c.next((()=>this.yi(u)))),r<6&&o>=6&&(c=c.next((()=>((function(p){p.createObjectStore(Xu)})(t),this.wi(u))))),r<7&&o>=7&&(c=c.next((()=>this.Si(u)))),r<8&&o>=8&&(c=c.next((()=>this.bi(t,u)))),r<9&&o>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&o>=10&&(c=c.next((()=>this.Di(u)))),r<11&&o>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(md,{keyPath:XO})})(t),(function(p){p.createObjectStore(pd,{keyPath:$O})})(t)}))),r<12&&o>=12&&(c=c.next((()=>{(function(p){const g=p.createObjectStore(gd,{keyPath:iV});g.createIndex(Ag,rV,{unique:!1}),g.createIndex(Ab,sV,{unique:!1})})(t)}))),r<13&&o>=13&&(c=c.next((()=>(function(p){const g=p.createObjectStore(zf,{keyPath:qO});g.createIndex(gf,jO),g.createIndex(vb,FO)})(t))).next((()=>this.Ci(t,u))).next((()=>t.deleteObjectStore(oa)))),r<14&&o>=14&&(c=c.next((()=>this.Fi(t,u)))),r<15&&o>=15&&(c=c.next((()=>(function(p){p.createObjectStore(hy,{keyPath:JO,autoIncrement:!0}).createIndex(Sg,ZO,{unique:!1}),p.createObjectStore(xu,{keyPath:WO}).createIndex(Tb,tV,{unique:!1}),p.createObjectStore(Pu,{keyPath:eV}).createIndex(Sb,nV,{unique:!1})})(t)))),r<16&&o>=16&&(c=c.next((()=>{e.objectStore(xu).clear()})).next((()=>{e.objectStore(Pu).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(fy,{keyPath:aV})})(t)}))),r<18&&o>=18&&yA()&&(c=c.next((()=>{e.objectStore(xu).clear()})).next((()=>{e.objectStore(Pu).clear()}))),c}wi(t){let e=0;return t.store(oa).ee(((r,o)=>{e+=Xf(o)})).next((()=>{const r={byteSize:e};return t.store(Xu).put(Tg,r)}))}yi(t){const e=t.store(Yu),r=t.store(li);return e.J().next((o=>L.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,da],[u.userId,u.lastAcknowledgedBatchId]);return r.J(fa,c).next((m=>L.forEach(m,(p=>{pt(p.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const g=ua(this.serializer,p);return ww(t,u.userId,g).next((()=>{}))}))))}))))}Si(t){const e=t.store(Yo),r=t.store(oa);return t.store(ma).get(Bf).next((o=>{const u=[];return r.ee(((c,m)=>{const p=new Ht(c),g=(function(T){return[0,rn(T)]})(p);u.push(e.get(g).next((E=>E?L.resolve():(T=>e.put({targetId:0,path:rn(T),sequenceNumber:o.highestListenSequenceNumber}))(p))))})).next((()=>L.waitFor(u)))}))}bi(t,e){t.createObjectStore($u,{keyPath:QO});const r=e.store($u),o=new Ry,u=c=>{if(o.add(c)){const m=c.lastSegment(),p=c.popLast();return r.put({collectionId:m,parent:rn(p)})}};return e.store(oa).ee({X:!0},((c,m)=>{const p=new Ht(c);return u(p.popLast())})).next((()=>e.store(Ko).ee({X:!0},(([c,m,p],g)=>{const E=Pi(m);return u(E.popLast())}))))}Di(t){const e=t.store(Qo);return e.ee(((r,o)=>{const u=Cu(o),c=Ew(this.serializer,u);return e.put(c)}))}Ci(t,e){const r=e.store(oa),o=[];return r.ee(((u,c)=>{const m=e.store(zf),p=(function(T){return T.document?new st(Ht.fromString(T.document.name).popFirst(5)):T.noDocument?st.fromSegments(T.noDocument.path):T.unknownDocument?st.fromSegments(T.unknownDocument.path):dt(36783)})(c).path.toArray(),g={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(g))})).next((()=>L.waitFor(o)))}Fi(t,e){const r=e.store(li),o=Vw(this.serializer),u=new Dy(wd.mi,this.serializer.yt);return r.J().next((c=>{const m=new Map;return c.forEach((p=>{let g=m.get(p.userId)??Dt();ua(this.serializer,p).keys().forEach((E=>g=g.add(E))),m.set(p.userId,g)})),L.forEach(m,((p,g)=>{const E=new ln(g),T=Ad.wt(this.serializer,E),b=u.getIndexManager(E),x=bd.wt(E,this.serializer,b,u.referenceDelegate);return new Mw(o,x,T,b).recalculateAndSaveOverlaysForDocumentKeys(new bg(e,Yn.ce),p).next()}))}))}}function bS(s){s.createObjectStore(Yo,{keyPath:GO}).createIndex(cy,KO,{unique:!0}),s.createObjectStore(Qo,{keyPath:"targetId"}).createIndex(Eb,HO,{unique:!0}),s.createObjectStore(ma)}const rs="IndexedDbPersistence",Zp=18e5,Wp=5e3,tg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",DM="main";class Ny{constructor(t,e,r,o,u,c,m,p,g,E,T=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Mi=u,this.window=c,this.document=m,this.xi=g,this.Oi=E,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!Ny.v())throw new nt(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gM(this,o),this.$i=e+DM,this.serializer=new vw(p),this.Ui=new ps(this.$i,this.Ni,new CM(this.serializer)),this.hi=new sM,this.Pi=new dM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Vw(this.serializer),this.Ii=new rM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,E===!1&&un(rs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(Q.FAILED_PRECONDITION,tg);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new Yn(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>af(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(As(t))return tt(rs,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return tt(rs,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return Tu(t).get(Ao).next((e=>L.resolve(this.es(e))))}ts(t){return af(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Zp)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const r=ze(e,Xo);return r.J().next((o=>{const u=this.ss(o,Zp),c=o.filter((m=>u.indexOf(m)===-1));return L.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?L.resolve(!0):Tu(t).get(Ao).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Wp)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new nt(Q.FAILED_PRECONDITION,tg);return!1}}return!(!this.networkEnabled||!this.inForeground)||af(t).J().next((r=>this.ss(r,Wp).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&tt(rs,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[dc,Xo],(t=>{const e=new bg(t,Yn.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((r=>this.rs(r.updateTimeMs,e)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>af(t).J().next((e=>this.ss(e,Zp).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return bd.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new fM(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Ad.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,r){tt(rs,"Starting transaction:",t);const o=e==="readonly"?"readonly":"readwrite",u=(function(p){return p===18?uV:p===17?Rb:p===16?lV:p===15?dy:p===14?Ib:p===13?wb:p===12?oV:p===11?bb:void dt(60245)})(this.Ni);let c;return this.Ui.runTransaction(t,o,u,(m=>(c=new bg(m,this.ci?this.ci.next():Yn.ce),e==="readwrite-primary"?this.Hi(c).next((p=>!!p||this.Yi(c))).next((p=>{if(!p)throw un(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new nt(Q.FAILED_PRECONDITION,pb);return r(c)})).next((p=>this.Xi(c).next((()=>p)))):this.Is(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Is(t){return Tu(t).get(Ao).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Wp)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new nt(Q.FAILED_PRECONDITION,tg)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tu(t).put(Ao,e)}static v(){return ps.v()}Zi(t){const e=Tu(t);return e.get(Ao).next((r=>this.es(r)?(tt(rs,"Releasing primary lease."),e.delete(Ao)):L.resolve()))}rs(t,e){const r=Date.now();return!(t<r-e)&&(!(t>r)||(un(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;gA()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const e=this.Ki?.getItem(this._s(t))!==null;return tt(rs,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return un(rs,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){un("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Tu(s){return ze(s,dc)}function af(s){return ze(s,Xo)}function NM(s,t){let e=s.projectId;return s.isDefaultDatabase||(e+="."+s.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=Dt(),o=Dt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Oy(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gA()?8:yb(Le())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new OM;return this.Ss(t,e,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,e,c,m.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(Do()<=xt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",No(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(Do()<=xt.DEBUG&&tt("QueryEngine","Query:",No(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Do()<=xt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",No(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xn(e))):L.resolve())}ys(t,e){if(Y0(e))return L.resolve(null);let r=Xn(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Hf(e,null,"F"),r=Xn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Dt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,m);return this.Cs(e,g,c,p.readTime)?this.ys(t,Hf(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return Y0(e)||o.isEqual(yt.min())?L.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?L.resolve(null):(Do()<=xt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(e)),this.vs(t,c,e,VO(o,Gu)).next((m=>m)))}))}Ds(t,e){let r=new Jt(Qb(t));return e.forEach(((o,u)=>{pc(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return Do()<=xt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",No(e)),this.ps.getDocumentsMatchingQuery(t,e,Vn.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",VM=3e8;class MM{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ce(St),this.xs=new Er((u=>ba(u)),mc),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Mw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function Pw(s,t,e,r){return new MM(s,t,e,r)}async function kw(s,t){const e=At(s);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Dt();for(const g of o){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function xM(s,t){const e=At(s);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let x=L.resolve();return b.forEach((H=>{x=x.next((()=>E.getEntry(p,H))).next((Z=>{const K=g.docVersions.get(H);pt(K!==null,48541),Z.version.compareTo(K)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Dt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function Lw(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function PM(s,t){const e=At(s),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(e.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,E.addedDocuments,T))));let x=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(Ve.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,r)),o=o.insert(T,x),(function(Z,K,it){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=VM?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(b,x,E)&&m.push(e.Pi.updateTargetData(u,x))}));let p=Nn(),g=Dt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(kM(u,c,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!r.isEqual(yt.min())){const E=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return L.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function kM(s,t,e){let r=Dt(),o=Dt();return e.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let c=Nn();return e.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(yt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):tt(Vy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function LM(s,t){const e=At(s);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=da),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function UM(s,t){const e=At(s);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,L.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new ur(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Ug(s,t,e){const r=At(s),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!As(c))throw c;tt(Vy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function wS(s,t,e){const r=At(s);let o=yt.min(),u=Dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,E){const T=At(p),b=T.xs.get(E);return b!==void 0?L.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,E)})(r,c,Xn(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:yt.min(),e?u:Dt()))).next((m=>(zM(r,bV(t),m),{documents:m,Qs:u})))))}function zM(s,t,e){let r=s.Os.get(t)||yt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class IS{constructor(){this.activeTargetIds=NV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Uw{constructor(){this.Mo=new IS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new IS,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="ConnectivityMonitor";class CS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt(RS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){tt(RS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function zg(){return of===null?of=(function(){return 268435456+Math.round(2147483648*Math.random())})():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===qf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=zg(),m=this.zo(t,e.toUriEncodedString());tt(eg,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=rl(g);return this.Jo(t,m,p,r,E).then((T=>(tt(eg,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Hu(eg,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=qM[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class HM extends jM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=zg();return new Promise(((m,p)=>{const g=new sb;g.setWithCredentials(!0),g.listenOnce(ab.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case df.NO_ERROR:const T=g.getResponseJson();tt(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case df.TIMEOUT:tt(tn,`RPC '${t}' ${c} timed out`),p(new nt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const b=g.getStatus();if(tt(tn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x?.error;if(H&&H.status&&H.message){const Z=(function(it){const at=it.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(at)>=0?at:Q.UNKNOWN})(H.status);p(new nt(Z,H.message))}else p(new nt(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new nt(Q.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{tt(tn,`RPC '${t}' ${c} completed.`)}}));const E=JSON.stringify(o);tt(tn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",E,r,15)}))}T_(t,e,r){const o=zg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=ub(),m=lb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const E=u.join("");tt(tn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=c.createWebChannel(E,p);this.I_(T);let b=!1,x=!1;const H=new FM({Yo:K=>{x?tt(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(b||(tt(tn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),tt(tn,`RPC '${t}' stream ${o} sending:`,K),T.send(K))},Zo:()=>T.close()}),Z=(K,it,at)=>{K.listen(it,(W=>{try{at(W)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return Z(T,wu.EventType.OPEN,(()=>{x||(tt(tn,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),Z(T,wu.EventType.CLOSE,(()=>{x||(x=!0,tt(tn,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(T))})),Z(T,wu.EventType.ERROR,(K=>{x||(x=!0,Hu(tn,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),H.a_(new nt(Q.UNAVAILABLE,"The operation could not be completed")))})),Z(T,wu.EventType.MESSAGE,(K=>{if(!x){const it=K.data[0];pt(!!it,16349);const at=it,W=at?.error||at[0]?.error;if(W){tt(tn,`RPC '${t}' stream ${o} received error:`,W);const ut=W.status;let rt=(function(w){const D=Ce[w];if(D!==void 0)return sw(D)})(ut),ct=W.message;rt===void 0&&(rt=Q.INTERNAL,ct="Unknown error status: "+ut+" with message "+W.message),x=!0,H.a_(new nt(rt,ct)),T.close()}else tt(tn,`RPC '${t}' stream ${o} received:`,it),H.u_(it)}})),Z(m,ob.STAT_EVENT,(K=>{K.stat===_g.PROXY?tt(tn,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===_g.NOPROXY&&tt(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof window<"u"?window:null}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(s){return new QV(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&tt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="PersistentStream";class Bw{constructor(t,e,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Q.RESOURCE_EXHAUSTED?(un(e.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new nt(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return tt(DS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(tt(DS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KM extends Bw{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=$V(this.serializer,t),r=(function(u){if(!("targetChange"in u))return yt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?cn(c.readTime):yt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Mg(this.serializer),e.addTarget=(function(u,c){let m;const p=c.target;if(m=jf(p)?{documents:dw(u,p)}:{query:mw(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=lw(u,c.resumeToken);const g=Og(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(yt.min())>0){m.readTime=nl(u,c.snapshotVersion.toTimestamp());const g=Og(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=ZV(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Mg(this.serializer),e.removeTarget=t,this.q_(e)}}class QM extends Bw{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return pt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){pt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=JV(t.writeResults,t.commitTime),r=cn(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Mg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>Kf(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class XM extends YM{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Vg(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new nt(Q.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Vg(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Q.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $M{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(un(e),this.aa=!1):tt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class JM{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Oa(this)&&(tt(Ca,"Restarting streams for network reachability change."),await(async function(p){const g=At(p);g.Ea.add(4),await yc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new $M(r,o)}}async function Rd(s){if(Oa(s))for(const t of s.da)await t(!0)}async function yc(s){for(const t of s.da)await t(!1)}function qw(s,t){const e=At(s);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ky(e)?Py(e):cl(e).O_()&&xy(e,t))}function My(s,t){const e=At(s),r=cl(e);e.Ia.delete(t),r.O_()&&jw(e,t),e.Ia.size===0&&(r.O_()?r.L_():Oa(e)&&e.Ra.set("Unknown"))}function xy(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const e=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}cl(s).Y_(t)}function jw(s,t){s.Va.Ue(t),cl(s).Z_(t)}function Py(s){s.Va=new FV({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),cl(s).start(),s.Ra.ua()}function ky(s){return Oa(s)&&!cl(s).x_()&&s.Ia.size>0}function Oa(s){return At(s).Ea.size===0}function Fw(s){s.Va=void 0}async function ZM(s){s.Ra.set("Online")}async function WM(s){s.Ia.forEach(((t,e)=>{xy(s,t)}))}async function tx(s,t){Fw(s),ky(s)?(s.Ra.ha(t),Py(s)):s.Ra.set("Unknown")}async function ex(s,t,e){if(s.Ra.set("Online"),t instanceof ow&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){tt(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jf(s,r)}else if(t instanceof Tf?s.Va.Ze(t):t instanceof aw?s.Va.st(t):s.Va.tt(t),!e.isEqual(yt.min()))try{const r=await Lw(s.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ve.EMPTY_BYTE_STRING,E.snapshotVersion)),jw(u,p);const T=new ur(E.target,p,g,E.sequenceNumber);xy(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,e)}catch(r){tt(Ca,"Failed to raise snapshot:",r),await Jf(s,r)}}async function Jf(s,t,e){if(!As(t))throw t;s.Ea.add(1),await yc(s),s.Ra.set("Offline"),e||(e=()=>Lw(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{tt(Ca,"Retrying IndexedDB access"),await e(),s.Ea.delete(1),await Rd(s)}))}function Hw(s,t){return t().catch((e=>Jf(s,e,t)))}async function _c(s){const t=At(s),e=Es(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:da;for(;nx(t);)try{const o=await LM(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,ix(t,o)}catch(o){await Jf(t,o)}Gw(t)&&Kw(t)}function nx(s){return Oa(s)&&s.Ta.length<10}function ix(s,t){s.Ta.push(t);const e=Es(s);e.O_()&&e.X_&&e.ea(t.mutations)}function Gw(s){return Oa(s)&&!Es(s).x_()&&s.Ta.length>0}function Kw(s){Es(s).start()}async function rx(s){Es(s).ra()}async function sx(s){const t=Es(s);for(const e of s.Ta)t.ea(e.mutations)}async function ax(s,t,e){const r=s.Ta.shift(),o=Sy.from(r,t,e);await Hw(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await _c(s)}async function ox(s,t){t&&Es(s).X_&&await(async function(r,o){if((function(c){return BV(c)&&c!==Q.ABORTED})(o.code)){const u=r.Ta.shift();Es(r).B_(),await Hw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _c(r)}})(s,t),Gw(s)&&Kw(s)}async function NS(s,t){const e=At(s);e.asyncQueue.verifyOperationInProgress(),tt(Ca,"RemoteStore received new credentials");const r=Oa(e);e.Ea.add(3),await yc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Rd(e)}async function lx(s,t){const e=At(s);t?(e.Ea.delete(2),await Rd(e)):t||(e.Ea.add(2),await yc(e),e.Ra.set("Unknown"))}function cl(s){return s.ma||(s.ma=(function(e,r,o){const u=At(e);return u.sa(),new KM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:ZM.bind(null,s),t_:WM.bind(null,s),r_:tx.bind(null,s),H_:ex.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ky(s)?Py(s):s.Ra.set("Unknown")):(await s.ma.stop(),Fw(s))}))),s.ma}function Es(s){return s.fa||(s.fa=(function(e,r,o){const u=At(e);return u.sa(),new QM(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:rx.bind(null,s),r_:ox.bind(null,s),ta:sx.bind(null,s),na:ax.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await _c(s)):(await s.fa.stop(),s.Ta.length>0&&(tt(Ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new Ly(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(s,t){if(un("AsyncQueue",`${t}: ${s}`),As(s))return new nt(Q.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||st.comparator(e.key,r.key):(e,r)=>st.comparator(e.key,r.key),this.keyedMap=Iu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.ga=new ce(st.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class il{constructor(t,e,r,o,u,c,m,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new il(t,e,Uo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cx{constructor(){this.queries=VS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=At(e),u=o.queries;o.queries=VS(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new nt(Q.ABORTED,"Firestore shutting down"))}}function VS(){return new Er((s=>Kb(s)),vd)}async function hx(s,t){const e=At(s);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new ux,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=Uy(c,`Initialization of query '${No(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&zy(e)}async function fx(s,t){const e=At(s),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function dx(s,t){const e=At(s);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&zy(e)}function mx(s,t,e){const r=At(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function zy(s){s.Ca.forEach((t=>{t.next()}))}var Bg,MS;(MS=Bg||(Bg={})).Ma="default",MS.Cache="cache";class px{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new il(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.key=t}}class Yw{constructor(t){this.key=t}}class gx{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=Qb(t),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new OS,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),x=pc(this.query,T)?T:null,H=!!b&&this.mutatedKeys.has(b.key),Z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let K=!1;b&&x?b.data.isEqual(x.data)?H!==Z&&(r.track({type:3,doc:x}),K=!0):this.su(b,x)||(r.track({type:2,doc:x}),K=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!b&&x?(r.track({type:0,doc:x}),K=!0):b&&!x&&(r.track({type:1,doc:b}),K=!0,(p||g)&&(m=!0)),K&&(x?(c=c.add(x),u=Z?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((E,T)=>(function(x,H){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:K})}};return Z(x)-Z(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new il(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new Yw(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new Qw(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Dt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const By="SyncEngine";class yx{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class _x{constructor(t){this.key=t,this.hu=!1}}class vx{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Er((m=>Kb(m)),vd),this.Iu=new Map,this.Eu=new Set,this.du=new ce(st.comparator),this.Au=new Map,this.Ru=new Cy,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ex(s,t,e=!0){const r=tI(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Xw(r,t,e,!0),o}async function Tx(s,t){const e=tI(s);await Xw(e,t,!0,!1)}async function Xw(s,t,e,r){const o=await UM(s.localStore,Xn(t)),u=o.targetId,c=s.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await Sx(s,t,u,c==="current",o.resumeToken)),s.isPrimaryClient&&e&&qw(s.remoteStore,o),m}async function Sx(s,t,e,r,o){s.pu=(T,b,x)=>(async function(Z,K,it,at){let W=K.view.ru(it);W.Cs&&(W=await wS(Z.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,W))));const ut=at&&at.targetChanges.get(K.targetId),rt=at&&at.targetMismatches.get(K.targetId)!=null,ct=K.view.applyChanges(W,Z.isPrimaryClient,ut,rt);return PS(Z,K.targetId,ct.au),ct.snapshot})(s,T,b,x);const u=await wS(s.localStore,t,!0),c=new gx(t,u.Qs),m=c.ru(u.documents),p=gc.createSynthesizedTargetChangeForCurrentChange(e,r&&s.onlineState!=="Offline",o),g=c.applyChanges(m,s.isPrimaryClient,p);PS(s,e,g.au);const E=new yx(t,e,c);return s.Tu.set(t,E),s.Iu.has(e)?s.Iu.get(e).push(t):s.Iu.set(e,[t]),g.snapshot}async function Ax(s,t,e){const r=At(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!vd(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ug(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&My(r.remoteStore,o.targetId),qg(r,o.targetId)})).catch(Na)):(qg(r,o.targetId),await Ug(r.localStore,o.targetId,!0))}async function bx(s,t){const e=At(s),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),My(e.remoteStore,r.targetId))}async function wx(s,t,e){const r=eI(s);try{const o=await(function(c,m){const p=At(c),g=Xt.now(),E=m.reduce(((x,H)=>x.add(H.key)),Dt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let H=Nn(),Z=Dt();return p.Ns.getEntries(x,E).next((K=>{H=K,H.forEach(((it,at)=>{at.isValidDocument()||(Z=Z.add(it))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,H))).next((K=>{T=K;const it=[];for(const at of m){const W=UV(at,T.get(at.key).overlayedDocument);W!=null&&it.push(new Tr(at.key,W,Lb(W.value.mapValue),vn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,it,m)})).next((K=>{b=K;const it=K.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(x,K.batchId,it)}))})).then((()=>({batchId:b.batchId,changes:Xb(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(St)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await vc(r,o.changes),await _c(r.remoteStore)}catch(o){const u=Uy(o,"Failed to persist write");e.reject(u)}}async function $w(s,t){const e=At(s);try{const r=await PM(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?pt(c.hu,14607):o.removedDocuments.size>0&&(pt(c.hu,42227),c.hu=!1))})),await vc(e,r,t)}catch(r){await Na(r)}}function xS(s,t,e){const r=At(s);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=At(c);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&zy(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ix(s,t,e){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new ce(st.comparator);c=c.insert(u,me.newNoDocument(u,yt.min()));const m=Dt().add(u),p=new Sd(yt.min(),new Map,new ce(St),c,m);await $w(r,p),r.du=r.du.remove(u),r.Au.delete(t),qy(r)}else await Ug(r.localStore,t,!1).then((()=>qg(r,t,e))).catch(Na)}async function Rx(s,t){const e=At(s),r=t.batch.batchId;try{const o=await xM(e.localStore,t);Zw(e,r,null),Jw(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await vc(e,o)}catch(o){await Na(o)}}async function Cx(s,t,e){const r=At(s);try{const o=await(function(c,m){const p=At(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(pt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(r.localStore,t);Zw(r,t,e),Jw(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await vc(r,o)}catch(o){await Na(o)}}function Jw(s,t){(s.mu.get(t)||[]).forEach((e=>{e.resolve()})),s.mu.delete(t)}function Zw(s,t,e){const r=At(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function qg(s,t,e=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),e&&s.Pu.yu(r,e);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||Ww(s,r)}))}function Ww(s,t){s.Eu.delete(t.path.canonicalString());const e=s.du.get(t);e!==null&&(My(s.remoteStore,e),s.du=s.du.remove(t),s.Au.delete(e),qy(s))}function PS(s,t,e){for(const r of e)r instanceof Qw?(s.Ru.addReference(r.key,t),Dx(s,r)):r instanceof Yw?(tt(By,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||Ww(s,r.key)):dt(19791,{wu:r})}function Dx(s,t){const e=t.key,r=e.path.canonicalString();s.du.get(e)||s.Eu.has(r)||(tt(By,"New document in limbo: "+e),s.Eu.add(r),qy(s))}function qy(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const e=new st(Ht.fromString(t)),r=s.fu.next();s.Au.set(r,new _x(e)),s.du=s.du.insert(e,r),qw(s.remoteStore,new ur(Xn(_y(e.path)),r,"TargetPurposeLimboResolution",Yn.ce))}}async function vc(s,t,e){const r=At(s),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const E=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Oy.As(p.targetId,g);u.push(E)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>L.forEach(g,(b=>L.forEach(b.Es,(x=>E.persistence.referenceDelegate.addReference(T,b.targetId,x))).next((()=>L.forEach(b.ds,(x=>E.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))))))}catch(T){if(!As(T))throw T;tt(Vy,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const x=E.Ms.get(b),H=x.snapshotVersion,Z=x.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(b,Z)}}})(r.localStore,u))}async function Nx(s,t){const e=At(s);if(!e.currentUser.isEqual(t)){tt(By,"User change. New user:",t.toKey());const r=await kw(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new nt(Q.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await vc(e,r.Ls)}}function Ox(s,t){const e=At(s),r=e.Au.get(t);if(r&&r.hu)return Dt().add(r.key);{let o=Dt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function tI(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ox.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,t),t.Pu.H_=dx.bind(null,t.eventManager),t.Pu.yu=mx.bind(null,t.eventManager),t}function eI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cx.bind(null,t),t}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Id(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Pw(this.persistence,new xw,t.initialUser,this.serializer)}Cu(t){return new Dy(wd.mi,this.serializer)}Du(t){return new Uw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class Vx extends rc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){pt(this.persistence.referenceDelegate instanceof $f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Dw(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Dy((r=>$f.mi(r,e)),this.serializer)}}class Mx extends rc{constructor(t,e,r){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await eI(this.xu.syncEngine),await _c(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return Pw(this.persistence,new xw,t.initialUser,this.serializer)}Fu(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new Dw(r,t.asyncQueue,e)}Mu(t,e){const r=new kO(e,this.persistence);return new PO(t.asyncQueue,r)}Cu(t){const e=NM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Ny(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,GM(),Af(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new Uw}}class Zf{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nx.bind(null,this.syncEngine),await lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cx})()}createDatastore(t){const e=Id(t.databaseInfo.databaseId),r=(function(u){return new HM(u)})(t.databaseInfo);return(function(u,c,m,p){return new XM(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new JM(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>xS(this.syncEngine,e,0)),(function(){return CS.v()?new CS:new BM})())}createSyncEngine(t,e){return(function(o,u,c,m,p,g,E){const T=new vx(o,u,c,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=At(e);tt(Ca,"RemoteStore shutting down."),r.Ea.add(5),await yc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):un("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class Px{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{tt(Ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(tt(Ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Uy(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ng(s,t){s.asyncQueue.verifyOperationInProgress(),tt(Ts,"Initializing OfflineComponentProvider");const e=s.configuration;await t.initialize(e);let r=e.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await kw(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function kS(s,t){s.asyncQueue.verifyOperationInProgress();const e=await kx(s);tt(Ts,"Initializing OnlineComponentProvider"),await t.initialize(e,s.configuration),s.setCredentialChangeListener((r=>NS(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>NS(t.remoteStore,o))),s._onlineComponents=t}async function kx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){tt(Ts,"Using user provided OfflineComponentProvider");try{await ng(s,s._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Hu("Error using user provided cache. Falling back to memory cache: "+e),await ng(s,new rc)}}else tt(Ts,"Using default OfflineComponentProvider"),await ng(s,new Vx(void 0));return s._offlineComponents}async function nI(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(tt(Ts,"Using user provided OnlineComponentProvider"),await kS(s,s._uninitializedComponentsProvider._online)):(tt(Ts,"Using default OnlineComponentProvider"),await kS(s,new Zf))),s._onlineComponents}function Lx(s){return nI(s).then((t=>t.syncEngine))}async function Ux(s){const t=await nI(s),e=t.eventManager;return e.onListen=Ex.bind(null,t.syncEngine),e.onUnlisten=Ax.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Tx.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bx.bind(null,t.syncEngine),e}function zx(s,t,e={}){const r=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const E=new xx({next:b=>{E.Nu(),c.enqueueAndForget((()=>fx(u,T))),b.fromCache&&p.source==="server"?g.reject(new nt(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new px(m,E,{includeMetadataChanges:!0,qa:!0});return hx(u,T)})(await Ux(s),s.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="firestore.googleapis.com",US=!0;class zS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bx,this.ssl=US}else this.host=t.host,this.ssl=t.ssl??US;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Cw)throw new nt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iI(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jy{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SO;switch(r.type){case"firstParty":return new wO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=LS.get(e);r&&(tt("ComponentProvider","Removing Datastore"),LS.delete(e),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ws(this.firestore,t,this._query)}}class Oe{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(fc(e,Oe._jsonSchema))return new Oe(t,r||null,new st(Ht.fromString(e.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Ne("string",Oe._jsonSchemaVersion),referencePath:Ne("string")};class gs extends ws{constructor(t,e,r){super(t,e,_y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new st(t))}withConverter(t){return new gs(this.firestore,t,this._path)}}function rI(s,t,...e){if(s=Ue(s),fb("collection","path",t),s instanceof jy){const r=Ht.fromString(t,...e);return D0(r),new gs(s,null,r)}{if(!(s instanceof Oe||s instanceof gs))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ht.fromString(t,...e));return D0(r),new gs(s.firestore,null,r)}}function qx(s,t,...e){if(s=Ue(s),arguments.length===1&&(t=oy.newId()),fb("doc","path",t),s instanceof jy){const r=Ht.fromString(t,...e);return C0(r),new Oe(s,null,new st(r))}{if(!(s instanceof Oe||s instanceof gs))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ht.fromString(t,...e));return C0(r),new Oe(s.firestore,s instanceof gs?s.converter:null,new st(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="AsyncQueue";class qS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zw(this,"async_queue_retry"),this._c=()=>{const r=Af();r&&tt(BS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Af();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Af();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!As(t))throw t;tt(BS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,un("INTERNAL UNHANDLED ERROR: ",jS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Ly.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:jS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function jS(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Cd extends jy{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new qS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qS(t),this._firestoreClient=void 0,await t}}}function jx(s,t,e){e||(e=qf);const r=Jg(s,"firestore");if(r.isInitialized(e)){const o=r.getImmediate({identifier:e}),u=r.getOptions(e);if(_a(u,t))return o;throw new nt(Q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new nt(Q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Cw)throw new nt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&rl(t.host)&&mA(t.host),r.initialize({options:t,instanceIdentifier:e})}function sI(s){if(s._terminated)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Fx(s),s._firestoreClient}function Fx(s){const t=s._freezeSettings(),e=(function(o,u,c,m){return new hV(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iI(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Px(s._authCredentials,s._appCheckCredentials,s._queue,e,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(Ve.fromBase64String(t))}catch(e){throw new nt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qn(Ve.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fc(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ne("string",Qn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new nt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new he(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new nt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(fc(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ne("string",zi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fc(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Bi(t.vectorValues);throw new nt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ne("string",Bi._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=/^__.*__$/;class Gx{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Tr(t,this.data,this.fieldMask,e,this.fieldTransforms):new ul(t,this.data,e,this.fieldTransforms)}}class aI{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Tr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function oI(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:s})}}class Hy{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Hy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oI(this.Ac)&&Hx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Kx{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Id(t)}Cc(t,e,r,o=!1){return new Hy({Ac:t,methodName:e,Dc:r,path:he.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(s){const t=s._freezeSettings(),e=Id(s._databaseId);return new Kx(s._databaseId,!!t.ignoreUndefinedProperties,e)}function Qx(s,t,e,r,o,u={}){const c=s.Cc(u.merge||u.mergeFields?2:0,t,e,o);Ky("Data must be an object, but it was:",c,r);const m=lI(r,c);let p,g;if(u.merge)p=new _n(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=jg(t,T,e);if(!c.contains(b))throw new nt(Q.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);cI(E,b)||E.push(b)}p=new _n(E),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new Gx(new nn(m),p,g)}class Nd extends Fy{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nd}}function Yx(s,t,e,r){const o=s.Cc(1,t,e);Ky("Data must be an object, but it was:",o,r);const u=[],c=nn.empty();bs(r,((p,g)=>{const E=Qy(t,p,e);g=Ue(g);const T=o.yc(E);if(g instanceof Nd)u.push(E);else{const b=Ec(g,T);b!=null&&(u.push(E),c.set(E,b))}}));const m=new _n(u);return new aI(c,m,o.fieldTransforms)}function Xx(s,t,e,r,o,u){const c=s.Cc(1,t,e),m=[jg(t,r,e)],p=[o];if(u.length%2!=0)throw new nt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(jg(t,u[b])),p.push(u[b+1]);const g=[],E=nn.empty();for(let b=m.length-1;b>=0;--b)if(!cI(g,m[b])){const x=m[b];let H=p[b];H=Ue(H);const Z=c.yc(x);if(H instanceof Nd)g.push(x);else{const K=Ec(H,Z);K!=null&&(g.push(x),E.set(x,K))}}const T=new _n(g);return new aI(E,T,c.fieldTransforms)}function $x(s,t,e,r=!1){return Ec(e,s.Cc(r?4:3,t))}function Ec(s,t){if(uI(s=Ue(s)))return Ky("Unsupported field value:",t,s),lI(s,t);if(s instanceof Fy)return(function(r,o){if(!oI(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Ec(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Xt.fromDate(r);return{timestampValue:nl(o.serializer,u)}}if(r instanceof Xt){const u=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nl(o.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:lw(o.serializer,r._byteString)};if(r instanceof Oe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Bi)return(function(c,m){return{mapValue:{fields:{[py]:{stringValue:gy},[$o]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return vy(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${hd(r)}`)})(s,t)}function lI(s,t){const e={};return Cb(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(s,((r,o)=>{const u=Ec(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function uI(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Xt||s instanceof zi||s instanceof Qn||s instanceof Oe||s instanceof Fy||s instanceof Bi)}function Ky(s,t,e){if(!uI(e)||!db(e)){const r=hd(e);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function jg(s,t,e){if((t=Ue(t))instanceof Dd)return t._internalPath;if(typeof t=="string")return Qy(s,t);throw Wf("Field path arguments must be of type string or ",s,!1,void 0,e)}const Jx=new RegExp("[~\\*/\\[\\]]");function Qy(s,t,e){if(t.search(Jx)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,e);try{return new Dd(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,e)}}function Wf(s,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new nt(Q.INVALID_ARGUMENT,m+s+p)}function cI(s,t){return s.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Od("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Zx extends hI{data(){return super.data()}}function Od(s,t){return typeof t=="string"?Qy(s,t):t instanceof Dd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yy{}class Xy extends Yy{}function fI(s,t,...e){let r=[];t instanceof Yy&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((p=>p instanceof $y)).length,m=u.filter((p=>p instanceof Vd)).length;if(c>1||c>0&&m>0)throw new nt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Vd extends Xy{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Vd(t,e,r)}_apply(t){const e=this._parse(t);return mI(t._query,e),new ws(t.firestore,t.converter,Ng(t._query,e))}_parse(t){const e=Gy(t.firestore);return(function(u,c,m,p,g,E,T){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){HS(T,E);const H=[];for(const Z of T)H.push(FS(p,u,Z));b={arrayValue:{values:H}}}else b=FS(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||HS(T,E),b=$x(m,c,T,E==="in"||E==="not-in");return Pt.create(g,E,b)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function tP(s,t,e){const r=t,o=Od("where",s);return Vd._create(o,r,e)}class $y extends Yy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new $y(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:$t.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)mI(c,p),c=Ng(c,p)})(t._query,e),new ws(t.firestore,t.converter,Ng(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jy extends Xy{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Jy(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new nt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new nt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(u,c)})(t._query,this._field,this._direction);return new ws(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new ll(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function dI(s,t="asc"){const e=t,r=Od("orderBy",s);return Jy._create(r,e)}class Zy extends Xy{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Zy(t,e,r)}_apply(t){return new ws(t.firestore,t.converter,Hf(t._query,this._limit,this._limitType))}}function eP(s){return Zy._create("limit",s,"F")}function FS(s,t,e){if(typeof(e=Ue(e))=="string"){if(e==="")throw new nt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gb(t)&&e.indexOf("/")!==-1)throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Ht.fromString(e));if(!st.isDocumentKey(r))throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wu(s,new st(r))}if(e instanceof Oe)return Wu(s,e._key);throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(e)}.`)}function HS(s,t){if(!Array.isArray(s)||s.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mI(s,t){const e=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class nP{convertValue(t,e="none"){switch(_s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return bs(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[$o].arrayValue?.values?.map((r=>ue(r.doubleValue)));return new Bi(e)}convertGeoPoint(t){return new zi(ue(t.latitude),ue(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=yd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Ju(t));default:return null}}convertTimestamp(t){const e=gr(t);return new Xt(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ht.fromString(t);pt(_w(r),9688,{name:t});const o=new Aa(r.get(1),r.get(3)),u=new st(r.popFirst(5));return o.isEqual(e)||un(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(s,t,e){let r;return r=s?s.toFirestore(t):t,r}class lf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zo extends hI{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Od("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=zo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:Ne("string",zo._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class bf extends zo{data(t={}){return super.data(t)}}class Bo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new lf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new bf(this._firestore,this._userDataWriter,r.key,r,new lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new nt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new bf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),E=c.indexOf(m.doc.key)),{type:rP(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Ne("string",Bo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class sP extends nP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,e)}}function pI(s){s=Go(s,ws);const t=Go(s.firestore,Cd),e=sI(t),r=new sP(t);return Wx(s._query),zx(e,s._query).then((o=>new Bo(t,r,s,o)))}function aP(s,t,e){s=Go(s,Oe);const r=Go(s.firestore,Cd),o=iP(s.converter,t);return gI(r,[Qx(Gy(r),"setDoc",s._key,o,s.converter!==null,e).toMutation(s._key,vn.none())])}function OP(s,t,e,...r){s=Go(s,Oe);const o=Go(s.firestore,Cd),u=Gy(o);let c;return c=typeof(t=Ue(t))=="string"||t instanceof Dd?Xx(u,"updateDoc",s._key,t,e,r):Yx(u,"updateDoc",s._key,t),gI(o,[c.toMutation(s._key,vn.exists(!0))])}function gI(s,t){return(function(r,o){const u=new fr;return r.asyncQueue.enqueueAndForget((async()=>wx(await Lx(r),o,u))),u.promise})(sI(s),t)}class oP{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=cP(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function lP(s){return new oP(s)}class uP{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=Zf.provider,this._offlineComponentProvider={build:e=>new Mx(e,t?.cacheSizeBytes,this.forceOwnership)}}}function cP(s){return new uP(s?.forceOwnership)}(function(t,e=!0){(function(o){ol=o})(sl),jo(new va("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Cd(new AO(r.getProvider("auth-internal")),new IO(c,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new nt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(g.options.projectId,E)})(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ds(b0,w0,t),ds(b0,w0,"esm2020")})();const hP={apiKey:"AIzaSyAAYW1uIaayt4Dw4JwOygNPpQeUrn-F3f8",authDomain:"weigth-4bc4f.firebaseapp.com",projectId:"weigth-4bc4f",storageBucket:"weigth-4bc4f.firebasestorage.app",messagingSenderId:"970793021929",appId:"1:970793021929:web:2ebeafb3867b1d688edb78"},fP=TA(hP),Wy=jx(fP,{localCache:lP()}),td=vO(),t_=[{icon:"hamburger",title:"  ",price:-1500,id:1,discount:2/3,display:!0,daily:!0},{icon:"utensils",title:"  ",price:-4e3,id:2,discount:.75,display:!0,daily:!0},{icon:"plug-zap",title:" ",price:-2e5,id:3,discount:.7,display:!0,daily:!1},{icon:"briefcase-business",title:"  ",price:-1e6,id:4,discount:.85,display:!0,daily:!1},{icon:"user",title:"  20 ",price:-2500,id:5,discount:.5,display:!0,daily:!0},{icon:"footprints",title:"   7 ",price:-1500,id:6,discount:2/3,display:!0,daily:!0},{icon:"egg-fried",title:" ",price:-2500,id:7,discount:4/5,display:!0,daily:!0},{icon:"sprout",title:"  ",price:-1500,id:8,discount:4/5,display:!0,daily:!0}],VP=Object.freeze(Object.defineProperty({__proto__:null,awards:t_},Symbol.toStringTag,{value:"Module"})),e_=[{icon:"bed-double",title:"   10 ",price:50,id:1,discount:2,display:!1,daily:!0},{icon:"cooking-pot",title:" ",price:100,id:2,discount:1.5,display:!0,daily:!0},{icon:"footprints",title:" 20   ",price:100,id:3,discount:2.5,display:!0,daily:!0},{icon:"smile",title:"  2   ",price:100,id:4,discount:1.2,display:!0,daily:!0},{icon:"biceps-flexed",title:"  ",price:200,id:5,discount:1.2,display:!0,daily:!0},{icon:"brush-cleaning",title:" 15 ",price:100,id:6,discount:1.5,display:!0,daily:!0},{icon:"bike",title:" 10 ",price:150,id:7,discount:2,display:!0,daily:!0},{icon:"heart-handshake",title:"   7 ",price:1e3,id:8,discount:1.2,display:!0,daily:!0},{icon:"instagram",title:"    ",price:1e3,id:9,discount:1.1,display:!0,daily:!1},{icon:"book-heart",title:"    ",price:1500,id:10,discount:1.25,display:!0,daily:!0},{icon:"bed-double",title:"   11 ",price:50,id:11,discount:2,display:!0,daily:!0},{icon:"volleyball",title:" ",price:1e3,id:12,discount:1.2,display:!0,daily:!1},{icon:"person-standing",title:" 5 ",price:75,id:13,discount:4/3,display:!0,daily:!0},{icon:"user",title:"  15 ",price:1e3,id:14,discount:5/4,display:!0,daily:!0},{icon:"bike",title:" 15 ",price:250,id:15,discount:2,display:!0,daily:!0}],MP=Object.freeze(Object.defineProperty({__proto__:null,tasks:e_},Symbol.toStringTag,{value:"Module"}));function ed(s,t){const e=[];let r=0;for(;r<t;){const o=Math.floor(Math.random()*s.length);!e.includes(o)&&s[o].display&&(e.push(o),r++)}return e.map(o=>s[o].id)}const dP={startWeight:null,startWeightDate:null,targetWeight:null,maxCallories:null,currentWeight:null,currentWeightDate:null,currentCalloriesDate:null,currentCallories:0,balance:0,completedTasks:[],completedAwards:[],tasksDay:ed(e_,2),awardsDay:ed(t_,1),lastDateOfLoad:ad(),timestamp:Date.now()},mP={currentCallories:0,completedAwards:[],completedTasks:[],tasksDay:ed(e_,2),awardsDay:ed(t_,1),lastDateOfLoad:ad(),timestamp:Date.now()},pP=async()=>{let s=null;if(td.currentUser){const t=[],e=fI(rI(Wy,td.currentUser.uid),tP("timestamp","!=","undefined"),dI("timestamp","desc"),eP(1));(await pI(e)).forEach(o=>{t.push(o.data())}),s=t[0],s&&s?.lastDateOfLoad!==ad()&&(s={...s,...mP})}return s},gP=async s=>{await aP(qx(Wy,td.currentUser?.uid,ad()),s)},yI=Qg("storage/initialState",async()=>await pP()),n_=Yg({name:"storage",initialState:dP,reducers:{handleSave:(s,t)=>{const e={...s,...t.payload};return gP(e),e}},extraReducers(s){s.addCase(yI.fulfilled,(t,e)=>e.payload)}}),xP=Object.freeze(Object.defineProperty({__proto__:null,initialState:yI,storageSlice:n_},Symbol.toStringTag,{value:"Module"})),_I=async s=>{const t=fI(rI(Wy,`${td.currentUser?.uid}/tasksOrAwards/${s}`),dI("id")),e=await pI(t),r=[];if(e.forEach(u=>{r.push(u.data())}),r.length)return r;const{getDefaultList:o}=await GS(async()=>{const{getDefaultList:u}=await import("./getDefaultList-BBUhBUv5.js");return{getDefaultList:u}},[]);return await o(s)},vI=Qg("storage/getTasks",async()=>await _I("tasks")),EI=Yg({name:"tasks",initialState:[],reducers:{},extraReducers(s){s.addCase(vI.fulfilled,(t,e)=>e.payload)}}),PP=Object.freeze(Object.defineProperty({__proto__:null,getTasks:vI,tasksSlice:EI},Symbol.toStringTag,{value:"Module"})),TI=Qg("storage/getAwards",async()=>await _I("awards")),SI=Yg({name:"awards",initialState:[],reducers:{},extraReducers(s){s.addCase(TI.fulfilled,(t,e)=>e.payload)}}),kP=Object.freeze(Object.defineProperty({__proto__:null,awardsSlice:SI,getAwards:TI},Symbol.toStringTag,{value:"Module"})),{handleSave:LP}=n_.actions,yP=oC({reducer:{storage:n_.reducer,tasks:EI.reducer,awards:SI.reducer}}),_P=He.lazy(()=>GS(()=>import("./App-BH_bvr0d.js").then(s=>s.A),[]));dR.createRoot(document.getElementById("root")).render(De.jsx(He.StrictMode,{children:De.jsx(OR,{store:yP,children:De.jsx(He.Suspense,{fallback:De.jsx(mR,{}),children:De.jsx(_P,{})})})}));export{RP as A,SP as B,TP as C,VP as D,MP as E,xP as F,PP as G,mR as H,kP as I,EP as R,GS as _,bP as a,td as b,Wy as c,qx as d,dI as e,rI as f,pI as g,IP as h,wP as i,De as j,pP as k,LP as l,vP as m,aR as n,CP as o,nR as p,fI as q,He as r,aP as s,cR as t,AP as u,DP as v,tP as w,vO as x,OP as y,ad as z};
