const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WarningDialog-BQySE1u1.js","assets/index-1x5LbHdv.js","assets/index-BUjQ1emK.css","assets/button-hapViWYP.js","assets/utils-CrxeQ0c-.js","assets/dialog-CFGeh51L.js","assets/index-ydBVWiG5.js","assets/App-Bu1h9DHy.js"])))=>i.map(i=>d[i]);
import{r as i,j as a,H as S,s as W,n as I,p as k,_ as E,e as d}from"./index-1x5LbHdv.js";import{D as N,a as O,b as F,c as H,d as y}from"./dialog-CFGeh51L.js";import{I as f}from"./input-B8R42UPB.js";import{u as A}from"./index.esm-F0_rkXYQ.js";import{L as p}from"./label-FPnNtzt1.js";import{B as h}from"./button-hapViWYP.js";import{w as r}from"./warningToast-CDm6y5iS.js";import{s as L}from"./successToast-B7ULPK8U.js";import"./utils-CrxeQ0c-.js";import"./index-ydBVWiG5.js";import"./App-Bu1h9DHy.js";function K({isOpen:g,onOpenChange:n}){const[x,e]=i.useState(!1),j=({email:s,password:t})=>{e(!0),W(d,s,t).then(m).catch(u=>{switch(u.code){case"auth/invalid-credential":I(d,s,t).then(m).catch(v=>{e(!1),r(v.code)});break;case"auth/weak-password":e(!1),r("Неверный пароль");break;case"auth/invalid-email":e(!1),r("Неверный email");break;default:e(!1),r(u.code);break}})},{register:o,handleSubmit:b}=A(),[l,_]=i.useState(null),w=async()=>{e(!0);const s=(await E(async()=>{const{default:t}=await import("./WarningDialog-BQySE1u1.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6,7]))).default;_(()=>s),e(!1)},[D,c]=i.useState(!1),m=async()=>{n(!1),e(!1),localStorage.getItem(k)?await w().then(()=>c(!0)):L("Успешно!")};return a.jsxs(a.Fragment,{children:[a.jsx(N,{open:g,onOpenChange:n,children:a.jsx(O,{showCloseButton:!1,className:"sm:max-w-[425px]",onOpenAutoFocus:s=>s.preventDefault(),children:a.jsxs("form",{onSubmit:b(j),children:[a.jsx(F,{className:"mb-7",children:a.jsx(H,{children:"Вход по почте"})}),a.jsx(p,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(f,{...o("email"),className:"mb-5"}),a.jsx(p,{className:"mb-2",children:"Пароль"}),a.jsx(f,{...o("password"),className:"mb-5"}),a.jsxs(y,{children:[a.jsx(h,{variant:"outline",onClick:s=>{s.preventDefault(),n(!1)},children:"Отмена"}),a.jsx(h,{type:"submit",variant:"rose",children:"Войти"})]})]})})}),x&&a.jsx(S,{}),l&&a.jsx(l,{isOpen:D,onOpenChange:c,variant:"delete"})]})}export{K as default};
