import{r as b,j as a,H as g,h as j,i as w,k as D,l as S,b as l}from"./index-ClrLQSZE.js";import{D as k,a as N,b as v,c as F,d as H}from"./dialog-BF0vbof9.js";import{I as m}from"./input-W3LLUZWf.js";import{u as A}from"./index.esm-CAHUf0xj.js";import{L as c}from"./label-CFJuP5UY.js";import{B as E}from"./button-KM2B4vHL.js";import{w as r}from"./warningToast-7bkvnQhp.js";import{s as I}from"./successToast-C1SR_Kl8.js";import{u as B,a as L}from"./App-CMlEbArH.js";import"./utils-BHoiX9Iq.js";import"./index-H8DnZlhh.js";import"./index-1PvZuP6t.js";import"./x-DPX21h8e.js";import"./createLucideIcon-Jlfy7AOM.js";import"./index-Ma4UNQla.js";function V(){const[p,e]=b.useState(!1),u=B(),d=L(),o=async()=>{let s=0,t=null;for(;t===null&&s<5;)t=await D(),s++;t||d(S(u)),e(!1),I("Успешно!")},h=({email:s,password:t})=>{e(!0),j(l,s,t).then(o).catch(n=>{switch(n.code){case"auth/invalid-credential":w(l,s,t).then(o).catch(x=>{e(!1),r(x.code)});break;case"auth/weak-password":e(!1),r("Неверный пароль");break;case"auth/invalid-email":e(!1),r("Неверный email");break;default:e(!1),r(n.code);break}})},{register:i,handleSubmit:f}=A();return a.jsxs(a.Fragment,{children:[a.jsx(k,{open:!0,children:a.jsx(N,{showCloseButton:!1,className:"sm:max-w-[425px] z-200",onOpenAutoFocus:s=>s.preventDefault(),children:a.jsxs("form",{onSubmit:f(h),children:[a.jsx(v,{className:"mb-7",children:a.jsx(F,{children:"Вход по почте"})}),a.jsx(c,{className:"mb-2",children:"Адрес электронной почты"}),a.jsx(m,{...i("email"),className:"mb-5"}),a.jsx(c,{className:"mb-2",children:"Пароль"}),a.jsx(m,{...i("password"),className:"mb-5"}),a.jsx(H,{children:a.jsx(E,{type:"submit",variant:"rose",children:"Войти"})})]})})}),p&&a.jsx(g,{})]})}export{V as default};
