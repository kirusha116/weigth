const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InputString-BrCj0E3p.js","assets/index-1x5LbHdv.js","assets/index-BUjQ1emK.css","assets/input-B8R42UPB.js","assets/utils-CrxeQ0c-.js","assets/label-FPnNtzt1.js","assets/index-ydBVWiG5.js","assets/App-Bu1h9DHy.js","assets/index.esm-F0_rkXYQ.js","assets/successToast-B7ULPK8U.js","assets/InputWeight-BII6jtbO.js","assets/InputCallories-DO5LXxac.js","assets/FormButtons-BDeJRyQD.js","assets/button-hapViWYP.js"])))=>i.map(i=>d[i]);
import{l as b,o as y,r as i,j as a,e as g,m as d,h as C,_ as m}from"./index-1x5LbHdv.js";import{u as j}from"./index.esm-F0_rkXYQ.js";import{b as E,u as D}from"./App-Bu1h9DHy.js";import{s as O}from"./successToast-B7ULPK8U.js";const e={name:"name",startWeight:"startWeight",targetWeight:"targetWeight",maxCallories:"maxCallories"},L={[e.name]:"Имя",[e.startWeight]:"Начальный вес",[e.targetWeight]:"Цель",[e.maxCallories]:"Допустимое количество каллорий в день"};function v(r,s){const t={};return r.startWeight&&(t.startWeight=Number(r.startWeight)),r.targetWeight&&(t.targetWeight=Number(r.targetWeight)),r.maxCallories&&(t.maxCallories=Number(r.maxCallories)),!s&&t.startWeight&&(t.startWeightDate=b(),t.currentWeightDate=t.startWeightDate,t.currentWeight=t.startWeight),t}const I=i.lazy(()=>m(()=>import("./InputString-BrCj0E3p.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),W=i.lazy(()=>m(()=>import("./InputWeight-BII6jtbO.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]))),N=i.lazy(()=>m(()=>import("./InputCallories-DO5LXxac.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9]))),P=i.lazy(()=>m(()=>import("./FormButtons-BDeJRyQD.js"),__vite__mapDeps([12,1,2,13,4])));function A(){const r=E(),s=void 0,{startWeight:t,targetWeight:l,maxCallories:u,startWeightDate:_}=D(),{register:o,handleSubmit:p,reset:h,setValue:n}=j({defaultValues:{name:s,startWeight:t?.toString(),targetWeight:l?.toString(),maxCallories:u?.toString()}});y(g,()=>{n("name",g.currentUser?.displayName)}),i.useEffect(()=>{h({name:s,startWeight:t?.toString(),targetWeight:l?.toString(),maxCallories:u?.toString()})},[r,u,s,h,t,l]);const f=async c=>{g.currentUser?.displayName!==c.name&&await d(g.currentUser,{displayName:s});const x=Object.fromEntries(Object.entries(c).filter(S=>S[0]!=="name"));r(C(v(x,_))),O("Сохранено!")};return a.jsxs("form",{onSubmit:p(f),children:[a.jsx(I,{settingsKey:e.name,register:o(e.name)}),a.jsx(W,{settingsKey:e.startWeight,register:o(e.startWeight),setValue:n}),a.jsx(W,{settingsKey:e.targetWeight,register:o(e.targetWeight),setValue:n}),a.jsx(N,{settingsKey:e.maxCallories,register:o(e.maxCallories),setValue:n}),a.jsx(P,{reset:h})]})}const R=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{R as F,L as s};
