import{r as b,j as s,H as g}from"./index-B2AH5Xp-.js";import{D as w,a as D,b as k,c as N,d as v}from"./dialog-CHrwmIXW.js";import{I as c}from"./input-DGyw0aDW.js";import{u as H}from"./index.esm-BvtkN5rO.js";import"./App-BfFn9QIi.js";import{g as E,s as F,c as I}from"./index-9ccb475d-BqaReXhO.js";import{L as d}from"./label-C_TsPUEh.js";import{B as u}from"./button-Duuf_EL1.js";import{w as t}from"./warningToast-C2-LtPK-.js";import{s as S}from"./successToast-NKSpL8y7.js";import"./utils-USqDSMMR.js";import"./index-DJl2zPdm.js";function G({isOpen:f,onOpenChange:r}){const i=E(),[h,a]=b.useState(!1),o=()=>{r(!1),a(!1),S("Успешно!")},p=({email:e,password:m})=>{a(!0),F(i,e,m).then(o).catch(n=>{switch(n.code){case"auth/invalid-credential":I(i,e,m).then(o).catch(j=>{a(!1),t(j.code)});break;case"auth/weak-password":a(!1),t("Неверный пароль");break;case"auth/invalid-email":a(!1),t("Неверный email");break;default:a(!1),t(n.code);break}})},{register:l,handleSubmit:x}=H();return s.jsxs(s.Fragment,{children:[s.jsx(w,{open:f,onOpenChange:r,children:s.jsx(D,{showCloseButton:!1,className:"sm:max-w-[425px]",children:s.jsxs("form",{onSubmit:x(p),children:[s.jsx(k,{className:"mb-7",children:s.jsx(N,{children:"Вход по почте"})}),s.jsx(d,{className:"mb-2",children:"Адрес электронной почты"}),s.jsx(c,{...l("email"),className:"mb-5"}),s.jsx(d,{className:"mb-2",children:"Пароль"}),s.jsx(c,{...l("password"),className:"mb-5"}),s.jsxs(v,{children:[s.jsx(u,{variant:"outline",onClick:e=>{e.preventDefault(),r(!1)},children:"Отмена"}),s.jsx(u,{type:"submit",variant:"rose",children:"Войти"})]})]})})}),h&&s.jsx(g,{})]})}export{G as default};
