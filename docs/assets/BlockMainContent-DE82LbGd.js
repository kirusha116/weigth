import{c as C,r as p,j as e}from"./index-CN-4iMuD.js";import{B as x}from"./button-CfQGQ6Ll.js";import{D as V,f as _,a as E,b as A,c as R,e as S,d as L,g,h as B}from"./dialog-BsdOtETO.js";import{I as j}from"./input-lg6fQFwK.js";import{P as y}from"./index-Dcn99abW.js";import{c as F}from"./utils-D_EGMbRk.js";import{u as T}from"./index-D3veE8z-.js";import"./App-BZekypBN.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],z=C("calendar-days",O);function G({variant:a,dialogTriggerText:t,dialogHeader:i,defaultValue:n,onSave:s}){const[c,u]=p.useState();return e.jsxs(V,{children:[e.jsx(_,{asChild:!0,children:e.jsx(x,{variant:"rose",className:"block text-base leading-4 mb-4 mx-auto w-9/10",children:t})}),e.jsxs(E,{onOpenAutoFocus:r=>r.preventDefault(),showCloseButton:!1,className:"w-auto px-5 py-4",onCloseAutoFocus:()=>u(n),children:[e.jsxs(A,{children:[e.jsx(R,{className:"m-auto mb-2 text-2xl",children:i}),e.jsxs(S,{className:"text-sm flex items-center mb-3",children:[e.jsx(z,{className:"inline-block mx-2 size-4.5"}),e.jsx("span",{children:`Сегодня - 
                    ${new Date().toLocaleString("ru",{year:"numeric",month:"long",day:"numeric"})}`})]})]}),a==="weight"&&e.jsx(j,{className:"mb-3",type:"text",inputMode:"decimal",lang:"en",step:"any",pattern:"[0-9]*",enterKeyHint:"done",onPaste:r=>r.preventDefault(),value:c,onInput:r=>{let l=r.target.value.replace(/[^0-9.,]/g,"");l=l.replace(",",".");const d=l.split(".");d.length>2&&(l=d[0]+"."+d.slice(1).join("")),Number(l)%1&&(l=(Math.floor(Number(l)*10)/10).toString()),u(l)}}),a==="callories"&&e.jsx(j,{className:"mb-3",type:"number",value:c,onPaste:r=>r.preventDefault(),onInput:r=>{const l=r.target.value.replace(/[^0-9]/g,"");u(l)}}),e.jsxs(L,{children:[e.jsx(g,{asChild:!0,children:e.jsx(x,{variant:"outline",onClick:()=>{c&&s(Number(c))},children:"Сохранить"})}),e.jsx(g,{asChild:!0,children:e.jsx(x,{variant:"rose",children:"Отмена"})})]})]})]})}var h="Progress",f=100,[H]=B(h),[X,K]=H(h),P=p.forwardRef((a,t)=>{const{__scopeProgress:i,value:n=null,max:s,getValueLabel:c=Q,...u}=a;(s||s===0)&&!b(s)&&console.error(U(`${s}`,"Progress"));const r=b(s)?s:f;n!==null&&!N(n,r)&&console.error(q(`${n}`,"Progress"));const o=N(n,r)?n:null,l=m(o)?c(o,r):void 0;return e.jsx(X,{scope:i,value:o,max:r,children:e.jsx(y.div,{"aria-valuemax":r,"aria-valuemin":0,"aria-valuenow":m(o)?o:void 0,"aria-valuetext":l,role:"progressbar","data-state":w(o,r),"data-value":o??void 0,"data-max":r,...u,ref:t})})});P.displayName=h;var D="ProgressIndicator",M=p.forwardRef((a,t)=>{const{__scopeProgress:i,...n}=a,s=K(D,i);return e.jsx(y.div,{"data-state":w(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});M.displayName=D;function Q(a,t){return`${Math.round(a/t*100)}%`}function w(a,t){return a==null?"indeterminate":a===t?"complete":"loading"}function m(a){return typeof a=="number"}function b(a){return m(a)&&!isNaN(a)&&a>0}function N(a,t){return m(a)&&!isNaN(a)&&a<=t&&a>=0}function U(a,t){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${f}\`.`}function q(a,t){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${f} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var J=P,W=M;function Y({className:a,value:t,...i}){return e.jsx(J,{"data-slot":"progress",className:F("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...i,children:e.jsx(W,{"data-slot":"progress-indicator",className:"h-full w-full flex-1 transition-all bg-gray-300",style:{transform:`translateX(+${t}%)`}})})}function oe({variant:a,icon:t,title1:i,title2:n,dialogTriggerText:s,dialogHeader:c,titleNumber:u,isButtonVisible:r,defaultDialogValue:o,progressValue:l,progressText:d,indicatorStyle:k,footerText:$,onSave:I}){const v=!T("(min-width: 400.5px)");return e.jsxs(e.Fragment,{children:[!v&&e.jsxs("div",{className:"flex flex-row justify-around items-center mb-3",children:[t,e.jsx("div",{className:"grow flex flex-row justify-center items-end",children:e.jsxs("p",{children:[e.jsx("b",{className:"text-xl mb-2",children:i+" -"}),e.jsx("b",{className:"text-4xl mb-2",children:` ${u} `}),e.jsx("b",{className:"text-2xl mb-2",children:n})]})})]}),v&&e.jsxs("div",{className:"flex flex-row justify-around items-center mb-3",children:[t,e.jsxs("div",{className:"grow",children:[e.jsx("p",{className:"text-xl text-center",children:e.jsx("b",{children:i})}),e.jsxs("p",{className:"text-xl mb-1 text-center",children:[e.jsx("b",{className:"text-4xl",children:` ${u} `}),e.jsx("b",{className:"text-2xl",children:n})]})]})]}),r&&e.jsx(G,{variant:a,dialogTriggerText:s,dialogHeader:c,defaultValue:o,onSave:I}),e.jsx(Y,{value:l,className:`mb-2 ${k}`}),e.jsx("p",{className:"text-center",children:d}),e.jsx("p",{className:"text-center mt-2",children:`Не забывай записывать ${$}!`}),e.jsx("p",{className:"text-center",children:"Каждый день за это ты получаешь звёздочки!"})]})}export{oe as default};
